/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/dashboard/page";
exports.ids = ["app/dashboard/page"];
exports.modules = {

/***/ "./action-async-storage.external":
/*!****************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external" ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "./request-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "./static-generation-async-storage.external":
/*!***************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external" ***!
  \***************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fdashboard%2Fpage&page=%2Fdashboard%2Fpage&appPaths=%2Fdashboard%2Fpage&pagePath=private-next-app-dir%2Fdashboard%2Fpage.tsx&appDir=E%3A%5CEEMS-Front%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CEEMS-Front&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fdashboard%2Fpage&page=%2Fdashboard%2Fpage&appPaths=%2Fdashboard%2Fpage&pagePath=private-next-app-dir%2Fdashboard%2Fpage.tsx&appDir=E%3A%5CEEMS-Front%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CEEMS-Front&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?d969\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'dashboard',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/dashboard/page.tsx */ \"(rsc)/./src/app/dashboard/page.tsx\")), \"E:\\\\EEMS-Front\\\\src\\\\app\\\\dashboard\\\\page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/layout.tsx */ \"(rsc)/./src/app/layout.tsx\")), \"E:\\\\EEMS-Front\\\\src\\\\app\\\\layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"E:\\\\EEMS-Front\\\\src\\\\app\\\\dashboard\\\\page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/dashboard/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/dashboard/page\",\n        pathname: \"/dashboard\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZkYXNoYm9hcmQlMkZwYWdlJnBhZ2U9JTJGZGFzaGJvYXJkJTJGcGFnZSZhcHBQYXRocz0lMkZkYXNoYm9hcmQlMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGZGFzaGJvYXJkJTJGcGFnZS50c3gmYXBwRGlyPUUlM0ElNUNFRU1TLUZyb250JTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1FJTNBJTVDRUVNUy1Gcm9udCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGFBQWEsc0JBQXNCO0FBQ2lFO0FBQ3JDO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyx1QkFBdUIsb0tBQWtGO0FBQ3pHO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EseUJBQXlCLG9KQUF5RTtBQUNsRyxvQkFBb0IsME5BQWdGO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUN1QjtBQUM2RDtBQUNwRiw2QkFBNkIsbUJBQW1CO0FBQ2hEO0FBQ087QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUN1RDtBQUN2RDtBQUNPLHdCQUF3Qiw4R0FBa0I7QUFDakQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXRlcm5hbGd5LWVtcy1mcm9udGVuZC8/NDAwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcIlRVUkJPUEFDSyB7IHRyYW5zaXRpb246IG5leHQtc3NyIH1cIjtcbmltcG9ydCB7IEFwcFBhZ2VSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1wYWdlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbi8vIFdlIGluamVjdCB0aGUgdHJlZSBhbmQgcGFnZXMgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IHRyZWUgPSB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICcnLFxuICAgICAgICB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICdkYXNoYm9hcmQnLFxuICAgICAgICB7XG4gICAgICAgIGNoaWxkcmVuOiBbJ19fUEFHRV9fJywge30sIHtcbiAgICAgICAgICBwYWdlOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJFOlxcXFxFRU1TLUZyb250XFxcXHNyY1xcXFxhcHBcXFxcZGFzaGJvYXJkXFxcXHBhZ2UudHN4XCIpLCBcIkU6XFxcXEVFTVMtRnJvbnRcXFxcc3JjXFxcXGFwcFxcXFxkYXNoYm9hcmRcXFxccGFnZS50c3hcIl0sXG4gICAgICAgICAgXG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgJ2xheW91dCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkU6XFxcXEVFTVMtRnJvbnRcXFxcc3JjXFxcXGFwcFxcXFxsYXlvdXQudHN4XCIpLCBcIkU6XFxcXEVFTVMtRnJvbnRcXFxcc3JjXFxcXGFwcFxcXFxsYXlvdXQudHN4XCJdLFxuJ25vdC1mb3VuZCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIiksIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL25vdC1mb3VuZC1lcnJvclwiXSxcbiAgICAgICAgXG4gICAgICB9XG4gICAgICBdXG4gICAgICB9LmNoaWxkcmVuO1xuY29uc3QgcGFnZXMgPSBbXCJFOlxcXFxFRU1TLUZyb250XFxcXHNyY1xcXFxhcHBcXFxcZGFzaGJvYXJkXFxcXHBhZ2UudHN4XCJdO1xuZXhwb3J0IHsgdHJlZSwgcGFnZXMgfTtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2xvYmFsRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5XCI7XG5jb25zdCBfX25leHRfYXBwX3JlcXVpcmVfXyA9IF9fd2VicGFja19yZXF1aXJlX19cbmNvbnN0IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKClcbmV4cG9ydCBjb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvZGFzaGJvYXJkL3BhZ2VcIjtcbmV4cG9ydCBjb25zdCBfX25leHRfYXBwX18gPSB7XG4gICAgcmVxdWlyZTogX19uZXh0X2FwcF9yZXF1aXJlX18sXG4gICAgbG9hZENodW5rOiBfX25leHRfYXBwX2xvYWRfY2h1bmtfX1xufTtcbmV4cG9ydCAqIGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2FwcC1yZW5kZXIvZW50cnktYmFzZVwiO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUGFnZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUEFHRSxcbiAgICAgICAgcGFnZTogXCIvZGFzaGJvYXJkL3BhZ2VcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2Rhc2hib2FyZFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiLFxuICAgICAgICBhcHBQYXRoczogW11cbiAgICB9LFxuICAgIHVzZXJsYW5kOiB7XG4gICAgICAgIGxvYWRlclRyZWU6IHRyZWVcbiAgICB9XG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXBhZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fdashboard%2Fpage&page=%2Fdashboard%2Fpage&appPaths=%2Fdashboard%2Fpage&pagePath=private-next-app-dir%2Fdashboard%2Fpage.tsx&appDir=E%3A%5CEEMS-Front%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CEEMS-Front&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-action-entry-loader.js?actions=%5B%5B%22E%3A%5C%5CEEMS-Front%5C%5Csrc%5C%5Capp%5C%5Cdashboard%5C%5Cpage.tsx%22%2C%5B%22default%22%5D%5D%5D&__client_imported__=!":
/*!***********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-action-entry-loader.js?actions=%5B%5B%22E%3A%5C%5CEEMS-Front%5C%5Csrc%5C%5Capp%5C%5Cdashboard%5C%5Cpage.tsx%22%2C%5B%22default%22%5D%5D%5D&__client_imported__=! ***!
  \***********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst actions = {\n'efb0857e5ce64b4f2753ab7d9962cb75a627b704': () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/dashboard/page.tsx */ \"(rsc)/./src/app/dashboard/page.tsx\")).then(mod => mod[\"default\"]),\n}\n\nasync function endpoint(id, ...args) {\n  const action = await actions[id]()\n  return action.apply(null, args)\n}\n\n// Using CJS to avoid this to be tree-shaken away due to unused exports.\nmodule.exports = {\n  'efb0857e5ce64b4f2753ab7d9962cb75a627b704': endpoint.bind(null, 'efb0857e5ce64b4f2753ab7d9962cb75a627b704'),\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1hY3Rpb24tZW50cnktbG9hZGVyLmpzP2FjdGlvbnM9JTVCJTVCJTIyRSUzQSU1QyU1Q0VFTVMtRnJvbnQlNUMlNUNzcmMlNUMlNUNhcHAlNUMlNUNkYXNoYm9hcmQlNUMlNUNwYWdlLnRzeCUyMiUyQyU1QiUyMmRlZmF1bHQlMjIlNUQlNUQlNUQmX19jbGllbnRfaW1wb3J0ZWRfXz0hIiwibWFwcGluZ3MiOiI7QUFDQTtBQUNBLGtEQUFrRCxvS0FBa0Y7QUFDcEk7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ldGVybmFsZ3ktZW1zLWZyb250ZW5kLz85MzI4Il0sInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3QgYWN0aW9ucyA9IHtcbidlZmIwODU3ZTVjZTY0YjRmMjc1M2FiN2Q5OTYyY2I3NWE2MjdiNzA0JzogKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJFOlxcXFxFRU1TLUZyb250XFxcXHNyY1xcXFxhcHBcXFxcZGFzaGJvYXJkXFxcXHBhZ2UudHN4XCIpLnRoZW4obW9kID0+IG1vZFtcImRlZmF1bHRcIl0pLFxufVxuXG5hc3luYyBmdW5jdGlvbiBlbmRwb2ludChpZCwgLi4uYXJncykge1xuICBjb25zdCBhY3Rpb24gPSBhd2FpdCBhY3Rpb25zW2lkXSgpXG4gIHJldHVybiBhY3Rpb24uYXBwbHkobnVsbCwgYXJncylcbn1cblxuLy8gVXNpbmcgQ0pTIHRvIGF2b2lkIHRoaXMgdG8gYmUgdHJlZS1zaGFrZW4gYXdheSBkdWUgdG8gdW51c2VkIGV4cG9ydHMuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgJ2VmYjA4NTdlNWNlNjRiNGYyNzUzYWI3ZDk5NjJjYjc1YTYyN2I3MDQnOiBlbmRwb2ludC5iaW5kKG51bGwsICdlZmIwODU3ZTVjZTY0YjRmMjc1M2FiN2Q5OTYyY2I3NWE2MjdiNzA0JyksXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-action-entry-loader.js?actions=%5B%5B%22E%3A%5C%5CEEMS-Front%5C%5Csrc%5C%5Capp%5C%5Cdashboard%5C%5Cpage.tsx%22%2C%5B%22default%22%5D%5D%5D&__client_imported__=!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Capp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Capp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/app-router.js */ \"(ssr)/./node_modules/next/dist/client/components/app-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-page.js */ \"(ssr)/./node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/not-found-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkUlM0ElNUMlNUNFRU1TLUZyb250JTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDYXBwLXJvdXRlci5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjJFJTNBJTVDJTVDRUVNUy1Gcm9udCU1QyU1Q25vZGVfbW9kdWxlcyU1QyU1Q25leHQlNUMlNUNkaXN0JTVDJTVDY2xpZW50JTVDJTVDY29tcG9uZW50cyU1QyU1Q2NsaWVudC1wYWdlLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkUlM0ElNUMlNUNFRU1TLUZyb250JTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyRSUzQSU1QyU1Q0VFTVMtRnJvbnQlNUMlNUNub2RlX21vZHVsZXMlNUMlNUNuZXh0JTVDJTVDZGlzdCU1QyU1Q2NsaWVudCU1QyU1Q2NvbXBvbmVudHMlNUMlNUNsYXlvdXQtcm91dGVyLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkUlM0ElNUMlNUNFRU1TLUZyb250JTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDbm90LWZvdW5kLWJvdW5kYXJ5LmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkUlM0ElNUMlNUNFRU1TLUZyb250JTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa09BQWdIO0FBQ2hIO0FBQ0Esb09BQWlIO0FBQ2pIO0FBQ0EsME9BQW9IO0FBQ3BIO0FBQ0Esd09BQW1IO0FBQ25IO0FBQ0Esa1BBQXdIO0FBQ3hIO0FBQ0Esc1FBQWtJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXRlcm5hbGd5LWVtcy1mcm9udGVuZC8/YWVhOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkU6XFxcXEVFTVMtRnJvbnRcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcY29tcG9uZW50c1xcXFxhcHAtcm91dGVyLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJFOlxcXFxFRU1TLUZyb250XFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcY2xpZW50LXBhZ2UuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkU6XFxcXEVFTVMtRnJvbnRcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcY29tcG9uZW50c1xcXFxlcnJvci1ib3VuZGFyeS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiRTpcXFxcRUVNUy1Gcm9udFxcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXGxheW91dC1yb3V0ZXIuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkU6XFxcXEVFTVMtRnJvbnRcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcY29tcG9uZW50c1xcXFxub3QtZm91bmQtYm91bmRhcnkuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkU6XFxcXEVFTVMtRnJvbnRcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcY29tcG9uZW50c1xcXFxyZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzXCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Capp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Cimage-component.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Clink.js%22%2C%22ids%22%3A%5B%22*%22%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Csrc%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Csrc%5C%5Ccomponents%5C%5Cui%5C%5Ctoast-provider.tsx%22%2C%22ids%22%3A%5B%22ToastProvider%22%5D%7D&server=true!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Cimage-component.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Clink.js%22%2C%22ids%22%3A%5B%22*%22%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Csrc%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Csrc%5C%5Ccomponents%5C%5Cui%5C%5Ctoast-provider.tsx%22%2C%22ids%22%3A%5B%22ToastProvider%22%5D%7D&server=true! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/image-component.js */ \"(ssr)/./node_modules/next/dist/client/image-component.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/link.js */ \"(ssr)/./node_modules/next/dist/client/link.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/components/ui/toast-provider.tsx */ \"(ssr)/./src/components/ui/toast-provider.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkUlM0ElNUMlNUNFRU1TLUZyb250JTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNpbWFnZS1jb21wb25lbnQuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyRSUzQSU1QyU1Q0VFTVMtRnJvbnQlNUMlNUNub2RlX21vZHVsZXMlNUMlNUNuZXh0JTVDJTVDZGlzdCU1QyU1Q2NsaWVudCU1QyU1Q2xpbmsuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlMjIqJTIyJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkUlM0ElNUMlNUNFRU1TLUZyb250JTVDJTVDc3JjJTVDJTVDYXBwJTVDJTVDZ2xvYmFscy5jc3MlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyRSUzQSU1QyU1Q0VFTVMtRnJvbnQlNUMlNUNzcmMlNUMlNUNjb21wb25lbnRzJTVDJTVDdWklNUMlNUN0b2FzdC1wcm92aWRlci50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlMjJUb2FzdFByb3ZpZGVyJTIyJTVEJTdEJnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSxzTkFBeUc7QUFDekc7QUFDQSxnTUFBOEY7QUFDOUY7QUFDQSx3TEFBK0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ldGVybmFsZ3ktZW1zLWZyb250ZW5kLz8xMjNmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiRTpcXFxcRUVNUy1Gcm9udFxcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxpbWFnZS1jb21wb25lbnQuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkU6XFxcXEVFTVMtRnJvbnRcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcbGluay5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiVG9hc3RQcm92aWRlclwiXSAqLyBcIkU6XFxcXEVFTVMtRnJvbnRcXFxcc3JjXFxcXGNvbXBvbmVudHNcXFxcdWlcXFxcdG9hc3QtcHJvdmlkZXIudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Cimage-component.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Clink.js%22%2C%22ids%22%3A%5B%22*%22%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Csrc%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Csrc%5C%5Ccomponents%5C%5Cui%5C%5Ctoast-provider.tsx%22%2C%22ids%22%3A%5B%22ToastProvider%22%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Csrc%5C%5Ccomponents%5C%5Cdashboard%5C%5Cems-dashboard-client.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=true!":
/*!***********************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Csrc%5C%5Ccomponents%5C%5Cdashboard%5C%5Cems-dashboard-client.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=true! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/components/dashboard/ems-dashboard-client.tsx */ \"(ssr)/./src/components/dashboard/ems-dashboard-client.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkUlM0ElNUMlNUNFRU1TLUZyb250JTVDJTVDc3JjJTVDJTVDY29tcG9uZW50cyU1QyU1Q2Rhc2hib2FyZCU1QyU1Q2Vtcy1kYXNoYm9hcmQtY2xpZW50LnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMmRlZmF1bHQlMjIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLGtOQUFzSSIsInNvdXJjZXMiOlsid2VicGFjazovL2V0ZXJuYWxneS1lbXMtZnJvbnRlbmQvPzc5ZGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIsIHdlYnBhY2tFeHBvcnRzOiBbXCJkZWZhdWx0XCJdICovIFwiRTpcXFxcRUVNUy1Gcm9udFxcXFxzcmNcXFxcY29tcG9uZW50c1xcXFxkYXNoYm9hcmRcXFxcZW1zLWRhc2hib2FyZC1jbGllbnQudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CEEMS-Front%5C%5Csrc%5C%5Ccomponents%5C%5Cdashboard%5C%5Cems-dashboard-client.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./src/components/dashboard/block-history-tiles.tsx":
/*!**********************************************************!*\
  !*** ./src/components/dashboard/block-history-tiles.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BlockHistoryTiles: () => (/* binding */ BlockHistoryTiles)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_client_entry_do_not_use__ BlockHistoryTiles auto */ \nconst TIMEZONE = \"Asia/Kuala_Lumpur\" ?? 0;\nconst windowFormatter = new Intl.DateTimeFormat(undefined, {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    timeZone: TIMEZONE\n});\nfunction BlockHistoryTiles({ history, loading }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"article\", {\n        className: \"rounded-2xl border border-slate-800 bg-slate-900/60 p-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                className: \"text-lg font-semibold text-white\",\n                children: \"History (last 10 blocks)\"\n            }, void 0, false, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\block-history-tiles.tsx\",\n                lineNumber: 21,\n                columnNumber: 7\n            }, this),\n            loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                className: \"mt-4 space-y-3\",\n                children: Array.from({\n                    length: 4\n                }).map((_, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                        className: \"h-12 animate-pulse rounded-md bg-slate-800/40\"\n                    }, index, false, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\block-history-tiles.tsx\",\n                        lineNumber: 25,\n                        columnNumber: 13\n                    }, this))\n            }, void 0, false, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\block-history-tiles.tsx\",\n                lineNumber: 23,\n                columnNumber: 9\n            }, this) : history.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"mt-4 text-sm text-slate-400\",\n                children: \"No block history yet. Run the simulator to populate readings.\"\n            }, void 0, false, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\block-history-tiles.tsx\",\n                lineNumber: 29,\n                columnNumber: 9\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                className: \"mt-4 space-y-3\",\n                children: history.map((block, index)=>{\n                    const percent = block.percent_of_target;\n                    const variant = percent > 100 ? \"text-danger\" : percent >= 80 ? \"text-warning\" : \"text-success\";\n                    let windowLabel = \"\";\n                    try {\n                        const start = new Date(block.block_start_local);\n                        const end = new Date(start.getTime() + 30 * 60 * 1000);\n                        windowLabel = `${windowFormatter.format(start)} â€“ ${windowFormatter.format(end)}`;\n                    } catch  {\n                        windowLabel = block.block_start_local;\n                    }\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                        className: \"flex items-center justify-between rounded-lg border border-slate-800 bg-slate-950/60 px-4 py-3 text-sm\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"font-medium text-slate-100\",\n                                        children: windowLabel\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\block-history-tiles.tsx\",\n                                        lineNumber: 46,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs text-slate-500\",\n                                        children: [\n                                            block.accumulated_kwh.toFixed(2),\n                                            \" / \",\n                                            block.target_kwh.toFixed(1),\n                                            \" kWh\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\block-history-tiles.tsx\",\n                                        lineNumber: 47,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\block-history-tiles.tsx\",\n                                lineNumber: 45,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: `text-sm font-semibold ${variant}`,\n                                children: [\n                                    percent.toFixed(1),\n                                    \"%\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\block-history-tiles.tsx\",\n                                lineNumber: 51,\n                                columnNumber: 17\n                            }, this)\n                        ]\n                    }, `${block.block_start_local}-${index}`, true, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\block-history-tiles.tsx\",\n                        lineNumber: 44,\n                        columnNumber: 15\n                    }, this);\n                })\n            }, void 0, false, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\block-history-tiles.tsx\",\n                lineNumber: 31,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\block-history-tiles.tsx\",\n        lineNumber: 20,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9kYXNoYm9hcmQvYmxvY2staGlzdG9yeS10aWxlcy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUlBLE1BQU1BLFdBQVdDLG1CQUFzQyxJQUFJLENBQW1CO0FBRTlFLE1BQU1HLGtCQUFrQixJQUFJQyxLQUFLQyxjQUFjLENBQUNDLFdBQVc7SUFDekRDLE1BQU07SUFDTkMsUUFBUTtJQUNSQyxVQUFVVjtBQUNaO0FBT08sU0FBU1csa0JBQWtCLEVBQUVDLE9BQU8sRUFBRUMsT0FBTyxFQUEwQjtJQUM1RSxxQkFDRSw4REFBQ0M7UUFBUUMsV0FBVTs7MEJBQ2pCLDhEQUFDQztnQkFBR0QsV0FBVTswQkFBbUM7Ozs7OztZQUNoREYsd0JBQ0MsOERBQUNJO2dCQUFHRixXQUFVOzBCQUNYRyxNQUFNQyxJQUFJLENBQUM7b0JBQUVDLFFBQVE7Z0JBQUUsR0FBR0MsR0FBRyxDQUFDLENBQUNDLEdBQUdDLHNCQUNqQyw4REFBQ0M7d0JBQWVULFdBQVU7dUJBQWpCUTs7Ozs7Ozs7O3VCQUdYWCxRQUFRUSxNQUFNLEtBQUssa0JBQ3JCLDhEQUFDSztnQkFBRVYsV0FBVTswQkFBOEI7Ozs7O3FDQUUzQyw4REFBQ0U7Z0JBQUdGLFdBQVU7MEJBQ1hILFFBQVFTLEdBQUcsQ0FBQyxDQUFDSyxPQUFPSDtvQkFDbkIsTUFBTUksVUFBVUQsTUFBTUUsaUJBQWlCO29CQUN2QyxNQUFNQyxVQUFVRixVQUFVLE1BQU0sZ0JBQWdCQSxXQUFXLEtBQUssaUJBQWlCO29CQUNqRixJQUFJRyxjQUFjO29CQUNsQixJQUFJO3dCQUNGLE1BQU1DLFFBQVEsSUFBSUMsS0FBS04sTUFBTU8saUJBQWlCO3dCQUM5QyxNQUFNQyxNQUFNLElBQUlGLEtBQUtELE1BQU1JLE9BQU8sS0FBSyxLQUFLLEtBQUs7d0JBQ2pETCxjQUFjLENBQUMsRUFBRTFCLGdCQUFnQmdDLE1BQU0sQ0FBQ0wsT0FBTyxHQUFHLEVBQUUzQixnQkFBZ0JnQyxNQUFNLENBQUNGLEtBQUssQ0FBQztvQkFDbkYsRUFBRSxPQUFNO3dCQUNOSixjQUFjSixNQUFNTyxpQkFBaUI7b0JBQ3ZDO29CQUNBLHFCQUNFLDhEQUFDVDt3QkFBK0NULFdBQVU7OzBDQUN4RCw4REFBQ3NCOztrREFDQyw4REFBQ1o7d0NBQUVWLFdBQVU7a0RBQThCZTs7Ozs7O2tEQUMzQyw4REFBQ0w7d0NBQUVWLFdBQVU7OzRDQUNWVyxNQUFNWSxlQUFlLENBQUNDLE9BQU8sQ0FBQzs0Q0FBRzs0Q0FBSWIsTUFBTWMsVUFBVSxDQUFDRCxPQUFPLENBQUM7NENBQUc7Ozs7Ozs7Ozs7Ozs7MENBR3RFLDhEQUFDRTtnQ0FBSzFCLFdBQVcsQ0FBQyxzQkFBc0IsRUFBRWMsUUFBUSxDQUFDOztvQ0FBR0YsUUFBUVksT0FBTyxDQUFDO29DQUFHOzs7Ozs7Ozt1QkFQbEUsQ0FBQyxFQUFFYixNQUFNTyxpQkFBaUIsQ0FBQyxDQUFDLEVBQUVWLE1BQU0sQ0FBQzs7Ozs7Z0JBVWxEOzs7Ozs7Ozs7Ozs7QUFLViIsInNvdXJjZXMiOlsid2VicGFjazovL2V0ZXJuYWxneS1lbXMtZnJvbnRlbmQvLi9zcmMvY29tcG9uZW50cy9kYXNoYm9hcmQvYmxvY2staGlzdG9yeS10aWxlcy50c3g/ZTVjZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcclxuXHJcbmltcG9ydCB0eXBlIHsgSGlzdG9yeUJsb2NrIH0gZnJvbSBcIkAvbGliL3R5cGVzXCI7XHJcblxyXG5jb25zdCBUSU1FWk9ORSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1RJTUVaT05FX0xBQkVMID8/IFwiQXNpYS9LdWFsYV9MdW1wdXJcIjtcclxuXHJcbmNvbnN0IHdpbmRvd0Zvcm1hdHRlciA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KHVuZGVmaW5lZCwge1xyXG4gIGhvdXI6IFwiMi1kaWdpdFwiLFxyXG4gIG1pbnV0ZTogXCIyLWRpZ2l0XCIsXHJcbiAgdGltZVpvbmU6IFRJTUVaT05FXHJcbn0pO1xyXG5cclxudHlwZSBCbG9ja0hpc3RvcnlUaWxlc1Byb3BzID0ge1xyXG4gIGhpc3Rvcnk6IEhpc3RvcnlCbG9ja1tdO1xyXG4gIGxvYWRpbmc6IGJvb2xlYW47XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQmxvY2tIaXN0b3J5VGlsZXMoeyBoaXN0b3J5LCBsb2FkaW5nIH06IEJsb2NrSGlzdG9yeVRpbGVzUHJvcHMpIHtcclxuICByZXR1cm4gKFxyXG4gICAgPGFydGljbGUgY2xhc3NOYW1lPVwicm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci1zbGF0ZS04MDAgYmctc2xhdGUtOTAwLzYwIHAtNlwiPlxyXG4gICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtd2hpdGVcIj5IaXN0b3J5IChsYXN0IDEwIGJsb2Nrcyk8L2gyPlxyXG4gICAgICB7bG9hZGluZyA/IChcclxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibXQtNCBzcGFjZS15LTNcIj5cclxuICAgICAgICAgIHtBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0pLm1hcCgoXywgaW5kZXgpID0+IChcclxuICAgICAgICAgICAgPGxpIGtleT17aW5kZXh9IGNsYXNzTmFtZT1cImgtMTIgYW5pbWF0ZS1wdWxzZSByb3VuZGVkLW1kIGJnLXNsYXRlLTgwMC80MFwiIC8+XHJcbiAgICAgICAgICApKX1cclxuICAgICAgICA8L3VsPlxyXG4gICAgICApIDogaGlzdG9yeS5sZW5ndGggPT09IDAgPyAoXHJcbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtNCB0ZXh0LXNtIHRleHQtc2xhdGUtNDAwXCI+Tm8gYmxvY2sgaGlzdG9yeSB5ZXQuIFJ1biB0aGUgc2ltdWxhdG9yIHRvIHBvcHVsYXRlIHJlYWRpbmdzLjwvcD5cclxuICAgICAgKSA6IChcclxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibXQtNCBzcGFjZS15LTNcIj5cclxuICAgICAgICAgIHtoaXN0b3J5Lm1hcCgoYmxvY2ssIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBlcmNlbnQgPSBibG9jay5wZXJjZW50X29mX3RhcmdldDtcclxuICAgICAgICAgICAgY29uc3QgdmFyaWFudCA9IHBlcmNlbnQgPiAxMDAgPyBcInRleHQtZGFuZ2VyXCIgOiBwZXJjZW50ID49IDgwID8gXCJ0ZXh0LXdhcm5pbmdcIiA6IFwidGV4dC1zdWNjZXNzXCI7XHJcbiAgICAgICAgICAgIGxldCB3aW5kb3dMYWJlbCA9IFwiXCI7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZShibG9jay5ibG9ja19zdGFydF9sb2NhbCk7XHJcbiAgICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoc3RhcnQuZ2V0VGltZSgpICsgMzAgKiA2MCAqIDEwMDApO1xyXG4gICAgICAgICAgICAgIHdpbmRvd0xhYmVsID0gYCR7d2luZG93Rm9ybWF0dGVyLmZvcm1hdChzdGFydCl9IOKAkyAke3dpbmRvd0Zvcm1hdHRlci5mb3JtYXQoZW5kKX1gO1xyXG4gICAgICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgICB3aW5kb3dMYWJlbCA9IGJsb2NrLmJsb2NrX3N0YXJ0X2xvY2FsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgPGxpIGtleT17YCR7YmxvY2suYmxvY2tfc3RhcnRfbG9jYWx9LSR7aW5kZXh9YH0gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS04MDAgYmctc2xhdGUtOTUwLzYwIHB4LTQgcHktMyB0ZXh0LXNtXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTEwMFwiPnt3aW5kb3dMYWJlbH08L3A+XHJcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj5cclxuICAgICAgICAgICAgICAgICAgICB7YmxvY2suYWNjdW11bGF0ZWRfa3doLnRvRml4ZWQoMil9IC8ge2Jsb2NrLnRhcmdldF9rd2gudG9GaXhlZCgxKX0ga1doXHJcbiAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgdGV4dC1zbSBmb250LXNlbWlib2xkICR7dmFyaWFudH1gfT57cGVyY2VudC50b0ZpeGVkKDEpfSU8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0pfVxyXG4gICAgICAgIDwvdWw+XHJcbiAgICAgICl9XHJcbiAgICA8L2FydGljbGU+XHJcbiAgKTtcclxufVxyXG4iXSwibmFtZXMiOlsiVElNRVpPTkUiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfVElNRVpPTkVfTEFCRUwiLCJ3aW5kb3dGb3JtYXR0ZXIiLCJJbnRsIiwiRGF0ZVRpbWVGb3JtYXQiLCJ1bmRlZmluZWQiLCJob3VyIiwibWludXRlIiwidGltZVpvbmUiLCJCbG9ja0hpc3RvcnlUaWxlcyIsImhpc3RvcnkiLCJsb2FkaW5nIiwiYXJ0aWNsZSIsImNsYXNzTmFtZSIsImgyIiwidWwiLCJBcnJheSIsImZyb20iLCJsZW5ndGgiLCJtYXAiLCJfIiwiaW5kZXgiLCJsaSIsInAiLCJibG9jayIsInBlcmNlbnQiLCJwZXJjZW50X29mX3RhcmdldCIsInZhcmlhbnQiLCJ3aW5kb3dMYWJlbCIsInN0YXJ0IiwiRGF0ZSIsImJsb2NrX3N0YXJ0X2xvY2FsIiwiZW5kIiwiZ2V0VGltZSIsImZvcm1hdCIsImRpdiIsImFjY3VtdWxhdGVkX2t3aCIsInRvRml4ZWQiLCJ0YXJnZXRfa3doIiwic3BhbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/dashboard/block-history-tiles.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/dashboard/current-block-chart.tsx":
/*!**********************************************************!*\
  !*** ./src/components/dashboard/current-block-chart.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CurrentBlockChart: () => (/* binding */ CurrentBlockChart)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _barrel_optimize_names_Bar_BarChart_CartesianGrid_Cell_Line_LineChart_ReferenceLine_ResponsiveContainer_Tooltip_XAxis_YAxis_recharts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=Bar,BarChart,CartesianGrid,Cell,Line,LineChart,ReferenceLine,ResponsiveContainer,Tooltip,XAxis,YAxis!=!recharts */ \"(ssr)/./node_modules/recharts/es6/chart/LineChart.js\");\n/* harmony import */ var _barrel_optimize_names_Bar_BarChart_CartesianGrid_Cell_Line_LineChart_ReferenceLine_ResponsiveContainer_Tooltip_XAxis_YAxis_recharts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Bar,BarChart,CartesianGrid,Cell,Line,LineChart,ReferenceLine,ResponsiveContainer,Tooltip,XAxis,YAxis!=!recharts */ \"(ssr)/./node_modules/recharts/es6/chart/BarChart.js\");\n/* harmony import */ var _barrel_optimize_names_Bar_BarChart_CartesianGrid_Cell_Line_LineChart_ReferenceLine_ResponsiveContainer_Tooltip_XAxis_YAxis_recharts__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Bar,BarChart,CartesianGrid,Cell,Line,LineChart,ReferenceLine,ResponsiveContainer,Tooltip,XAxis,YAxis!=!recharts */ \"(ssr)/./node_modules/recharts/es6/cartesian/Line.js\");\n/* harmony import */ var _barrel_optimize_names_Bar_BarChart_CartesianGrid_Cell_Line_LineChart_ReferenceLine_ResponsiveContainer_Tooltip_XAxis_YAxis_recharts__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Bar,BarChart,CartesianGrid,Cell,Line,LineChart,ReferenceLine,ResponsiveContainer,Tooltip,XAxis,YAxis!=!recharts */ \"(ssr)/./node_modules/recharts/es6/cartesian/Bar.js\");\n/* harmony import */ var _barrel_optimize_names_Bar_BarChart_CartesianGrid_Cell_Line_LineChart_ReferenceLine_ResponsiveContainer_Tooltip_XAxis_YAxis_recharts__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Bar,BarChart,CartesianGrid,Cell,Line,LineChart,ReferenceLine,ResponsiveContainer,Tooltip,XAxis,YAxis!=!recharts */ \"(ssr)/./node_modules/recharts/es6/component/Cell.js\");\n/* harmony import */ var _barrel_optimize_names_Bar_BarChart_CartesianGrid_Cell_Line_LineChart_ReferenceLine_ResponsiveContainer_Tooltip_XAxis_YAxis_recharts__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Bar,BarChart,CartesianGrid,Cell,Line,LineChart,ReferenceLine,ResponsiveContainer,Tooltip,XAxis,YAxis!=!recharts */ \"(ssr)/./node_modules/recharts/es6/cartesian/ReferenceLine.js\");\n/* harmony import */ var _barrel_optimize_names_Bar_BarChart_CartesianGrid_Cell_Line_LineChart_ReferenceLine_ResponsiveContainer_Tooltip_XAxis_YAxis_recharts__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Bar,BarChart,CartesianGrid,Cell,Line,LineChart,ReferenceLine,ResponsiveContainer,Tooltip,XAxis,YAxis!=!recharts */ \"(ssr)/./node_modules/recharts/es6/component/ResponsiveContainer.js\");\n/* harmony import */ var _barrel_optimize_names_Bar_BarChart_CartesianGrid_Cell_Line_LineChart_ReferenceLine_ResponsiveContainer_Tooltip_XAxis_YAxis_recharts__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Bar,BarChart,CartesianGrid,Cell,Line,LineChart,ReferenceLine,ResponsiveContainer,Tooltip,XAxis,YAxis!=!recharts */ \"(ssr)/./node_modules/recharts/es6/cartesian/CartesianGrid.js\");\n/* harmony import */ var _barrel_optimize_names_Bar_BarChart_CartesianGrid_Cell_Line_LineChart_ReferenceLine_ResponsiveContainer_Tooltip_XAxis_YAxis_recharts__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Bar,BarChart,CartesianGrid,Cell,Line,LineChart,ReferenceLine,ResponsiveContainer,Tooltip,XAxis,YAxis!=!recharts */ \"(ssr)/./node_modules/recharts/es6/cartesian/XAxis.js\");\n/* harmony import */ var _barrel_optimize_names_Bar_BarChart_CartesianGrid_Cell_Line_LineChart_ReferenceLine_ResponsiveContainer_Tooltip_XAxis_YAxis_recharts__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Bar,BarChart,CartesianGrid,Cell,Line,LineChart,ReferenceLine,ResponsiveContainer,Tooltip,XAxis,YAxis!=!recharts */ \"(ssr)/./node_modules/recharts/es6/cartesian/YAxis.js\");\n/* harmony import */ var _barrel_optimize_names_Bar_BarChart_CartesianGrid_Cell_Line_LineChart_ReferenceLine_ResponsiveContainer_Tooltip_XAxis_YAxis_recharts__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=Bar,BarChart,CartesianGrid,Cell,Line,LineChart,ReferenceLine,ResponsiveContainer,Tooltip,XAxis,YAxis!=!recharts */ \"(ssr)/./node_modules/recharts/es6/component/Tooltip.js\");\n/* harmony import */ var _lib_block_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/block-utils */ \"(ssr)/./src/lib/block-utils.ts\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* __next_internal_client_entry_do_not_use__ CurrentBlockChart auto */ \n// RESPONSIVE-AWARE: Chart height adjusts for mobile (h-48) and desktop (md:h-72)\n// See docs/RESPONSIVE.md for responsive development guidelines\n\n\n\nconst TIMEZONE = \"Asia/Kuala_Lumpur\" ?? 0;\nconst windowFormatter = new Intl.DateTimeFormat(undefined, {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    timeZone: TIMEZONE\n});\nconst tooltipFormatter = new Intl.NumberFormat(undefined, {\n    maximumFractionDigits: 2\n});\n/**\r\n * Generate smooth gradient color from green to red based on percentage\r\n * 0% = green (#22c55e)\r\n * 50% = yellow-green (#84cc16)\r\n * 75% = yellow (#eab308)\r\n * 90% = orange (#f97316)\r\n * 100%+ = red (#ef4444)\r\n */ function getGradientColor(percentOfTarget) {\n    // Clamp to 0-120% range for smooth transition\n    const clamped = Math.max(0, Math.min(120, percentOfTarget));\n    if (clamped <= 50) {\n        // Green to yellow-green: 0% -> 50%\n        const ratio = clamped / 50;\n        return interpolateColor(\"#22c55e\", \"#84cc16\", ratio);\n    } else if (clamped <= 75) {\n        // Yellow-green to yellow: 50% -> 75%\n        const ratio = (clamped - 50) / 25;\n        return interpolateColor(\"#84cc16\", \"#eab308\", ratio);\n    } else if (clamped <= 90) {\n        // Yellow to orange: 75% -> 90%\n        const ratio = (clamped - 75) / 15;\n        return interpolateColor(\"#eab308\", \"#f97316\", ratio);\n    } else if (clamped <= 100) {\n        // Orange to red: 90% -> 100%\n        const ratio = (clamped - 90) / 10;\n        return interpolateColor(\"#f97316\", \"#ef4444\", ratio);\n    } else {\n        // 100%+ = deep red\n        const ratio = Math.min(1, (clamped - 100) / 20); // Darken up to 120%\n        return interpolateColor(\"#ef4444\", \"#dc2626\", ratio);\n    }\n}\n/**\r\n * Interpolate between two hex colors\r\n */ function interpolateColor(color1, color2, ratio) {\n    const hex1 = color1.replace(\"#\", \"\");\n    const hex2 = color2.replace(\"#\", \"\");\n    const r1 = parseInt(hex1.substr(0, 2), 16);\n    const g1 = parseInt(hex1.substr(2, 2), 16);\n    const b1 = parseInt(hex1.substr(4, 2), 16);\n    const r2 = parseInt(hex2.substr(0, 2), 16);\n    const g2 = parseInt(hex2.substr(2, 2), 16);\n    const b2 = parseInt(hex2.substr(4, 2), 16);\n    const r = Math.round(r1 + (r2 - r1) * ratio);\n    const g = Math.round(g1 + (g2 - g1) * ratio);\n    const b = Math.round(b1 + (b2 - b1) * ratio);\n    return `#${[\n        r,\n        g,\n        b\n    ].map((x)=>{\n        const hex = x.toString(16);\n        return hex.length === 1 ? \"0\" + hex : hex;\n    }).join(\"\")}`;\n}\nfunction buildChartData(block, mode, targetPeakKwh) {\n    // Simple: trust backend block data completely\n    // Chart will always show the latest 30min block from stored signals (even if future)\n    if (!block || !block.block_start_local) {\n        // Fallback: return empty chart with current time window\n        const now = new Date();\n        const startTs = now.getTime();\n        const endTs = startTs + 30 * 60 * 1000;\n        const data = Array(60).fill(null).map((_, index)=>({\n                ts: startTs + (index + 1) * 30 * 1000,\n                value: 0\n            }));\n        return {\n            data,\n            startTs,\n            endTs,\n            binSeconds: 30\n        };\n    }\n    // Use backend block data - always show latest block (simple and reliable)\n    const startTs = new Date(block.block_start_local).getTime();\n    const endTs = startTs + 30 * 60 * 1000;\n    const points = block.chart_bins?.points ?? [];\n    const binSeconds = block.chart_bins?.bin_seconds ?? 30;\n    const numPoints = Math.floor(30 * 60 / binSeconds);\n    let data = [];\n    if (mode === \"accumulate\") {\n        data = points.map((value, index)=>({\n                ts: startTs + (index + 1) * binSeconds * 1000,\n                value\n            }));\n    } else {\n        // Non-accumulate mode: calculate peak usage per bin and add color coding\n        // targetPeakKwh is the TOTAL accumulated target for the 30-minute block\n        // Divide by 60 bins (assuming 30-second bins) to get target per bin\n        const targetPerBin = targetPeakKwh ? targetPeakKwh / 60 : 0; // 30min block = 60 bins of 30sec\n        data = points.map((value, index)=>{\n            const peakUsage = value - (index === 0 ? 0 : points[index - 1]);\n            const percentOfTarget = targetPerBin > 0 ? peakUsage / targetPerBin * 100 : 0;\n            // Use smooth gradient color function\n            const color = getGradientColor(percentOfTarget);\n            return {\n                ts: startTs + (index + 1) * binSeconds * 1000,\n                value: peakUsage,\n                color,\n                percentOfTarget\n            };\n        });\n    }\n    // Pad data to fill all bins\n    const paddedData = Array(numPoints).fill(null).map((_, index)=>{\n        const ts = startTs + (index + 1) * binSeconds * 1000;\n        const existingPoint = data.find((p)=>p.ts === ts);\n        return existingPoint ?? {\n            ts,\n            value: 0,\n            color: \"#22c55e\",\n            percentOfTarget: 0\n        };\n    });\n    return {\n        data: paddedData,\n        startTs,\n        endTs,\n        binSeconds\n    };\n}\nfunction formatWindow(startTs, endTs) {\n    try {\n        const start = new Date(startTs);\n        const end = new Date(endTs);\n        return (0,_lib_block_utils__WEBPACK_IMPORTED_MODULE_1__.formatBlockWindow)(start.toISOString(), end.toISOString(), TIMEZONE);\n    } catch  {\n        return \"Invalid time range\";\n    }\n}\nfunction CurrentBlockChart({ block, loading, targetKwh, targetPeakKwh, mode, lastReadingTs }) {\n    const resolvedTarget = targetKwh ?? block?.target_kwh ?? 0;\n    // Simple: use backend block data directly, no complex matching\n    const { data: chartData, startTs, endTs, binSeconds } = buildChartData(block, mode, targetPeakKwh);\n    const windowLabel = formatWindow(startTs, endTs);\n    const isAccumulate = mode === \"accumulate\";\n    // Track previous data to detect new bars for animation\n    const prevDataRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)([]);\n    const [barColors, setBarColors] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Map());\n    const [animatedData, setAnimatedData] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const animationTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const [animationKey, setAnimationKey] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0); // Key to force re-animation\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        // Clear any pending animation timeout\n        if (animationTimeoutRef.current) {\n            clearTimeout(animationTimeoutRef.current);\n            animationTimeoutRef.current = null;\n        }\n        if (isAccumulate || chartData.length === 0) {\n            prevDataRef.current = chartData;\n            setAnimatedData([\n                ...chartData\n            ]); // Create new array reference\n            return;\n        }\n        // Check if data actually changed (by comparing values)\n        const dataChanged = JSON.stringify(prevDataRef.current) !== JSON.stringify(chartData);\n        if (!dataChanged) {\n            return; // Skip if data hasn't actually changed\n        }\n        // Create animated data where new bars start at 0 and animate to target value\n        const updatedColors = new Map(barColors);\n        const newBarIndices = [];\n        // First pass: identify new bars\n        chartData.forEach((point, index)=>{\n            const prevPoint = prevDataRef.current[index];\n            if (point.value > 0 && (!prevPoint || prevPoint.value === 0)) {\n                newBarIndices.push(index);\n            }\n        });\n        if (newBarIndices.length > 0) {\n            // Create initial data with new bars at 0 (create completely new array and objects)\n            const initialData = chartData.map((point, index)=>{\n                const targetColor = point.color || \"#22c55e\";\n                if (newBarIndices.includes(index)) {\n                    // New bar: start with green color and value 0\n                    updatedColors.set(index, \"#22c55e\");\n                    // Return completely new object with 0 value\n                    return {\n                        ts: point.ts,\n                        value: 0,\n                        color: \"#22c55e\",\n                        percentOfTarget: 0\n                    };\n                } else {\n                    // Existing bar: keep current value\n                    updatedColors.set(index, targetColor);\n                    return {\n                        ...point\n                    }; // Create new object reference\n                }\n            });\n            // Set initial data (with new bars at 0) - use spread to create new array\n            setAnimatedData([\n                ...initialData\n            ]);\n            setBarColors(new Map(updatedColors));\n            // After React renders the initial state, update to target values\n            // Use requestAnimationFrame to ensure React has rendered\n            animationTimeoutRef.current = setTimeout(()=>{\n                requestAnimationFrame(()=>{\n                    // Increment animation key to force Recharts to recognize the change\n                    setAnimationKey((prev)=>prev + 1);\n                    // Create new array with target values\n                    const finalData = chartData.map((point, index)=>({\n                            ...point\n                        }));\n                    setAnimatedData([\n                        ...finalData\n                    ]);\n                    // Update colors after animation starts\n                    setTimeout(()=>{\n                        chartData.forEach((point, index)=>{\n                            if (newBarIndices.includes(index)) {\n                                const targetColor = point.color || \"#22c55e\";\n                                setBarColors((prev)=>{\n                                    const next = new Map(prev);\n                                    next.set(index, targetColor);\n                                    return next;\n                                });\n                            }\n                        });\n                    }, 400);\n                });\n            }, 150); // Wait 150ms for React to render initial state\n            prevDataRef.current = [\n                ...chartData\n            ]; // Store copy\n        } else {\n            // No new bars, update directly with new references\n            chartData.forEach((point, index)=>{\n                updatedColors.set(index, point.color || \"#22c55e\");\n            });\n            setBarColors(new Map(updatedColors));\n            setAnimatedData(chartData.map((p)=>({\n                    ...p\n                }))); // Create new array and objects\n            prevDataRef.current = [\n                ...chartData\n            ]; // Store copy\n        }\n        return ()=>{\n            if (animationTimeoutRef.current) {\n                clearTimeout(animationTimeoutRef.current);\n            }\n        };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        chartData,\n        isAccumulate\n    ]);\n    // For non-accumulate mode, use BarChart with color-coded bars and animations\n    const ChartComponent = isAccumulate ? _barrel_optimize_names_Bar_BarChart_CartesianGrid_Cell_Line_LineChart_ReferenceLine_ResponsiveContainer_Tooltip_XAxis_YAxis_recharts__WEBPACK_IMPORTED_MODULE_3__.LineChart : _barrel_optimize_names_Bar_BarChart_CartesianGrid_Cell_Line_LineChart_ReferenceLine_ResponsiveContainer_Tooltip_XAxis_YAxis_recharts__WEBPACK_IMPORTED_MODULE_4__.BarChart;\n    const DataElement = isAccumulate ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bar_BarChart_CartesianGrid_Cell_Line_LineChart_ReferenceLine_ResponsiveContainer_Tooltip_XAxis_YAxis_recharts__WEBPACK_IMPORTED_MODULE_5__.Line, {\n        type: \"monotone\",\n        dataKey: \"value\",\n        stroke: \"#22d3ee\",\n        strokeWidth: 2,\n        dot: false,\n        isAnimationActive: true,\n        animationDuration: 800\n    }, void 0, false, {\n        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n        lineNumber: 312,\n        columnNumber: 5\n    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bar_BarChart_CartesianGrid_Cell_Line_LineChart_ReferenceLine_ResponsiveContainer_Tooltip_XAxis_YAxis_recharts__WEBPACK_IMPORTED_MODULE_6__.Bar, {\n        dataKey: \"value\",\n        radius: [\n            4,\n            4,\n            0,\n            0\n        ],\n        isAnimationActive: true,\n        animationDuration: 1500,\n        animationBegin: 0,\n        children: animatedData.map((entry, index)=>{\n            const currentColor = barColors.get(index) || entry.color || \"#22c55e\";\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bar_BarChart_CartesianGrid_Cell_Line_LineChart_ReferenceLine_ResponsiveContainer_Tooltip_XAxis_YAxis_recharts__WEBPACK_IMPORTED_MODULE_7__.Cell, {\n                fill: currentColor,\n                style: {\n                    transition: \"fill 1.2s cubic-bezier(0.4, 0, 0.2, 1)\"\n                }\n            }, `cell-${entry.ts}-${index}`, false, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                lineNumber: 325,\n                columnNumber: 11\n            }, this);\n        })\n    }, void 0, false, {\n        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n        lineNumber: 314,\n        columnNumber: 5\n    }, this);\n    // Reference lines\n    const referenceLine = isAccumulate ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bar_BarChart_CartesianGrid_Cell_Line_LineChart_ReferenceLine_ResponsiveContainer_Tooltip_XAxis_YAxis_recharts__WEBPACK_IMPORTED_MODULE_8__.ReferenceLine, {\n        y: resolvedTarget,\n        stroke: \"#f97316\",\n        strokeDasharray: \"6 6\"\n    }, void 0, false, {\n        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n        lineNumber: 339,\n        columnNumber: 5\n    }, this) : targetPeakKwh ? // Semi-transparent reference line for peak target (white @ 15-20% opacity)\n    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bar_BarChart_CartesianGrid_Cell_Line_LineChart_ReferenceLine_ResponsiveContainer_Tooltip_XAxis_YAxis_recharts__WEBPACK_IMPORTED_MODULE_8__.ReferenceLine, {\n        y: targetPeakKwh / 60,\n        stroke: \"rgba(255, 255, 255, 0.18)\",\n        strokeWidth: 2,\n        strokeDasharray: \"4 4\",\n        label: {\n            value: \"Peak Target\",\n            position: \"right\",\n            fill: \"rgba(255, 255, 255, 0.6)\",\n            fontSize: 11\n        }\n    }, void 0, false, {\n        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n        lineNumber: 342,\n        columnNumber: 5\n    }, this) : null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"article\", {\n        className: \"rounded-2xl border border-slate-800 bg-slate-900/60 p-4 sm:p-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"mb-4 sm:mb-6 flex flex-col sm:flex-row sm:items-end sm:justify-between gap-2 sm:gap-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-lg sm:text-xl font-semibold text-white\",\n                                children: \"Current 30-minute block\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                                lineNumber: 355,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs sm:text-sm text-slate-400\",\n                                children: [\n                                    \"Window \",\n                                    windowLabel\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                                lineNumber: 356,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                        lineNumber: 354,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"rounded-md border border-slate-800 px-3 sm:px-4 py-2 text-xs text-slate-400\",\n                        children: isAccumulate ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                \"Target \",\n                                resolvedTarget.toFixed(1),\n                                \" kWh \\xb7 Accumulated \",\n                                block?.accumulated_kwh.toFixed(2) ?? \"â€”\",\n                                \" kWh\"\n                            ]\n                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                \"Target \",\n                                targetPeakKwh?.toFixed(1) ?? \"â€”\",\n                                \" kWh (total for 30min) \\xb7 Target per bin \",\n                                (targetPeakKwh ? targetPeakKwh / 60 : 0).toFixed(3),\n                                \" kWh\"\n                            ]\n                        }, void 0, true)\n                    }, void 0, false, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                        lineNumber: 358,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                lineNumber: 353,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"h-48 md:h-72 w-full\",\n                children: loading && !block ? // Only show loading on initial load (when block is null)\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex h-full items-center justify-center rounded-xl border border-dashed border-slate-800 bg-slate-950/40\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-sm text-slate-500\",\n                        children: \"Loading chartâ€¦\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                        lineNumber: 374,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                    lineNumber: 373,\n                    columnNumber: 11\n                }, this) : chartData.length === 0 || chartData.every((p)=>p.value === 0) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex h-full items-center justify-center rounded-xl border border-dashed border-slate-800 bg-slate-950/40\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-sm text-slate-500\",\n                        children: \"No readings for this block yet.\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                        lineNumber: 378,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                    lineNumber: 377,\n                    columnNumber: 11\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bar_BarChart_CartesianGrid_Cell_Line_LineChart_ReferenceLine_ResponsiveContainer_Tooltip_XAxis_YAxis_recharts__WEBPACK_IMPORTED_MODULE_9__.ResponsiveContainer, {\n                    width: \"100%\",\n                    height: \"100%\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChartComponent, {\n                        data: isAccumulate ? chartData : animatedData,\n                        margin: {\n                            left: 12,\n                            right: 12,\n                            top: 12,\n                            bottom: 12\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bar_BarChart_CartesianGrid_Cell_Line_LineChart_ReferenceLine_ResponsiveContainer_Tooltip_XAxis_YAxis_recharts__WEBPACK_IMPORTED_MODULE_10__.CartesianGrid, {\n                                strokeDasharray: \"4 4\",\n                                stroke: \"#1f2937\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                                lineNumber: 387,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bar_BarChart_CartesianGrid_Cell_Line_LineChart_ReferenceLine_ResponsiveContainer_Tooltip_XAxis_YAxis_recharts__WEBPACK_IMPORTED_MODULE_11__.XAxis, {\n                                dataKey: \"ts\",\n                                type: \"number\",\n                                domain: [\n                                    startTs,\n                                    endTs\n                                ],\n                                tickFormatter: (ts)=>windowFormatter.format(ts),\n                                stroke: \"#64748b\",\n                                tickLine: false\n                            }, void 0, false, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                                lineNumber: 388,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bar_BarChart_CartesianGrid_Cell_Line_LineChart_ReferenceLine_ResponsiveContainer_Tooltip_XAxis_YAxis_recharts__WEBPACK_IMPORTED_MODULE_12__.YAxis, {\n                                dataKey: \"value\",\n                                stroke: \"#64748b\",\n                                tickLine: false,\n                                width: 60,\n                                tickFormatter: (value)=>tooltipFormatter.format(value)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                                lineNumber: 396,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bar_BarChart_CartesianGrid_Cell_Line_LineChart_ReferenceLine_ResponsiveContainer_Tooltip_XAxis_YAxis_recharts__WEBPACK_IMPORTED_MODULE_13__.Tooltip, {\n                                content: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CustomTooltip, {\n                                    target: resolvedTarget,\n                                    targetPeakKwh: targetPeakKwh,\n                                    mode: mode,\n                                    binSeconds: binSeconds\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                                    lineNumber: 403,\n                                    columnNumber: 33\n                                }, void 0)\n                            }, void 0, false, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                                lineNumber: 403,\n                                columnNumber: 15\n                            }, this),\n                            referenceLine,\n                            DataElement\n                        ]\n                    }, isAccumulate ? undefined : `chart-${animationKey}`, true, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                        lineNumber: 382,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                    lineNumber: 381,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                lineNumber: 370,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"mt-4 text-xs text-slate-500\",\n                children: \"Streaming series updates replace the entire 60-point window whenever the backend publishes a block update.\"\n            }, void 0, false, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                lineNumber: 410,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n        lineNumber: 352,\n        columnNumber: 5\n    }, this);\n}\nfunction CustomTooltip({ active, payload, label, target, targetPeakKwh, mode, binSeconds }) {\n    if (!active || !payload || payload.length === 0 || !label) {\n        return null;\n    }\n    const value = payload[0]?.value ?? 0;\n    const isAccumulate = mode === \"accumulate\";\n    const timeLabel = windowFormatter.format(label);\n    if (isAccumulate) {\n        const pct = target > 0 ? (value / target * 100).toFixed(1) : \"0\";\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-xs text-slate-200 shadow-lg\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"font-semibold\",\n                    children: [\n                        timeLabel,\n                        \" \\xb7 \",\n                        tooltipFormatter.format(value),\n                        \" kWh\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                    lineNumber: 439,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-slate-400\",\n                    children: [\n                        \"Accumulated \\xb7 \",\n                        pct,\n                        \"% of target\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                    lineNumber: 440,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n            lineNumber: 438,\n            columnNumber: 7\n        }, this);\n    }\n    // Non-accumulate mode: show peak usage and percentage of peak target\n    const targetPerBin = targetPeakKwh ? targetPeakKwh / 60 : 0;\n    const pct = targetPerBin > 0 ? (value / targetPerBin * 100).toFixed(1) : \"0\";\n    const color = payload[0]?.payload?.color || \"#22c55e\";\n    // Determine color label based on percentage\n    const pctNum = parseFloat(pct);\n    let colorLabel = \"Green\";\n    if (pctNum >= 100) {\n        colorLabel = \"Red (â‰¥100%)\";\n    } else if (pctNum >= 90) {\n        colorLabel = \"Orange-Red (90-100%)\";\n    } else if (pctNum >= 75) {\n        colorLabel = \"Yellow-Orange (75-90%)\";\n    } else if (pctNum >= 50) {\n        colorLabel = \"Yellow-Green (50-75%)\";\n    } else {\n        colorLabel = \"Green (<50%)\";\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-xs text-slate-200 shadow-lg\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"font-semibold\",\n                children: [\n                    timeLabel,\n                    \" \\xb7 \",\n                    tooltipFormatter.format(value),\n                    \" kWh\"\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                lineNumber: 467,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-slate-400\",\n                children: [\n                    \"Peak usage per \",\n                    binSeconds,\n                    \"s \\xb7 \",\n                    pct,\n                    \"% of peak target\"\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                lineNumber: 468,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-1 flex items-center gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"h-3 w-3 rounded\",\n                        style: {\n                            backgroundColor: color\n                        }\n                    }, void 0, false, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                        lineNumber: 470,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-slate-400\",\n                        children: colorLabel\n                    }, void 0, false, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                        lineNumber: 471,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n                lineNumber: 469,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\current-block-chart.tsx\",\n        lineNumber: 466,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9kYXNoYm9hcmQvY3VycmVudC1ibG9jay1jaGFydC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsaUZBQWlGO0FBQ2pGLCtEQUErRDtBQWdCN0M7QUFFb0M7QUFDRjtBQUVwRCxNQUFNZSxXQUFXQyxtQkFBc0MsSUFBSSxDQUFtQjtBQUU5RSxNQUFNRyxrQkFBa0IsSUFBSUMsS0FBS0MsY0FBYyxDQUFDQyxXQUFXO0lBQ3pEQyxNQUFNO0lBQ05DLFFBQVE7SUFDUkMsVUFBVVY7QUFDWjtBQUVBLE1BQU1XLG1CQUFtQixJQUFJTixLQUFLTyxZQUFZLENBQUNMLFdBQVc7SUFDeERNLHVCQUF1QjtBQUN6QjtBQWtCQTs7Ozs7OztDQU9DLEdBQ0QsU0FBU0MsaUJBQWlCQyxlQUF1QjtJQUMvQyw4Q0FBOEM7SUFDOUMsTUFBTUMsVUFBVUMsS0FBS0MsR0FBRyxDQUFDLEdBQUdELEtBQUtFLEdBQUcsQ0FBQyxLQUFLSjtJQUUxQyxJQUFJQyxXQUFXLElBQUk7UUFDakIsbUNBQW1DO1FBQ25DLE1BQU1JLFFBQVFKLFVBQVU7UUFDeEIsT0FBT0ssaUJBQWlCLFdBQVcsV0FBV0Q7SUFDaEQsT0FBTyxJQUFJSixXQUFXLElBQUk7UUFDeEIscUNBQXFDO1FBQ3JDLE1BQU1JLFFBQVEsQ0FBQ0osVUFBVSxFQUFDLElBQUs7UUFDL0IsT0FBT0ssaUJBQWlCLFdBQVcsV0FBV0Q7SUFDaEQsT0FBTyxJQUFJSixXQUFXLElBQUk7UUFDeEIsK0JBQStCO1FBQy9CLE1BQU1JLFFBQVEsQ0FBQ0osVUFBVSxFQUFDLElBQUs7UUFDL0IsT0FBT0ssaUJBQWlCLFdBQVcsV0FBV0Q7SUFDaEQsT0FBTyxJQUFJSixXQUFXLEtBQUs7UUFDekIsNkJBQTZCO1FBQzdCLE1BQU1JLFFBQVEsQ0FBQ0osVUFBVSxFQUFDLElBQUs7UUFDL0IsT0FBT0ssaUJBQWlCLFdBQVcsV0FBV0Q7SUFDaEQsT0FBTztRQUNMLG1CQUFtQjtRQUNuQixNQUFNQSxRQUFRSCxLQUFLRSxHQUFHLENBQUMsR0FBRyxDQUFDSCxVQUFVLEdBQUUsSUFBSyxLQUFLLG9CQUFvQjtRQUNyRSxPQUFPSyxpQkFBaUIsV0FBVyxXQUFXRDtJQUNoRDtBQUNGO0FBRUE7O0NBRUMsR0FDRCxTQUFTQyxpQkFBaUJDLE1BQWMsRUFBRUMsTUFBYyxFQUFFSCxLQUFhO0lBQ3JFLE1BQU1JLE9BQU9GLE9BQU9HLE9BQU8sQ0FBQyxLQUFLO0lBQ2pDLE1BQU1DLE9BQU9ILE9BQU9FLE9BQU8sQ0FBQyxLQUFLO0lBRWpDLE1BQU1FLEtBQUtDLFNBQVNKLEtBQUtLLE1BQU0sQ0FBQyxHQUFHLElBQUk7SUFDdkMsTUFBTUMsS0FBS0YsU0FBU0osS0FBS0ssTUFBTSxDQUFDLEdBQUcsSUFBSTtJQUN2QyxNQUFNRSxLQUFLSCxTQUFTSixLQUFLSyxNQUFNLENBQUMsR0FBRyxJQUFJO0lBRXZDLE1BQU1HLEtBQUtKLFNBQVNGLEtBQUtHLE1BQU0sQ0FBQyxHQUFHLElBQUk7SUFDdkMsTUFBTUksS0FBS0wsU0FBU0YsS0FBS0csTUFBTSxDQUFDLEdBQUcsSUFBSTtJQUN2QyxNQUFNSyxLQUFLTixTQUFTRixLQUFLRyxNQUFNLENBQUMsR0FBRyxJQUFJO0lBRXZDLE1BQU1NLElBQUlsQixLQUFLbUIsS0FBSyxDQUFDVCxLQUFLLENBQUNLLEtBQUtMLEVBQUMsSUFBS1A7SUFDdEMsTUFBTWlCLElBQUlwQixLQUFLbUIsS0FBSyxDQUFDTixLQUFLLENBQUNHLEtBQUtILEVBQUMsSUFBS1Y7SUFDdEMsTUFBTWtCLElBQUlyQixLQUFLbUIsS0FBSyxDQUFDTCxLQUFLLENBQUNHLEtBQUtILEVBQUMsSUFBS1g7SUFFdEMsT0FBTyxDQUFDLENBQUMsRUFBRTtRQUFDZTtRQUFHRTtRQUFHQztLQUFFLENBQUNDLEdBQUcsQ0FBQ0MsQ0FBQUE7UUFDdkIsTUFBTUMsTUFBTUQsRUFBRUUsUUFBUSxDQUFDO1FBQ3ZCLE9BQU9ELElBQUlFLE1BQU0sS0FBSyxJQUFJLE1BQU1GLE1BQU1BO0lBQ3hDLEdBQUdHLElBQUksQ0FBQyxJQUFJLENBQUM7QUFDZjtBQUVBLFNBQVNDLGVBQ1BDLEtBQXlCLEVBQ3pCQyxJQUFxQyxFQUNyQ0MsYUFBc0I7SUFFdEIsOENBQThDO0lBQzlDLHFGQUFxRjtJQUNyRixJQUFJLENBQUNGLFNBQVMsQ0FBQ0EsTUFBTUcsaUJBQWlCLEVBQUU7UUFDdEMsd0RBQXdEO1FBQ3hELE1BQU1DLE1BQU0sSUFBSUM7UUFDaEIsTUFBTUMsVUFBVUYsSUFBSUcsT0FBTztRQUMzQixNQUFNQyxRQUFRRixVQUFVLEtBQUssS0FBSztRQUNsQyxNQUFNRyxPQUFPQyxNQUFNLElBQUlDLElBQUksQ0FBQyxNQUFNbEIsR0FBRyxDQUFDLENBQUNtQixHQUFHQyxRQUFXO2dCQUNuREMsSUFBSVIsVUFBVSxDQUFDTyxRQUFRLEtBQUssS0FBSztnQkFDakNFLE9BQU87WUFDVDtRQUNBLE9BQU87WUFBRU47WUFBTUg7WUFBU0U7WUFBT1EsWUFBWTtRQUFHO0lBQ2hEO0lBRUEsMEVBQTBFO0lBQzFFLE1BQU1WLFVBQVUsSUFBSUQsS0FBS0wsTUFBTUcsaUJBQWlCLEVBQUVJLE9BQU87SUFDekQsTUFBTUMsUUFBUUYsVUFBVSxLQUFLLEtBQUs7SUFDbEMsTUFBTVcsU0FBU2pCLE1BQU1rQixVQUFVLEVBQUVELFVBQVUsRUFBRTtJQUM3QyxNQUFNRCxhQUFhaEIsTUFBTWtCLFVBQVUsRUFBRUMsZUFBZTtJQUNwRCxNQUFNQyxZQUFZakQsS0FBS2tELEtBQUssQ0FBQyxLQUFNLEtBQU1MO0lBRXpDLElBQUlQLE9BQXFCLEVBQUU7SUFFM0IsSUFBSVIsU0FBUyxjQUFjO1FBQ3pCUSxPQUFPUSxPQUFPeEIsR0FBRyxDQUFDLENBQUNzQixPQUFPRixRQUFXO2dCQUNuQ0MsSUFBSVIsVUFBVSxDQUFDTyxRQUFRLEtBQUtHLGFBQWE7Z0JBQ3pDRDtZQUNGO0lBQ0YsT0FBTztRQUNMLHlFQUF5RTtRQUN6RSx3RUFBd0U7UUFDeEUsb0VBQW9FO1FBQ3BFLE1BQU1PLGVBQWVwQixnQkFBZ0JBLGdCQUFnQixLQUFLLEdBQUcsaUNBQWlDO1FBRTlGTyxPQUFPUSxPQUFPeEIsR0FBRyxDQUFDLENBQUNzQixPQUFPRjtZQUN4QixNQUFNVSxZQUFZUixRQUFTRixDQUFBQSxVQUFVLElBQUksSUFBSUksTUFBTSxDQUFDSixRQUFRLEVBQUU7WUFDOUQsTUFBTTVDLGtCQUFrQnFELGVBQWUsSUFBSSxZQUFhQSxlQUFnQixNQUFNO1lBRTlFLHFDQUFxQztZQUNyQyxNQUFNRSxRQUFReEQsaUJBQWlCQztZQUUvQixPQUFPO2dCQUNMNkMsSUFBSVIsVUFBVSxDQUFDTyxRQUFRLEtBQUtHLGFBQWE7Z0JBQ3pDRCxPQUFPUTtnQkFDUEM7Z0JBQ0F2RDtZQUNGO1FBQ0Y7SUFDRjtJQUVBLDRCQUE0QjtJQUM1QixNQUFNd0QsYUFBYWYsTUFBTVUsV0FBV1QsSUFBSSxDQUFDLE1BQU1sQixHQUFHLENBQUMsQ0FBQ21CLEdBQUdDO1FBQ3JELE1BQU1DLEtBQUtSLFVBQVUsQ0FBQ08sUUFBUSxLQUFLRyxhQUFhO1FBQ2hELE1BQU1VLGdCQUFnQmpCLEtBQUtrQixJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUVkLEVBQUUsS0FBS0E7UUFDOUMsT0FBT1ksaUJBQWlCO1lBQUVaO1lBQUlDLE9BQU87WUFBR1MsT0FBTztZQUFXdkQsaUJBQWlCO1FBQUU7SUFDL0U7SUFFQSxPQUFPO1FBQUV3QyxNQUFNZ0I7UUFBWW5CO1FBQVNFO1FBQU9RO0lBQVc7QUFDeEQ7QUFFQSxTQUFTYSxhQUFhdkIsT0FBZSxFQUFFRSxLQUFhO0lBQ2xELElBQUk7UUFDRixNQUFNc0IsUUFBUSxJQUFJekIsS0FBS0M7UUFDdkIsTUFBTXlCLE1BQU0sSUFBSTFCLEtBQUtHO1FBQ3JCLE9BQU8xRCxtRUFBaUJBLENBQUNnRixNQUFNRSxXQUFXLElBQUlELElBQUlDLFdBQVcsSUFBSTlFO0lBQ25FLEVBQUUsT0FBTTtRQUNOLE9BQU87SUFDVDtBQUNGO0FBRU8sU0FBUytFLGtCQUFrQixFQUFFakMsS0FBSyxFQUFFa0MsT0FBTyxFQUFFQyxTQUFTLEVBQUVqQyxhQUFhLEVBQUVELElBQUksRUFBRW1DLGFBQWEsRUFBMEI7SUFDekgsTUFBTUMsaUJBQWlCRixhQUFhbkMsT0FBT3NDLGNBQWM7SUFFekQsK0RBQStEO0lBQy9ELE1BQU0sRUFBRTdCLE1BQU04QixTQUFTLEVBQUVqQyxPQUFPLEVBQUVFLEtBQUssRUFBRVEsVUFBVSxFQUFFLEdBQUdqQixlQUFlQyxPQUFPQyxNQUFNQztJQUVwRixNQUFNc0MsY0FBY1gsYUFBYXZCLFNBQVNFO0lBRTFDLE1BQU1pQyxlQUFleEMsU0FBUztJQUU5Qix1REFBdUQ7SUFDdkQsTUFBTXlDLGNBQWMxRiw2Q0FBTUEsQ0FBZSxFQUFFO0lBQzNDLE1BQU0sQ0FBQzJGLFdBQVdDLGFBQWEsR0FBRzNGLCtDQUFRQSxDQUFzQixJQUFJNEY7SUFDcEUsTUFBTSxDQUFDQyxjQUFjQyxnQkFBZ0IsR0FBRzlGLCtDQUFRQSxDQUFlLEVBQUU7SUFDakUsTUFBTStGLHNCQUFzQmhHLDZDQUFNQSxDQUF3QjtJQUMxRCxNQUFNLENBQUNpRyxjQUFjQyxnQkFBZ0IsR0FBR2pHLCtDQUFRQSxDQUFDLElBQUksNEJBQTRCO0lBRWpGRixnREFBU0EsQ0FBQztRQUNSLHNDQUFzQztRQUN0QyxJQUFJaUcsb0JBQW9CRyxPQUFPLEVBQUU7WUFDL0JDLGFBQWFKLG9CQUFvQkcsT0FBTztZQUN4Q0gsb0JBQW9CRyxPQUFPLEdBQUc7UUFDaEM7UUFFQSxJQUFJVixnQkFBZ0JGLFVBQVUxQyxNQUFNLEtBQUssR0FBRztZQUMxQzZDLFlBQVlTLE9BQU8sR0FBR1o7WUFDdEJRLGdCQUFnQjttQkFBSVI7YUFBVSxHQUFHLDZCQUE2QjtZQUM5RDtRQUNGO1FBRUEsdURBQXVEO1FBQ3ZELE1BQU1jLGNBQWNDLEtBQUtDLFNBQVMsQ0FBQ2IsWUFBWVMsT0FBTyxNQUFNRyxLQUFLQyxTQUFTLENBQUNoQjtRQUMzRSxJQUFJLENBQUNjLGFBQWE7WUFDaEIsUUFBUSx1Q0FBdUM7UUFDakQ7UUFFQSw2RUFBNkU7UUFDN0UsTUFBTUcsZ0JBQWdCLElBQUlYLElBQUlGO1FBQzlCLE1BQU1jLGdCQUEwQixFQUFFO1FBRWxDLGdDQUFnQztRQUNoQ2xCLFVBQVVtQixPQUFPLENBQUMsQ0FBQ0MsT0FBTzlDO1lBQ3hCLE1BQU0rQyxZQUFZbEIsWUFBWVMsT0FBTyxDQUFDdEMsTUFBTTtZQUM1QyxJQUFJOEMsTUFBTTVDLEtBQUssR0FBRyxLQUFNLEVBQUM2QyxhQUFhQSxVQUFVN0MsS0FBSyxLQUFLLElBQUk7Z0JBQzVEMEMsY0FBY0ksSUFBSSxDQUFDaEQ7WUFDckI7UUFDRjtRQUVBLElBQUk0QyxjQUFjNUQsTUFBTSxHQUFHLEdBQUc7WUFDNUIsbUZBQW1GO1lBQ25GLE1BQU1pRSxjQUE0QnZCLFVBQVU5QyxHQUFHLENBQUMsQ0FBQ2tFLE9BQU85QztnQkFDdEQsTUFBTWtELGNBQWNKLE1BQU1uQyxLQUFLLElBQUk7Z0JBRW5DLElBQUlpQyxjQUFjTyxRQUFRLENBQUNuRCxRQUFRO29CQUNqQyw4Q0FBOEM7b0JBQzlDMkMsY0FBY1MsR0FBRyxDQUFDcEQsT0FBTztvQkFFekIsNENBQTRDO29CQUM1QyxPQUFPO3dCQUNMQyxJQUFJNkMsTUFBTTdDLEVBQUU7d0JBQ1pDLE9BQU87d0JBQ1BTLE9BQU87d0JBQ1B2RCxpQkFBaUI7b0JBQ25CO2dCQUNGLE9BQU87b0JBQ0wsbUNBQW1DO29CQUNuQ3VGLGNBQWNTLEdBQUcsQ0FBQ3BELE9BQU9rRDtvQkFDekIsT0FBTzt3QkFBRSxHQUFHSixLQUFLO29CQUFDLEdBQUcsOEJBQThCO2dCQUNyRDtZQUNGO1lBRUEseUVBQXlFO1lBQ3pFWixnQkFBZ0I7bUJBQUllO2FBQVk7WUFDaENsQixhQUFhLElBQUlDLElBQUlXO1lBRXJCLGlFQUFpRTtZQUNqRSx5REFBeUQ7WUFDekRSLG9CQUFvQkcsT0FBTyxHQUFHZSxXQUFXO2dCQUN2Q0Msc0JBQXNCO29CQUNwQixvRUFBb0U7b0JBQ3BFakIsZ0JBQWdCa0IsQ0FBQUEsT0FBUUEsT0FBTztvQkFFL0Isc0NBQXNDO29CQUN0QyxNQUFNQyxZQUEwQjlCLFVBQVU5QyxHQUFHLENBQUMsQ0FBQ2tFLE9BQU85QyxRQUFXOzRCQUFFLEdBQUc4QyxLQUFLO3dCQUFDO29CQUM1RVosZ0JBQWdCOzJCQUFJc0I7cUJBQVU7b0JBRTlCLHVDQUF1QztvQkFDdkNILFdBQVc7d0JBQ1QzQixVQUFVbUIsT0FBTyxDQUFDLENBQUNDLE9BQU85Qzs0QkFDeEIsSUFBSTRDLGNBQWNPLFFBQVEsQ0FBQ25ELFFBQVE7Z0NBQ2pDLE1BQU1rRCxjQUFjSixNQUFNbkMsS0FBSyxJQUFJO2dDQUNuQ29CLGFBQWF3QixDQUFBQTtvQ0FDWCxNQUFNRSxPQUFPLElBQUl6QixJQUFJdUI7b0NBQ3JCRSxLQUFLTCxHQUFHLENBQUNwRCxPQUFPa0Q7b0NBQ2hCLE9BQU9PO2dDQUNUOzRCQUNGO3dCQUNGO29CQUNGLEdBQUc7Z0JBQ0w7WUFDRixHQUFHLE1BQU0sK0NBQStDO1lBRXhENUIsWUFBWVMsT0FBTyxHQUFHO21CQUFJWjthQUFVLEVBQUUsYUFBYTtRQUNyRCxPQUFPO1lBQ0wsbURBQW1EO1lBQ25EQSxVQUFVbUIsT0FBTyxDQUFDLENBQUNDLE9BQU85QztnQkFDeEIyQyxjQUFjUyxHQUFHLENBQUNwRCxPQUFPOEMsTUFBTW5DLEtBQUssSUFBSTtZQUMxQztZQUNBb0IsYUFBYSxJQUFJQyxJQUFJVztZQUNyQlQsZ0JBQWdCUixVQUFVOUMsR0FBRyxDQUFDbUMsQ0FBQUEsSUFBTTtvQkFBRSxHQUFHQSxDQUFDO2dCQUFDLE1BQU0sK0JBQStCO1lBQ2hGYyxZQUFZUyxPQUFPLEdBQUc7bUJBQUlaO2FBQVUsRUFBRSxhQUFhO1FBQ3JEO1FBRUEsT0FBTztZQUNMLElBQUlTLG9CQUFvQkcsT0FBTyxFQUFFO2dCQUMvQkMsYUFBYUosb0JBQW9CRyxPQUFPO1lBQzFDO1FBQ0Y7SUFDQSx1REFBdUQ7SUFDekQsR0FBRztRQUFDWjtRQUFXRTtLQUFhO0lBRTVCLDZFQUE2RTtJQUM3RSxNQUFNOEIsaUJBQWlCOUIsZUFBZWpHLDJLQUFTQSxHQUFHSiwwS0FBUUE7SUFDMUQsTUFBTW9JLGNBQWMvQiw2QkFDbEIsOERBQUNsRyxzS0FBSUE7UUFBQ2tJLE1BQUs7UUFBV0MsU0FBUTtRQUFRQyxRQUFPO1FBQVVDLGFBQWE7UUFBR0MsS0FBSztRQUFPQyxtQkFBbUI7UUFBTUMsbUJBQW1COzs7Ozs2QkFFL0gsOERBQUM1SSxxS0FBR0E7UUFDRnVJLFNBQVE7UUFDUk0sUUFBUTtZQUFDO1lBQUc7WUFBRztZQUFHO1NBQUU7UUFDcEJGLG1CQUFtQjtRQUNuQkMsbUJBQW1CO1FBQ25CRSxnQkFBZ0I7a0JBRWZuQyxhQUFhckQsR0FBRyxDQUFDLENBQUN5RixPQUFPckU7WUFDeEIsTUFBTXNFLGVBQWV4QyxVQUFVeUMsR0FBRyxDQUFDdkUsVUFBVXFFLE1BQU0xRCxLQUFLLElBQUk7WUFFNUQscUJBQ0UsOERBQUNuRixzS0FBSUE7Z0JBRUhzRSxNQUFNd0U7Z0JBQ05FLE9BQU87b0JBQ0xDLFlBQVk7Z0JBQ2Q7ZUFKSyxDQUFDLEtBQUssRUFBRUosTUFBTXBFLEVBQUUsQ0FBQyxDQUFDLEVBQUVELE1BQU0sQ0FBQzs7Ozs7UUFPdEM7Ozs7OztJQUlKLGtCQUFrQjtJQUNsQixNQUFNMEUsZ0JBQWdCOUMsNkJBQ3BCLDhEQUFDaEcsK0tBQWFBO1FBQUMrSSxHQUFHbkQ7UUFBZ0JzQyxRQUFPO1FBQVVjLGlCQUFnQjs7Ozs7ZUFDakV2RixnQkFDRiwyRUFBMkU7a0JBQzNFLDhEQUFDekQsK0tBQWFBO1FBQ1orSSxHQUFHdEYsZ0JBQWdCO1FBQ25CeUUsUUFBTztRQUNQQyxhQUFhO1FBQ2JhLGlCQUFnQjtRQUNoQkMsT0FBTztZQUFFM0UsT0FBTztZQUFlNEUsVUFBVTtZQUFTaEYsTUFBTTtZQUE0QmlGLFVBQVU7UUFBRzs7Ozs7ZUFFakc7SUFFSixxQkFDRSw4REFBQ0M7UUFBUUMsV0FBVTs7MEJBQ2pCLDhEQUFDQztnQkFBT0QsV0FBVTs7a0NBQ2hCLDhEQUFDRTs7MENBQ0MsOERBQUNDO2dDQUFHSCxXQUFVOzBDQUE4Qzs7Ozs7OzBDQUM1RCw4REFBQ2xFO2dDQUFFa0UsV0FBVTs7b0NBQW9DO29DQUFRdEQ7Ozs7Ozs7Ozs7Ozs7a0NBRTNELDhEQUFDd0Q7d0JBQUlGLFdBQVU7a0NBQ1pyRCw2QkFDQzs7Z0NBQUU7Z0NBQ1FKLGVBQWU2RCxPQUFPLENBQUM7Z0NBQUc7Z0NBQW9CbEcsT0FBT21HLGdCQUFnQkQsUUFBUSxNQUFNO2dDQUFJOzt5REFHakc7O2dDQUFFO2dDQUNRaEcsZUFBZWdHLFFBQVEsTUFBTTtnQ0FBSTtnQ0FBMENoRyxDQUFBQSxnQkFBZ0JBLGdCQUFnQixLQUFLLEdBQUdnRyxPQUFPLENBQUM7Z0NBQUc7Ozs7Ozs7Ozs7Ozs7OzBCQUs5SSw4REFBQ0Y7Z0JBQUlGLFdBQVU7MEJBQ1o1RCxXQUFXLENBQUNsQyxRQUNYLHlEQUF5RDs4QkFDekQsOERBQUNnRztvQkFBSUYsV0FBVTs4QkFDYiw0RUFBQ007d0JBQUtOLFdBQVU7a0NBQXlCOzs7Ozs7Ozs7OzJCQUV6Q3ZELFVBQVUxQyxNQUFNLEtBQUssS0FBSzBDLFVBQVU4RCxLQUFLLENBQUN6RSxDQUFBQSxJQUFLQSxFQUFFYixLQUFLLEtBQUssbUJBQzdELDhEQUFDaUY7b0JBQUlGLFdBQVU7OEJBQ2IsNEVBQUNNO3dCQUFLTixXQUFVO2tDQUF5Qjs7Ozs7Ozs7Ozt5Q0FHM0MsOERBQUNwSixxTEFBbUJBO29CQUFDNEosT0FBTTtvQkFBT0MsUUFBTzs4QkFDdkMsNEVBQUNoQzt3QkFFQzlELE1BQU1nQyxlQUFlRixZQUFZTzt3QkFDakMwRCxRQUFROzRCQUFFQyxNQUFNOzRCQUFJQyxPQUFPOzRCQUFJQyxLQUFLOzRCQUFJQyxRQUFRO3dCQUFHOzswQ0FFbkQsOERBQUN0SyxnTEFBYUE7Z0NBQUNtSixpQkFBZ0I7Z0NBQU1kLFFBQU87Ozs7OzswQ0FDNUMsOERBQUMvSCx3S0FBS0E7Z0NBQ0o4SCxTQUFRO2dDQUNSRCxNQUFLO2dDQUNMb0MsUUFBUTtvQ0FBQ3ZHO29DQUFTRTtpQ0FBTTtnQ0FDeEJzRyxlQUFlLENBQUNoRyxLQUFPeEQsZ0JBQWdCeUosTUFBTSxDQUFDakc7Z0NBQzlDNkQsUUFBTztnQ0FDUHFDLFVBQVU7Ozs7OzswQ0FFWiw4REFBQ25LLHdLQUFLQTtnQ0FDSjZILFNBQVE7Z0NBQ1JDLFFBQU87Z0NBQ1BxQyxVQUFVO2dDQUNWVixPQUFPO2dDQUNQUSxlQUFlLENBQUMvRixRQUFVbEQsaUJBQWlCa0osTUFBTSxDQUFDaEc7Ozs7OzswQ0FFcEQsOERBQUNwRSwwS0FBT0E7Z0NBQUNzSyx1QkFBUyw4REFBQ0M7b0NBQWNDLFFBQVE5RTtvQ0FBZ0JuQyxlQUFlQTtvQ0FBZUQsTUFBTUE7b0NBQU1lLFlBQVlBOzs7Ozs7Ozs7Ozs0QkFDOUd1RTs0QkFDQWY7O3VCQXRCSS9CLGVBQWVoRixZQUFZLENBQUMsTUFBTSxFQUFFd0YsYUFBYSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7MEJBMkIvRCw4REFBQ3JCO2dCQUFFa0UsV0FBVTswQkFBOEI7Ozs7Ozs7Ozs7OztBQUtqRDtBQVlBLFNBQVNvQixjQUFjLEVBQUVFLE1BQU0sRUFBRUMsT0FBTyxFQUFFM0IsS0FBSyxFQUFFeUIsTUFBTSxFQUFFakgsYUFBYSxFQUFFRCxJQUFJLEVBQUVlLFVBQVUsRUFBc0I7SUFDNUcsSUFBSSxDQUFDb0csVUFBVSxDQUFDQyxXQUFXQSxRQUFReEgsTUFBTSxLQUFLLEtBQUssQ0FBQzZGLE9BQU87UUFDekQsT0FBTztJQUNUO0lBQ0EsTUFBTTNFLFFBQVFzRyxPQUFPLENBQUMsRUFBRSxFQUFFdEcsU0FBUztJQUNuQyxNQUFNMEIsZUFBZXhDLFNBQVM7SUFDOUIsTUFBTXFILFlBQVloSyxnQkFBZ0J5SixNQUFNLENBQUNyQjtJQUV6QyxJQUFJakQsY0FBYztRQUNoQixNQUFNOEUsTUFBTUosU0FBUyxJQUFJLENBQUMsUUFBU0EsU0FBVSxHQUFFLEVBQUdqQixPQUFPLENBQUMsS0FBSztRQUMvRCxxQkFDRSw4REFBQ0Y7WUFBSUYsV0FBVTs7OEJBQ2IsOERBQUNsRTtvQkFBRWtFLFdBQVU7O3dCQUFpQndCO3dCQUFVO3dCQUFJekosaUJBQWlCa0osTUFBTSxDQUFDaEc7d0JBQU87Ozs7Ozs7OEJBQzNFLDhEQUFDYTtvQkFBRWtFLFdBQVU7O3dCQUFpQjt3QkFBZXlCO3dCQUFJOzs7Ozs7Ozs7Ozs7O0lBR3ZEO0lBRUEscUVBQXFFO0lBQ3JFLE1BQU1qRyxlQUFlcEIsZ0JBQWdCQSxnQkFBZ0IsS0FBSztJQUMxRCxNQUFNcUgsTUFBTWpHLGVBQWUsSUFBSSxDQUFDLFFBQVNBLGVBQWdCLEdBQUUsRUFBRzRFLE9BQU8sQ0FBQyxLQUFLO0lBQzNFLE1BQU0xRSxRQUFRNkYsT0FBTyxDQUFDLEVBQUUsRUFBRUEsU0FBUzdGLFNBQVM7SUFFNUMsNENBQTRDO0lBQzVDLE1BQU1nRyxTQUFTQyxXQUFXRjtJQUMxQixJQUFJRyxhQUFhO0lBQ2pCLElBQUlGLFVBQVUsS0FBSztRQUNqQkUsYUFBYTtJQUNmLE9BQU8sSUFBSUYsVUFBVSxJQUFJO1FBQ3ZCRSxhQUFhO0lBQ2YsT0FBTyxJQUFJRixVQUFVLElBQUk7UUFDdkJFLGFBQWE7SUFDZixPQUFPLElBQUlGLFVBQVUsSUFBSTtRQUN2QkUsYUFBYTtJQUNmLE9BQU87UUFDTEEsYUFBYTtJQUNmO0lBRUEscUJBQ0UsOERBQUMxQjtRQUFJRixXQUFVOzswQkFDYiw4REFBQ2xFO2dCQUFFa0UsV0FBVTs7b0JBQWlCd0I7b0JBQVU7b0JBQUl6SixpQkFBaUJrSixNQUFNLENBQUNoRztvQkFBTzs7Ozs7OzswQkFDM0UsOERBQUNhO2dCQUFFa0UsV0FBVTs7b0JBQWlCO29CQUFnQjlFO29CQUFXO29CQUFLdUc7b0JBQUk7Ozs7Ozs7MEJBQ2xFLDhEQUFDdkI7Z0JBQUlGLFdBQVU7O2tDQUNiLDhEQUFDRTt3QkFBSUYsV0FBVTt3QkFBa0JULE9BQU87NEJBQUVzQyxpQkFBaUJuRzt3QkFBTTs7Ozs7O2tDQUNqRSw4REFBQzRFO3dCQUFLTixXQUFVO2tDQUFrQjRCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJMUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ldGVybmFsZ3ktZW1zLWZyb250ZW5kLy4vc3JjL2NvbXBvbmVudHMvZGFzaGJvYXJkL2N1cnJlbnQtYmxvY2stY2hhcnQudHN4P2Y3NzIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcblxyXG4vLyBSRVNQT05TSVZFLUFXQVJFOiBDaGFydCBoZWlnaHQgYWRqdXN0cyBmb3IgbW9iaWxlIChoLTQ4KSBhbmQgZGVza3RvcCAobWQ6aC03MilcclxuLy8gU2VlIGRvY3MvUkVTUE9OU0lWRS5tZCBmb3IgcmVzcG9uc2l2ZSBkZXZlbG9wbWVudCBndWlkZWxpbmVzXHJcblxyXG5pbXBvcnQge1xyXG4gIEFyZWEsXHJcbiAgQXJlYUNoYXJ0LFxyXG4gIEJhcixcclxuICBCYXJDaGFydCxcclxuICBDZWxsLFxyXG4gIENhcnRlc2lhbkdyaWQsXHJcbiAgTGluZSxcclxuICBMaW5lQ2hhcnQsXHJcbiAgUmVmZXJlbmNlTGluZSxcclxuICBSZXNwb25zaXZlQ29udGFpbmVyLFxyXG4gIFRvb2x0aXAsXHJcbiAgWEF4aXMsXHJcbiAgWUF4aXNcclxufSBmcm9tIFwicmVjaGFydHNcIjtcclxuaW1wb3J0IHR5cGUgeyBMYXRlc3RCbG9jayB9IGZyb20gXCJAL2xpYi90eXBlc1wiO1xyXG5pbXBvcnQgeyBmb3JtYXRCbG9ja1dpbmRvdyB9IGZyb20gXCJAL2xpYi9ibG9jay11dGlsc1wiO1xyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcclxuXHJcbmNvbnN0IFRJTUVaT05FID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfVElNRVpPTkVfTEFCRUwgPz8gXCJBc2lhL0t1YWxhX0x1bXB1clwiO1xyXG5cclxuY29uc3Qgd2luZG93Rm9ybWF0dGVyID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQodW5kZWZpbmVkLCB7XHJcbiAgaG91cjogXCIyLWRpZ2l0XCIsXHJcbiAgbWludXRlOiBcIjItZGlnaXRcIixcclxuICB0aW1lWm9uZTogVElNRVpPTkVcclxufSk7XHJcblxyXG5jb25zdCB0b29sdGlwRm9ybWF0dGVyID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KHVuZGVmaW5lZCwge1xyXG4gIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMlxyXG59KTtcclxuXHJcbnR5cGUgQ3VycmVudEJsb2NrQ2hhcnRQcm9wcyA9IHtcclxuICBibG9jazogTGF0ZXN0QmxvY2sgfCBudWxsO1xyXG4gIGxvYWRpbmc6IGJvb2xlYW47XHJcbiAgdGFyZ2V0S3doPzogbnVtYmVyO1xyXG4gIHRhcmdldFBlYWtLd2g/OiBudW1iZXI7IC8vIFRhcmdldCBhY2N1bXVsYXRlZF9rd2ggZm9yIHRoZSAzMC1taW51dGUgYmxvY2sgKGZvciBub24tYWNjdW11bGF0ZSBtb2RlKVxyXG4gIG1vZGU6IFwiYWNjdW11bGF0ZVwiIHwgXCJub24tYWNjdW11bGF0ZVwiO1xyXG4gIGxhc3RSZWFkaW5nVHM/OiBzdHJpbmcgfCBudWxsOyAvLyBMYXN0IHJlYWRpbmcgdGltZXN0YW1wIHRvIGRldGVybWluZSBjdXJyZW50IGJsb2NrXHJcbn07XHJcblxyXG50eXBlIENoYXJ0UG9pbnQgPSB7XHJcbiAgdHM6IG51bWJlcjtcclxuICB2YWx1ZTogbnVtYmVyO1xyXG4gIGNvbG9yPzogc3RyaW5nOyAvLyBGb3IgY29sb3ItY29kZWQgYmFycyBpbiBub24tYWNjdW11bGF0ZSBtb2RlXHJcbiAgcGVyY2VudE9mVGFyZ2V0PzogbnVtYmVyOyAvLyBTdG9yZSBwZXJjZW50YWdlIGZvciBncmFkaWVudCBjYWxjdWxhdGlvblxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEdlbmVyYXRlIHNtb290aCBncmFkaWVudCBjb2xvciBmcm9tIGdyZWVuIHRvIHJlZCBiYXNlZCBvbiBwZXJjZW50YWdlXHJcbiAqIDAlID0gZ3JlZW4gKCMyMmM1NWUpXHJcbiAqIDUwJSA9IHllbGxvdy1ncmVlbiAoIzg0Y2MxNilcclxuICogNzUlID0geWVsbG93ICgjZWFiMzA4KVxyXG4gKiA5MCUgPSBvcmFuZ2UgKCNmOTczMTYpXHJcbiAqIDEwMCUrID0gcmVkICgjZWY0NDQ0KVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0R3JhZGllbnRDb2xvcihwZXJjZW50T2ZUYXJnZXQ6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgLy8gQ2xhbXAgdG8gMC0xMjAlIHJhbmdlIGZvciBzbW9vdGggdHJhbnNpdGlvblxyXG4gIGNvbnN0IGNsYW1wZWQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxMjAsIHBlcmNlbnRPZlRhcmdldCkpO1xyXG4gIFxyXG4gIGlmIChjbGFtcGVkIDw9IDUwKSB7XHJcbiAgICAvLyBHcmVlbiB0byB5ZWxsb3ctZ3JlZW46IDAlIC0+IDUwJVxyXG4gICAgY29uc3QgcmF0aW8gPSBjbGFtcGVkIC8gNTA7XHJcbiAgICByZXR1cm4gaW50ZXJwb2xhdGVDb2xvcihcIiMyMmM1NWVcIiwgXCIjODRjYzE2XCIsIHJhdGlvKTtcclxuICB9IGVsc2UgaWYgKGNsYW1wZWQgPD0gNzUpIHtcclxuICAgIC8vIFllbGxvdy1ncmVlbiB0byB5ZWxsb3c6IDUwJSAtPiA3NSVcclxuICAgIGNvbnN0IHJhdGlvID0gKGNsYW1wZWQgLSA1MCkgLyAyNTtcclxuICAgIHJldHVybiBpbnRlcnBvbGF0ZUNvbG9yKFwiIzg0Y2MxNlwiLCBcIiNlYWIzMDhcIiwgcmF0aW8pO1xyXG4gIH0gZWxzZSBpZiAoY2xhbXBlZCA8PSA5MCkge1xyXG4gICAgLy8gWWVsbG93IHRvIG9yYW5nZTogNzUlIC0+IDkwJVxyXG4gICAgY29uc3QgcmF0aW8gPSAoY2xhbXBlZCAtIDc1KSAvIDE1O1xyXG4gICAgcmV0dXJuIGludGVycG9sYXRlQ29sb3IoXCIjZWFiMzA4XCIsIFwiI2Y5NzMxNlwiLCByYXRpbyk7XHJcbiAgfSBlbHNlIGlmIChjbGFtcGVkIDw9IDEwMCkge1xyXG4gICAgLy8gT3JhbmdlIHRvIHJlZDogOTAlIC0+IDEwMCVcclxuICAgIGNvbnN0IHJhdGlvID0gKGNsYW1wZWQgLSA5MCkgLyAxMDtcclxuICAgIHJldHVybiBpbnRlcnBvbGF0ZUNvbG9yKFwiI2Y5NzMxNlwiLCBcIiNlZjQ0NDRcIiwgcmF0aW8pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyAxMDAlKyA9IGRlZXAgcmVkXHJcbiAgICBjb25zdCByYXRpbyA9IE1hdGgubWluKDEsIChjbGFtcGVkIC0gMTAwKSAvIDIwKTsgLy8gRGFya2VuIHVwIHRvIDEyMCVcclxuICAgIHJldHVybiBpbnRlcnBvbGF0ZUNvbG9yKFwiI2VmNDQ0NFwiLCBcIiNkYzI2MjZcIiwgcmF0aW8pO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEludGVycG9sYXRlIGJldHdlZW4gdHdvIGhleCBjb2xvcnNcclxuICovXHJcbmZ1bmN0aW9uIGludGVycG9sYXRlQ29sb3IoY29sb3IxOiBzdHJpbmcsIGNvbG9yMjogc3RyaW5nLCByYXRpbzogbnVtYmVyKTogc3RyaW5nIHtcclxuICBjb25zdCBoZXgxID0gY29sb3IxLnJlcGxhY2UoXCIjXCIsIFwiXCIpO1xyXG4gIGNvbnN0IGhleDIgPSBjb2xvcjIucmVwbGFjZShcIiNcIiwgXCJcIik7XHJcbiAgXHJcbiAgY29uc3QgcjEgPSBwYXJzZUludChoZXgxLnN1YnN0cigwLCAyKSwgMTYpO1xyXG4gIGNvbnN0IGcxID0gcGFyc2VJbnQoaGV4MS5zdWJzdHIoMiwgMiksIDE2KTtcclxuICBjb25zdCBiMSA9IHBhcnNlSW50KGhleDEuc3Vic3RyKDQsIDIpLCAxNik7XHJcbiAgXHJcbiAgY29uc3QgcjIgPSBwYXJzZUludChoZXgyLnN1YnN0cigwLCAyKSwgMTYpO1xyXG4gIGNvbnN0IGcyID0gcGFyc2VJbnQoaGV4Mi5zdWJzdHIoMiwgMiksIDE2KTtcclxuICBjb25zdCBiMiA9IHBhcnNlSW50KGhleDIuc3Vic3RyKDQsIDIpLCAxNik7XHJcbiAgXHJcbiAgY29uc3QgciA9IE1hdGgucm91bmQocjEgKyAocjIgLSByMSkgKiByYXRpbyk7XHJcbiAgY29uc3QgZyA9IE1hdGgucm91bmQoZzEgKyAoZzIgLSBnMSkgKiByYXRpbyk7XHJcbiAgY29uc3QgYiA9IE1hdGgucm91bmQoYjEgKyAoYjIgLSBiMSkgKiByYXRpbyk7XHJcbiAgXHJcbiAgcmV0dXJuIGAjJHtbciwgZywgYl0ubWFwKHggPT4ge1xyXG4gICAgY29uc3QgaGV4ID0geC50b1N0cmluZygxNik7XHJcbiAgICByZXR1cm4gaGV4Lmxlbmd0aCA9PT0gMSA/IFwiMFwiICsgaGV4IDogaGV4O1xyXG4gIH0pLmpvaW4oXCJcIil9YDtcclxufVxyXG5cclxuZnVuY3Rpb24gYnVpbGRDaGFydERhdGEoXHJcbiAgYmxvY2s6IExhdGVzdEJsb2NrIHwgbnVsbCxcclxuICBtb2RlOiBcImFjY3VtdWxhdGVcIiB8IFwibm9uLWFjY3VtdWxhdGVcIixcclxuICB0YXJnZXRQZWFrS3doPzogbnVtYmVyXHJcbik6IHsgZGF0YTogQ2hhcnRQb2ludFtdOyBzdGFydFRzOiBudW1iZXI7IGVuZFRzOiBudW1iZXI7IGJpblNlY29uZHM6IG51bWJlciB9IHtcclxuICAvLyBTaW1wbGU6IHRydXN0IGJhY2tlbmQgYmxvY2sgZGF0YSBjb21wbGV0ZWx5XHJcbiAgLy8gQ2hhcnQgd2lsbCBhbHdheXMgc2hvdyB0aGUgbGF0ZXN0IDMwbWluIGJsb2NrIGZyb20gc3RvcmVkIHNpZ25hbHMgKGV2ZW4gaWYgZnV0dXJlKVxyXG4gIGlmICghYmxvY2sgfHwgIWJsb2NrLmJsb2NrX3N0YXJ0X2xvY2FsKSB7XHJcbiAgICAvLyBGYWxsYmFjazogcmV0dXJuIGVtcHR5IGNoYXJ0IHdpdGggY3VycmVudCB0aW1lIHdpbmRvd1xyXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuICAgIGNvbnN0IHN0YXJ0VHMgPSBub3cuZ2V0VGltZSgpO1xyXG4gICAgY29uc3QgZW5kVHMgPSBzdGFydFRzICsgMzAgKiA2MCAqIDEwMDA7XHJcbiAgICBjb25zdCBkYXRhID0gQXJyYXkoNjApLmZpbGwobnVsbCkubWFwKChfLCBpbmRleCkgPT4gKHtcclxuICAgICAgdHM6IHN0YXJ0VHMgKyAoaW5kZXggKyAxKSAqIDMwICogMTAwMCxcclxuICAgICAgdmFsdWU6IDAsXHJcbiAgICB9KSk7XHJcbiAgICByZXR1cm4geyBkYXRhLCBzdGFydFRzLCBlbmRUcywgYmluU2Vjb25kczogMzAgfTtcclxuICB9XHJcblxyXG4gIC8vIFVzZSBiYWNrZW5kIGJsb2NrIGRhdGEgLSBhbHdheXMgc2hvdyBsYXRlc3QgYmxvY2sgKHNpbXBsZSBhbmQgcmVsaWFibGUpXHJcbiAgY29uc3Qgc3RhcnRUcyA9IG5ldyBEYXRlKGJsb2NrLmJsb2NrX3N0YXJ0X2xvY2FsKS5nZXRUaW1lKCk7XHJcbiAgY29uc3QgZW5kVHMgPSBzdGFydFRzICsgMzAgKiA2MCAqIDEwMDA7XHJcbiAgY29uc3QgcG9pbnRzID0gYmxvY2suY2hhcnRfYmlucz8ucG9pbnRzID8/IFtdO1xyXG4gIGNvbnN0IGJpblNlY29uZHMgPSBibG9jay5jaGFydF9iaW5zPy5iaW5fc2Vjb25kcyA/PyAzMDtcclxuICBjb25zdCBudW1Qb2ludHMgPSBNYXRoLmZsb29yKCgzMCAqIDYwKSAvIGJpblNlY29uZHMpO1xyXG5cclxuICBsZXQgZGF0YTogQ2hhcnRQb2ludFtdID0gW107XHJcblxyXG4gIGlmIChtb2RlID09PSBcImFjY3VtdWxhdGVcIikge1xyXG4gICAgZGF0YSA9IHBvaW50cy5tYXAoKHZhbHVlLCBpbmRleCkgPT4gKHtcclxuICAgICAgdHM6IHN0YXJ0VHMgKyAoaW5kZXggKyAxKSAqIGJpblNlY29uZHMgKiAxMDAwLFxyXG4gICAgICB2YWx1ZVxyXG4gICAgfSkpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBOb24tYWNjdW11bGF0ZSBtb2RlOiBjYWxjdWxhdGUgcGVhayB1c2FnZSBwZXIgYmluIGFuZCBhZGQgY29sb3IgY29kaW5nXHJcbiAgICAvLyB0YXJnZXRQZWFrS3doIGlzIHRoZSBUT1RBTCBhY2N1bXVsYXRlZCB0YXJnZXQgZm9yIHRoZSAzMC1taW51dGUgYmxvY2tcclxuICAgIC8vIERpdmlkZSBieSA2MCBiaW5zIChhc3N1bWluZyAzMC1zZWNvbmQgYmlucykgdG8gZ2V0IHRhcmdldCBwZXIgYmluXHJcbiAgICBjb25zdCB0YXJnZXRQZXJCaW4gPSB0YXJnZXRQZWFrS3doID8gdGFyZ2V0UGVha0t3aCAvIDYwIDogMDsgLy8gMzBtaW4gYmxvY2sgPSA2MCBiaW5zIG9mIDMwc2VjXHJcbiAgICBcclxuICAgIGRhdGEgPSBwb2ludHMubWFwKCh2YWx1ZSwgaW5kZXgpID0+IHtcclxuICAgICAgY29uc3QgcGVha1VzYWdlID0gdmFsdWUgLSAoaW5kZXggPT09IDAgPyAwIDogcG9pbnRzW2luZGV4IC0gMV0pO1xyXG4gICAgICBjb25zdCBwZXJjZW50T2ZUYXJnZXQgPSB0YXJnZXRQZXJCaW4gPiAwID8gKHBlYWtVc2FnZSAvIHRhcmdldFBlckJpbikgKiAxMDAgOiAwO1xyXG4gICAgICBcclxuICAgICAgLy8gVXNlIHNtb290aCBncmFkaWVudCBjb2xvciBmdW5jdGlvblxyXG4gICAgICBjb25zdCBjb2xvciA9IGdldEdyYWRpZW50Q29sb3IocGVyY2VudE9mVGFyZ2V0KTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdHM6IHN0YXJ0VHMgKyAoaW5kZXggKyAxKSAqIGJpblNlY29uZHMgKiAxMDAwLFxyXG4gICAgICAgIHZhbHVlOiBwZWFrVXNhZ2UsXHJcbiAgICAgICAgY29sb3IsXHJcbiAgICAgICAgcGVyY2VudE9mVGFyZ2V0XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIFBhZCBkYXRhIHRvIGZpbGwgYWxsIGJpbnNcclxuICBjb25zdCBwYWRkZWREYXRhID0gQXJyYXkobnVtUG9pbnRzKS5maWxsKG51bGwpLm1hcCgoXywgaW5kZXgpID0+IHtcclxuICAgIGNvbnN0IHRzID0gc3RhcnRUcyArIChpbmRleCArIDEpICogYmluU2Vjb25kcyAqIDEwMDA7XHJcbiAgICBjb25zdCBleGlzdGluZ1BvaW50ID0gZGF0YS5maW5kKHAgPT4gcC50cyA9PT0gdHMpO1xyXG4gICAgcmV0dXJuIGV4aXN0aW5nUG9pbnQgPz8geyB0cywgdmFsdWU6IDAsIGNvbG9yOiBcIiMyMmM1NWVcIiwgcGVyY2VudE9mVGFyZ2V0OiAwIH07XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiB7IGRhdGE6IHBhZGRlZERhdGEsIHN0YXJ0VHMsIGVuZFRzLCBiaW5TZWNvbmRzIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvcm1hdFdpbmRvdyhzdGFydFRzOiBudW1iZXIsIGVuZFRzOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKHN0YXJ0VHMpO1xyXG4gICAgY29uc3QgZW5kID0gbmV3IERhdGUoZW5kVHMpO1xyXG4gICAgcmV0dXJuIGZvcm1hdEJsb2NrV2luZG93KHN0YXJ0LnRvSVNPU3RyaW5nKCksIGVuZC50b0lTT1N0cmluZygpLCBUSU1FWk9ORSk7XHJcbiAgfSBjYXRjaCB7XHJcbiAgICByZXR1cm4gXCJJbnZhbGlkIHRpbWUgcmFuZ2VcIjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBDdXJyZW50QmxvY2tDaGFydCh7IGJsb2NrLCBsb2FkaW5nLCB0YXJnZXRLd2gsIHRhcmdldFBlYWtLd2gsIG1vZGUsIGxhc3RSZWFkaW5nVHMgfTogQ3VycmVudEJsb2NrQ2hhcnRQcm9wcykge1xyXG4gIGNvbnN0IHJlc29sdmVkVGFyZ2V0ID0gdGFyZ2V0S3doID8/IGJsb2NrPy50YXJnZXRfa3doID8/IDA7XHJcblxyXG4gIC8vIFNpbXBsZTogdXNlIGJhY2tlbmQgYmxvY2sgZGF0YSBkaXJlY3RseSwgbm8gY29tcGxleCBtYXRjaGluZ1xyXG4gIGNvbnN0IHsgZGF0YTogY2hhcnREYXRhLCBzdGFydFRzLCBlbmRUcywgYmluU2Vjb25kcyB9ID0gYnVpbGRDaGFydERhdGEoYmxvY2ssIG1vZGUsIHRhcmdldFBlYWtLd2gpO1xyXG4gIFxyXG4gIGNvbnN0IHdpbmRvd0xhYmVsID0gZm9ybWF0V2luZG93KHN0YXJ0VHMsIGVuZFRzKTtcclxuXHJcbiAgY29uc3QgaXNBY2N1bXVsYXRlID0gbW9kZSA9PT0gXCJhY2N1bXVsYXRlXCI7XHJcblxyXG4gIC8vIFRyYWNrIHByZXZpb3VzIGRhdGEgdG8gZGV0ZWN0IG5ldyBiYXJzIGZvciBhbmltYXRpb25cclxuICBjb25zdCBwcmV2RGF0YVJlZiA9IHVzZVJlZjxDaGFydFBvaW50W10+KFtdKTtcclxuICBjb25zdCBbYmFyQ29sb3JzLCBzZXRCYXJDb2xvcnNdID0gdXNlU3RhdGU8TWFwPG51bWJlciwgc3RyaW5nPj4obmV3IE1hcCgpKTtcclxuICBjb25zdCBbYW5pbWF0ZWREYXRhLCBzZXRBbmltYXRlZERhdGFdID0gdXNlU3RhdGU8Q2hhcnRQb2ludFtdPihbXSk7XHJcbiAgY29uc3QgYW5pbWF0aW9uVGltZW91dFJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFthbmltYXRpb25LZXksIHNldEFuaW1hdGlvbktleV0gPSB1c2VTdGF0ZSgwKTsgLy8gS2V5IHRvIGZvcmNlIHJlLWFuaW1hdGlvblxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8gQ2xlYXIgYW55IHBlbmRpbmcgYW5pbWF0aW9uIHRpbWVvdXRcclxuICAgIGlmIChhbmltYXRpb25UaW1lb3V0UmVmLmN1cnJlbnQpIHtcclxuICAgICAgY2xlYXJUaW1lb3V0KGFuaW1hdGlvblRpbWVvdXRSZWYuY3VycmVudCk7XHJcbiAgICAgIGFuaW1hdGlvblRpbWVvdXRSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzQWNjdW11bGF0ZSB8fCBjaGFydERhdGEubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHByZXZEYXRhUmVmLmN1cnJlbnQgPSBjaGFydERhdGE7XHJcbiAgICAgIHNldEFuaW1hdGVkRGF0YShbLi4uY2hhcnREYXRhXSk7IC8vIENyZWF0ZSBuZXcgYXJyYXkgcmVmZXJlbmNlXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBpZiBkYXRhIGFjdHVhbGx5IGNoYW5nZWQgKGJ5IGNvbXBhcmluZyB2YWx1ZXMpXHJcbiAgICBjb25zdCBkYXRhQ2hhbmdlZCA9IEpTT04uc3RyaW5naWZ5KHByZXZEYXRhUmVmLmN1cnJlbnQpICE9PSBKU09OLnN0cmluZ2lmeShjaGFydERhdGEpO1xyXG4gICAgaWYgKCFkYXRhQ2hhbmdlZCkge1xyXG4gICAgICByZXR1cm47IC8vIFNraXAgaWYgZGF0YSBoYXNuJ3QgYWN0dWFsbHkgY2hhbmdlZFxyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWF0ZSBhbmltYXRlZCBkYXRhIHdoZXJlIG5ldyBiYXJzIHN0YXJ0IGF0IDAgYW5kIGFuaW1hdGUgdG8gdGFyZ2V0IHZhbHVlXHJcbiAgICBjb25zdCB1cGRhdGVkQ29sb3JzID0gbmV3IE1hcChiYXJDb2xvcnMpO1xyXG4gICAgY29uc3QgbmV3QmFySW5kaWNlczogbnVtYmVyW10gPSBbXTtcclxuICAgIFxyXG4gICAgLy8gRmlyc3QgcGFzczogaWRlbnRpZnkgbmV3IGJhcnNcclxuICAgIGNoYXJ0RGF0YS5mb3JFYWNoKChwb2ludCwgaW5kZXgpID0+IHtcclxuICAgICAgY29uc3QgcHJldlBvaW50ID0gcHJldkRhdGFSZWYuY3VycmVudFtpbmRleF07XHJcbiAgICAgIGlmIChwb2ludC52YWx1ZSA+IDAgJiYgKCFwcmV2UG9pbnQgfHwgcHJldlBvaW50LnZhbHVlID09PSAwKSkge1xyXG4gICAgICAgIG5ld0JhckluZGljZXMucHVzaChpbmRleCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChuZXdCYXJJbmRpY2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgLy8gQ3JlYXRlIGluaXRpYWwgZGF0YSB3aXRoIG5ldyBiYXJzIGF0IDAgKGNyZWF0ZSBjb21wbGV0ZWx5IG5ldyBhcnJheSBhbmQgb2JqZWN0cylcclxuICAgICAgY29uc3QgaW5pdGlhbERhdGE6IENoYXJ0UG9pbnRbXSA9IGNoYXJ0RGF0YS5tYXAoKHBvaW50LCBpbmRleCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldENvbG9yID0gcG9pbnQuY29sb3IgfHwgXCIjMjJjNTVlXCI7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKG5ld0JhckluZGljZXMuaW5jbHVkZXMoaW5kZXgpKSB7XHJcbiAgICAgICAgICAvLyBOZXcgYmFyOiBzdGFydCB3aXRoIGdyZWVuIGNvbG9yIGFuZCB2YWx1ZSAwXHJcbiAgICAgICAgICB1cGRhdGVkQ29sb3JzLnNldChpbmRleCwgXCIjMjJjNTVlXCIpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBSZXR1cm4gY29tcGxldGVseSBuZXcgb2JqZWN0IHdpdGggMCB2YWx1ZVxyXG4gICAgICAgICAgcmV0dXJuIHsgXHJcbiAgICAgICAgICAgIHRzOiBwb2ludC50cywgXHJcbiAgICAgICAgICAgIHZhbHVlOiAwLCBcclxuICAgICAgICAgICAgY29sb3I6IFwiIzIyYzU1ZVwiLFxyXG4gICAgICAgICAgICBwZXJjZW50T2ZUYXJnZXQ6IDBcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIEV4aXN0aW5nIGJhcjoga2VlcCBjdXJyZW50IHZhbHVlXHJcbiAgICAgICAgICB1cGRhdGVkQ29sb3JzLnNldChpbmRleCwgdGFyZ2V0Q29sb3IpO1xyXG4gICAgICAgICAgcmV0dXJuIHsgLi4ucG9pbnQgfTsgLy8gQ3JlYXRlIG5ldyBvYmplY3QgcmVmZXJlbmNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIFNldCBpbml0aWFsIGRhdGEgKHdpdGggbmV3IGJhcnMgYXQgMCkgLSB1c2Ugc3ByZWFkIHRvIGNyZWF0ZSBuZXcgYXJyYXlcclxuICAgICAgc2V0QW5pbWF0ZWREYXRhKFsuLi5pbml0aWFsRGF0YV0pO1xyXG4gICAgICBzZXRCYXJDb2xvcnMobmV3IE1hcCh1cGRhdGVkQ29sb3JzKSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBBZnRlciBSZWFjdCByZW5kZXJzIHRoZSBpbml0aWFsIHN0YXRlLCB1cGRhdGUgdG8gdGFyZ2V0IHZhbHVlc1xyXG4gICAgICAvLyBVc2UgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHRvIGVuc3VyZSBSZWFjdCBoYXMgcmVuZGVyZWRcclxuICAgICAgYW5pbWF0aW9uVGltZW91dFJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICAgIC8vIEluY3JlbWVudCBhbmltYXRpb24ga2V5IHRvIGZvcmNlIFJlY2hhcnRzIHRvIHJlY29nbml6ZSB0aGUgY2hhbmdlXHJcbiAgICAgICAgICBzZXRBbmltYXRpb25LZXkocHJldiA9PiBwcmV2ICsgMSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIENyZWF0ZSBuZXcgYXJyYXkgd2l0aCB0YXJnZXQgdmFsdWVzXHJcbiAgICAgICAgICBjb25zdCBmaW5hbERhdGE6IENoYXJ0UG9pbnRbXSA9IGNoYXJ0RGF0YS5tYXAoKHBvaW50LCBpbmRleCkgPT4gKHsgLi4ucG9pbnQgfSkpO1xyXG4gICAgICAgICAgc2V0QW5pbWF0ZWREYXRhKFsuLi5maW5hbERhdGFdKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gVXBkYXRlIGNvbG9ycyBhZnRlciBhbmltYXRpb24gc3RhcnRzXHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgY2hhcnREYXRhLmZvckVhY2goKHBvaW50LCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgIGlmIChuZXdCYXJJbmRpY2VzLmluY2x1ZGVzKGluZGV4KSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0Q29sb3IgPSBwb2ludC5jb2xvciB8fCBcIiMyMmM1NWVcIjtcclxuICAgICAgICAgICAgICAgIHNldEJhckNvbG9ycyhwcmV2ID0+IHtcclxuICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5ldyBNYXAocHJldik7XHJcbiAgICAgICAgICAgICAgICAgIG5leHQuc2V0KGluZGV4LCB0YXJnZXRDb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0sIDQwMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sIDE1MCk7IC8vIFdhaXQgMTUwbXMgZm9yIFJlYWN0IHRvIHJlbmRlciBpbml0aWFsIHN0YXRlXHJcbiAgICAgIFxyXG4gICAgICBwcmV2RGF0YVJlZi5jdXJyZW50ID0gWy4uLmNoYXJ0RGF0YV07IC8vIFN0b3JlIGNvcHlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIE5vIG5ldyBiYXJzLCB1cGRhdGUgZGlyZWN0bHkgd2l0aCBuZXcgcmVmZXJlbmNlc1xyXG4gICAgICBjaGFydERhdGEuZm9yRWFjaCgocG9pbnQsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgdXBkYXRlZENvbG9ycy5zZXQoaW5kZXgsIHBvaW50LmNvbG9yIHx8IFwiIzIyYzU1ZVwiKTtcclxuICAgICAgfSk7XHJcbiAgICAgIHNldEJhckNvbG9ycyhuZXcgTWFwKHVwZGF0ZWRDb2xvcnMpKTtcclxuICAgICAgc2V0QW5pbWF0ZWREYXRhKGNoYXJ0RGF0YS5tYXAocCA9PiAoeyAuLi5wIH0pKSk7IC8vIENyZWF0ZSBuZXcgYXJyYXkgYW5kIG9iamVjdHNcclxuICAgICAgcHJldkRhdGFSZWYuY3VycmVudCA9IFsuLi5jaGFydERhdGFdOyAvLyBTdG9yZSBjb3B5XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaWYgKGFuaW1hdGlvblRpbWVvdXRSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dChhbmltYXRpb25UaW1lb3V0UmVmLmN1cnJlbnQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xyXG4gIH0sIFtjaGFydERhdGEsIGlzQWNjdW11bGF0ZV0pO1xyXG5cclxuICAvLyBGb3Igbm9uLWFjY3VtdWxhdGUgbW9kZSwgdXNlIEJhckNoYXJ0IHdpdGggY29sb3ItY29kZWQgYmFycyBhbmQgYW5pbWF0aW9uc1xyXG4gIGNvbnN0IENoYXJ0Q29tcG9uZW50ID0gaXNBY2N1bXVsYXRlID8gTGluZUNoYXJ0IDogQmFyQ2hhcnQ7XHJcbiAgY29uc3QgRGF0YUVsZW1lbnQgPSBpc0FjY3VtdWxhdGUgPyAoXHJcbiAgICA8TGluZSB0eXBlPVwibW9ub3RvbmVcIiBkYXRhS2V5PVwidmFsdWVcIiBzdHJva2U9XCIjMjJkM2VlXCIgc3Ryb2tlV2lkdGg9ezJ9IGRvdD17ZmFsc2V9IGlzQW5pbWF0aW9uQWN0aXZlPXt0cnVlfSBhbmltYXRpb25EdXJhdGlvbj17ODAwfSAvPlxyXG4gICkgOiAoXHJcbiAgICA8QmFyIFxyXG4gICAgICBkYXRhS2V5PVwidmFsdWVcIiBcclxuICAgICAgcmFkaXVzPXtbNCwgNCwgMCwgMF19IFxyXG4gICAgICBpc0FuaW1hdGlvbkFjdGl2ZT17dHJ1ZX1cclxuICAgICAgYW5pbWF0aW9uRHVyYXRpb249ezE1MDB9XHJcbiAgICAgIGFuaW1hdGlvbkJlZ2luPXswfVxyXG4gICAgPlxyXG4gICAgICB7YW5pbWF0ZWREYXRhLm1hcCgoZW50cnksIGluZGV4KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudENvbG9yID0gYmFyQ29sb3JzLmdldChpbmRleCkgfHwgZW50cnkuY29sb3IgfHwgXCIjMjJjNTVlXCI7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgIDxDZWxsIFxyXG4gICAgICAgICAgICBrZXk9e2BjZWxsLSR7ZW50cnkudHN9LSR7aW5kZXh9YH0gXHJcbiAgICAgICAgICAgIGZpbGw9e2N1cnJlbnRDb2xvcn1cclxuICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBcImZpbGwgMS4ycyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpXCJcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgKTtcclxuICAgICAgfSl9XHJcbiAgICA8L0Jhcj5cclxuICApO1xyXG5cclxuICAvLyBSZWZlcmVuY2UgbGluZXNcclxuICBjb25zdCByZWZlcmVuY2VMaW5lID0gaXNBY2N1bXVsYXRlID8gKFxyXG4gICAgPFJlZmVyZW5jZUxpbmUgeT17cmVzb2x2ZWRUYXJnZXR9IHN0cm9rZT1cIiNmOTczMTZcIiBzdHJva2VEYXNoYXJyYXk9XCI2IDZcIiAvPlxyXG4gICkgOiB0YXJnZXRQZWFrS3doID8gKFxyXG4gICAgLy8gU2VtaS10cmFuc3BhcmVudCByZWZlcmVuY2UgbGluZSBmb3IgcGVhayB0YXJnZXQgKHdoaXRlIEAgMTUtMjAlIG9wYWNpdHkpXHJcbiAgICA8UmVmZXJlbmNlTGluZSBcclxuICAgICAgeT17dGFyZ2V0UGVha0t3aCAvIDYwfSBcclxuICAgICAgc3Ryb2tlPVwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE4KVwiIFxyXG4gICAgICBzdHJva2VXaWR0aD17Mn1cclxuICAgICAgc3Ryb2tlRGFzaGFycmF5PVwiNCA0XCJcclxuICAgICAgbGFiZWw9e3sgdmFsdWU6IFwiUGVhayBUYXJnZXRcIiwgcG9zaXRpb246IFwicmlnaHRcIiwgZmlsbDogXCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNilcIiwgZm9udFNpemU6IDExIH19XHJcbiAgICAvPlxyXG4gICkgOiBudWxsO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGFydGljbGUgY2xhc3NOYW1lPVwicm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci1zbGF0ZS04MDAgYmctc2xhdGUtOTAwLzYwIHAtNCBzbTpwLTZcIj5cclxuICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJtYi00IHNtOm1iLTYgZmxleCBmbGV4LWNvbCBzbTpmbGV4LXJvdyBzbTppdGVtcy1lbmQgc206anVzdGlmeS1iZXR3ZWVuIGdhcC0yIHNtOmdhcC00XCI+XHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIHNtOnRleHQteGwgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+Q3VycmVudCAzMC1taW51dGUgYmxvY2s8L2gyPlxyXG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBzbTp0ZXh0LXNtIHRleHQtc2xhdGUtNDAwXCI+V2luZG93IHt3aW5kb3dMYWJlbH08L3A+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkLW1kIGJvcmRlciBib3JkZXItc2xhdGUtODAwIHB4LTMgc206cHgtNCBweS0yIHRleHQteHMgdGV4dC1zbGF0ZS00MDBcIj5cclxuICAgICAgICAgIHtpc0FjY3VtdWxhdGUgPyAoXHJcbiAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgVGFyZ2V0IHtyZXNvbHZlZFRhcmdldC50b0ZpeGVkKDEpfSBrV2ggwrcgQWNjdW11bGF0ZWQge2Jsb2NrPy5hY2N1bXVsYXRlZF9rd2gudG9GaXhlZCgyKSA/PyBcIuKAlFwifSBrV2hcclxuICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgIFRhcmdldCB7dGFyZ2V0UGVha0t3aD8udG9GaXhlZCgxKSA/PyBcIuKAlFwifSBrV2ggKHRvdGFsIGZvciAzMG1pbikgwrcgVGFyZ2V0IHBlciBiaW4geyh0YXJnZXRQZWFrS3doID8gdGFyZ2V0UGVha0t3aCAvIDYwIDogMCkudG9GaXhlZCgzKX0ga1doXHJcbiAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9oZWFkZXI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC00OCBtZDpoLTcyIHctZnVsbFwiPlxyXG4gICAgICAgIHtsb2FkaW5nICYmICFibG9jayA/IChcclxuICAgICAgICAgIC8vIE9ubHkgc2hvdyBsb2FkaW5nIG9uIGluaXRpYWwgbG9hZCAod2hlbiBibG9jayBpcyBudWxsKVxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLWRhc2hlZCBib3JkZXItc2xhdGUtODAwIGJnLXNsYXRlLTk1MC80MFwiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNTAwXCI+TG9hZGluZyBjaGFydOKApjwvc3Bhbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICkgOiBjaGFydERhdGEubGVuZ3RoID09PSAwIHx8IGNoYXJ0RGF0YS5ldmVyeShwID0+IHAudmFsdWUgPT09IDApID8gKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLWRhc2hlZCBib3JkZXItc2xhdGUtODAwIGJnLXNsYXRlLTk1MC80MFwiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNTAwXCI+Tm8gcmVhZGluZ3MgZm9yIHRoaXMgYmxvY2sgeWV0Ljwvc3Bhbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICkgOiAoXHJcbiAgICAgICAgICA8UmVzcG9uc2l2ZUNvbnRhaW5lciB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCI+XHJcbiAgICAgICAgICAgIDxDaGFydENvbXBvbmVudCBcclxuICAgICAgICAgICAgICBrZXk9e2lzQWNjdW11bGF0ZSA/IHVuZGVmaW5lZCA6IGBjaGFydC0ke2FuaW1hdGlvbktleX1gfVxyXG4gICAgICAgICAgICAgIGRhdGE9e2lzQWNjdW11bGF0ZSA/IGNoYXJ0RGF0YSA6IGFuaW1hdGVkRGF0YX0gXHJcbiAgICAgICAgICAgICAgbWFyZ2luPXt7IGxlZnQ6IDEyLCByaWdodDogMTIsIHRvcDogMTIsIGJvdHRvbTogMTIgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxDYXJ0ZXNpYW5HcmlkIHN0cm9rZURhc2hhcnJheT1cIjQgNFwiIHN0cm9rZT1cIiMxZjI5MzdcIiAvPlxyXG4gICAgICAgICAgICAgIDxYQXhpc1xyXG4gICAgICAgICAgICAgICAgZGF0YUtleT1cInRzXCJcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgZG9tYWluPXtbc3RhcnRUcywgZW5kVHNdfVxyXG4gICAgICAgICAgICAgICAgdGlja0Zvcm1hdHRlcj17KHRzKSA9PiB3aW5kb3dGb3JtYXR0ZXIuZm9ybWF0KHRzKX1cclxuICAgICAgICAgICAgICAgIHN0cm9rZT1cIiM2NDc0OGJcIlxyXG4gICAgICAgICAgICAgICAgdGlja0xpbmU9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPFlBeGlzXHJcbiAgICAgICAgICAgICAgICBkYXRhS2V5PVwidmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlPVwiIzY0NzQ4YlwiXHJcbiAgICAgICAgICAgICAgICB0aWNrTGluZT17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICB3aWR0aD17NjB9XHJcbiAgICAgICAgICAgICAgICB0aWNrRm9ybWF0dGVyPXsodmFsdWUpID0+IHRvb2x0aXBGb3JtYXR0ZXIuZm9ybWF0KHZhbHVlIGFzIG51bWJlcil9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8VG9vbHRpcCBjb250ZW50PXs8Q3VzdG9tVG9vbHRpcCB0YXJnZXQ9e3Jlc29sdmVkVGFyZ2V0fSB0YXJnZXRQZWFrS3doPXt0YXJnZXRQZWFrS3dofSBtb2RlPXttb2RlfSBiaW5TZWNvbmRzPXtiaW5TZWNvbmRzfSAvPn0gLz5cclxuICAgICAgICAgICAgICB7cmVmZXJlbmNlTGluZX1cclxuICAgICAgICAgICAgICB7RGF0YUVsZW1lbnR9XHJcbiAgICAgICAgICAgIDwvQ2hhcnRDb21wb25lbnQ+XHJcbiAgICAgICAgICA8L1Jlc3BvbnNpdmVDb250YWluZXI+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTQgdGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPlxyXG4gICAgICAgIFN0cmVhbWluZyBzZXJpZXMgdXBkYXRlcyByZXBsYWNlIHRoZSBlbnRpcmUgNjAtcG9pbnQgd2luZG93IHdoZW5ldmVyIHRoZSBiYWNrZW5kIHB1Ymxpc2hlcyBhIGJsb2NrIHVwZGF0ZS5cclxuICAgICAgPC9wPlxyXG4gICAgPC9hcnRpY2xlPlxyXG4gICk7XHJcbn1cclxuXHJcbnR5cGUgQ3VzdG9tVG9vbHRpcFByb3BzID0ge1xyXG4gIGFjdGl2ZT86IGJvb2xlYW47XHJcbiAgcGF5bG9hZD86IHsgdmFsdWU6IG51bWJlcjsgcGF5bG9hZD86IENoYXJ0UG9pbnQgfVtdO1xyXG4gIGxhYmVsPzogbnVtYmVyO1xyXG4gIHRhcmdldDogbnVtYmVyO1xyXG4gIHRhcmdldFBlYWtLd2g/OiBudW1iZXI7XHJcbiAgbW9kZTogXCJhY2N1bXVsYXRlXCIgfCBcIm5vbi1hY2N1bXVsYXRlXCI7XHJcbiAgYmluU2Vjb25kczogbnVtYmVyO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gQ3VzdG9tVG9vbHRpcCh7IGFjdGl2ZSwgcGF5bG9hZCwgbGFiZWwsIHRhcmdldCwgdGFyZ2V0UGVha0t3aCwgbW9kZSwgYmluU2Vjb25kcyB9OiBDdXN0b21Ub29sdGlwUHJvcHMpIHtcclxuICBpZiAoIWFjdGl2ZSB8fCAhcGF5bG9hZCB8fCBwYXlsb2FkLmxlbmd0aCA9PT0gMCB8fCAhbGFiZWwpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuICBjb25zdCB2YWx1ZSA9IHBheWxvYWRbMF0/LnZhbHVlID8/IDA7XHJcbiAgY29uc3QgaXNBY2N1bXVsYXRlID0gbW9kZSA9PT0gXCJhY2N1bXVsYXRlXCI7XHJcbiAgY29uc3QgdGltZUxhYmVsID0gd2luZG93Rm9ybWF0dGVyLmZvcm1hdChsYWJlbCk7XHJcblxyXG4gIGlmIChpc0FjY3VtdWxhdGUpIHtcclxuICAgIGNvbnN0IHBjdCA9IHRhcmdldCA+IDAgPyAoKHZhbHVlIC8gdGFyZ2V0KSAqIDEwMCkudG9GaXhlZCgxKSA6IFwiMFwiO1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkLW1kIGJvcmRlciBib3JkZXItc2xhdGUtNzAwIGJnLXNsYXRlLTkwMCBweC0zIHB5LTIgdGV4dC14cyB0ZXh0LXNsYXRlLTIwMCBzaGFkb3ctbGdcIj5cclxuICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+e3RpbWVMYWJlbH0gwrcge3Rvb2x0aXBGb3JtYXR0ZXIuZm9ybWF0KHZhbHVlKX0ga1doPC9wPlxyXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc2xhdGUtNDAwXCI+QWNjdW11bGF0ZWQgwrcge3BjdH0lIG9mIHRhcmdldDwvcD5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gTm9uLWFjY3VtdWxhdGUgbW9kZTogc2hvdyBwZWFrIHVzYWdlIGFuZCBwZXJjZW50YWdlIG9mIHBlYWsgdGFyZ2V0XHJcbiAgY29uc3QgdGFyZ2V0UGVyQmluID0gdGFyZ2V0UGVha0t3aCA/IHRhcmdldFBlYWtLd2ggLyA2MCA6IDA7XHJcbiAgY29uc3QgcGN0ID0gdGFyZ2V0UGVyQmluID4gMCA/ICgodmFsdWUgLyB0YXJnZXRQZXJCaW4pICogMTAwKS50b0ZpeGVkKDEpIDogXCIwXCI7XHJcbiAgY29uc3QgY29sb3IgPSBwYXlsb2FkWzBdPy5wYXlsb2FkPy5jb2xvciB8fCBcIiMyMmM1NWVcIjtcclxuICBcclxuICAvLyBEZXRlcm1pbmUgY29sb3IgbGFiZWwgYmFzZWQgb24gcGVyY2VudGFnZVxyXG4gIGNvbnN0IHBjdE51bSA9IHBhcnNlRmxvYXQocGN0KTtcclxuICBsZXQgY29sb3JMYWJlbCA9IFwiR3JlZW5cIjtcclxuICBpZiAocGN0TnVtID49IDEwMCkge1xyXG4gICAgY29sb3JMYWJlbCA9IFwiUmVkICjiiaUxMDAlKVwiO1xyXG4gIH0gZWxzZSBpZiAocGN0TnVtID49IDkwKSB7XHJcbiAgICBjb2xvckxhYmVsID0gXCJPcmFuZ2UtUmVkICg5MC0xMDAlKVwiO1xyXG4gIH0gZWxzZSBpZiAocGN0TnVtID49IDc1KSB7XHJcbiAgICBjb2xvckxhYmVsID0gXCJZZWxsb3ctT3JhbmdlICg3NS05MCUpXCI7XHJcbiAgfSBlbHNlIGlmIChwY3ROdW0gPj0gNTApIHtcclxuICAgIGNvbG9yTGFiZWwgPSBcIlllbGxvdy1HcmVlbiAoNTAtNzUlKVwiO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb2xvckxhYmVsID0gXCJHcmVlbiAoPDUwJSlcIjtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLXNsYXRlLTcwMCBiZy1zbGF0ZS05MDAgcHgtMyBweS0yIHRleHQteHMgdGV4dC1zbGF0ZS0yMDAgc2hhZG93LWxnXCI+XHJcbiAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj57dGltZUxhYmVsfSDCtyB7dG9vbHRpcEZvcm1hdHRlci5mb3JtYXQodmFsdWUpfSBrV2g8L3A+XHJcbiAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc2xhdGUtNDAwXCI+UGVhayB1c2FnZSBwZXIge2JpblNlY29uZHN9cyDCtyB7cGN0fSUgb2YgcGVhayB0YXJnZXQ8L3A+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0zIHctMyByb3VuZGVkXCIgc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiBjb2xvciB9fSAvPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc2xhdGUtNDAwXCI+e2NvbG9yTGFiZWx9PC9zcGFuPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuIl0sIm5hbWVzIjpbIkJhciIsIkJhckNoYXJ0IiwiQ2VsbCIsIkNhcnRlc2lhbkdyaWQiLCJMaW5lIiwiTGluZUNoYXJ0IiwiUmVmZXJlbmNlTGluZSIsIlJlc3BvbnNpdmVDb250YWluZXIiLCJUb29sdGlwIiwiWEF4aXMiLCJZQXhpcyIsImZvcm1hdEJsb2NrV2luZG93IiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJUSU1FWk9ORSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19USU1FWk9ORV9MQUJFTCIsIndpbmRvd0Zvcm1hdHRlciIsIkludGwiLCJEYXRlVGltZUZvcm1hdCIsInVuZGVmaW5lZCIsImhvdXIiLCJtaW51dGUiLCJ0aW1lWm9uZSIsInRvb2x0aXBGb3JtYXR0ZXIiLCJOdW1iZXJGb3JtYXQiLCJtYXhpbXVtRnJhY3Rpb25EaWdpdHMiLCJnZXRHcmFkaWVudENvbG9yIiwicGVyY2VudE9mVGFyZ2V0IiwiY2xhbXBlZCIsIk1hdGgiLCJtYXgiLCJtaW4iLCJyYXRpbyIsImludGVycG9sYXRlQ29sb3IiLCJjb2xvcjEiLCJjb2xvcjIiLCJoZXgxIiwicmVwbGFjZSIsImhleDIiLCJyMSIsInBhcnNlSW50Iiwic3Vic3RyIiwiZzEiLCJiMSIsInIyIiwiZzIiLCJiMiIsInIiLCJyb3VuZCIsImciLCJiIiwibWFwIiwieCIsImhleCIsInRvU3RyaW5nIiwibGVuZ3RoIiwiam9pbiIsImJ1aWxkQ2hhcnREYXRhIiwiYmxvY2siLCJtb2RlIiwidGFyZ2V0UGVha0t3aCIsImJsb2NrX3N0YXJ0X2xvY2FsIiwibm93IiwiRGF0ZSIsInN0YXJ0VHMiLCJnZXRUaW1lIiwiZW5kVHMiLCJkYXRhIiwiQXJyYXkiLCJmaWxsIiwiXyIsImluZGV4IiwidHMiLCJ2YWx1ZSIsImJpblNlY29uZHMiLCJwb2ludHMiLCJjaGFydF9iaW5zIiwiYmluX3NlY29uZHMiLCJudW1Qb2ludHMiLCJmbG9vciIsInRhcmdldFBlckJpbiIsInBlYWtVc2FnZSIsImNvbG9yIiwicGFkZGVkRGF0YSIsImV4aXN0aW5nUG9pbnQiLCJmaW5kIiwicCIsImZvcm1hdFdpbmRvdyIsInN0YXJ0IiwiZW5kIiwidG9JU09TdHJpbmciLCJDdXJyZW50QmxvY2tDaGFydCIsImxvYWRpbmciLCJ0YXJnZXRLd2giLCJsYXN0UmVhZGluZ1RzIiwicmVzb2x2ZWRUYXJnZXQiLCJ0YXJnZXRfa3doIiwiY2hhcnREYXRhIiwid2luZG93TGFiZWwiLCJpc0FjY3VtdWxhdGUiLCJwcmV2RGF0YVJlZiIsImJhckNvbG9ycyIsInNldEJhckNvbG9ycyIsIk1hcCIsImFuaW1hdGVkRGF0YSIsInNldEFuaW1hdGVkRGF0YSIsImFuaW1hdGlvblRpbWVvdXRSZWYiLCJhbmltYXRpb25LZXkiLCJzZXRBbmltYXRpb25LZXkiLCJjdXJyZW50IiwiY2xlYXJUaW1lb3V0IiwiZGF0YUNoYW5nZWQiLCJKU09OIiwic3RyaW5naWZ5IiwidXBkYXRlZENvbG9ycyIsIm5ld0JhckluZGljZXMiLCJmb3JFYWNoIiwicG9pbnQiLCJwcmV2UG9pbnQiLCJwdXNoIiwiaW5pdGlhbERhdGEiLCJ0YXJnZXRDb2xvciIsImluY2x1ZGVzIiwic2V0Iiwic2V0VGltZW91dCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInByZXYiLCJmaW5hbERhdGEiLCJuZXh0IiwiQ2hhcnRDb21wb25lbnQiLCJEYXRhRWxlbWVudCIsInR5cGUiLCJkYXRhS2V5Iiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJkb3QiLCJpc0FuaW1hdGlvbkFjdGl2ZSIsImFuaW1hdGlvbkR1cmF0aW9uIiwicmFkaXVzIiwiYW5pbWF0aW9uQmVnaW4iLCJlbnRyeSIsImN1cnJlbnRDb2xvciIsImdldCIsInN0eWxlIiwidHJhbnNpdGlvbiIsInJlZmVyZW5jZUxpbmUiLCJ5Iiwic3Ryb2tlRGFzaGFycmF5IiwibGFiZWwiLCJwb3NpdGlvbiIsImZvbnRTaXplIiwiYXJ0aWNsZSIsImNsYXNzTmFtZSIsImhlYWRlciIsImRpdiIsImgyIiwidG9GaXhlZCIsImFjY3VtdWxhdGVkX2t3aCIsInNwYW4iLCJldmVyeSIsIndpZHRoIiwiaGVpZ2h0IiwibWFyZ2luIiwibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwiZG9tYWluIiwidGlja0Zvcm1hdHRlciIsImZvcm1hdCIsInRpY2tMaW5lIiwiY29udGVudCIsIkN1c3RvbVRvb2x0aXAiLCJ0YXJnZXQiLCJhY3RpdmUiLCJwYXlsb2FkIiwidGltZUxhYmVsIiwicGN0IiwicGN0TnVtIiwicGFyc2VGbG9hdCIsImNvbG9yTGFiZWwiLCJiYWNrZ3JvdW5kQ29sb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/dashboard/current-block-chart.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/dashboard/dashboard-content.tsx":
/*!********************************************************!*\
  !*** ./src/components/dashboard/dashboard-content.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DashboardContent: () => (/* binding */ DashboardContent)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/link */ \"(ssr)/./node_modules/next/dist/api/link.js\");\n/* harmony import */ var _current_block_chart__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./current-block-chart */ \"(ssr)/./src/components/dashboard/current-block-chart.tsx\");\n/* harmony import */ var _block_history_tiles__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./block-history-tiles */ \"(ssr)/./src/components/dashboard/block-history-tiles.tsx\");\n/* harmony import */ var _live_status__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./live-status */ \"(ssr)/./src/components/dashboard/live-status.tsx\");\n/* harmony import */ var _lib_hooks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/hooks */ \"(ssr)/./src/lib/hooks.ts\");\n/* __next_internal_client_entry_do_not_use__ DashboardContent auto */ \n\n\n\n\n\n\n\nconst percentFormatter = new Intl.NumberFormat(undefined, {\n    maximumFractionDigits: 1\n});\nconst timezoneLabel = \"Asia/Kuala_Lumpur\" ?? 0;\nfunction DashboardContent({ simulatorId, simulatorName, targetKwh, initialBlock, initialHistory }) {\n    const [chartMode, setChartMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"accumulate\");\n    const { history, loading: historyLoading, refresh: refreshHistory } = (0,_lib_hooks__WEBPACK_IMPORTED_MODULE_6__.useBlockHistory)(simulatorId, 10, initialHistory);\n    const handleWindowChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        void refreshHistory();\n    }, [\n        refreshHistory\n    ]);\n    const { block, loading: blockLoading, connected, reconnecting, lastReadingTs, refresh: refreshBlock } = (0,_lib_hooks__WEBPACK_IMPORTED_MODULE_6__.useLatestBlock)(simulatorId, {\n        onWindowChange: handleWindowChange\n    }, initialBlock);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (lastReadingTs && chartMode === \"non-accumulate\") {\n            refreshBlock();\n        }\n    }, [\n        lastReadingTs,\n        refreshBlock,\n        chartMode\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const interval = setInterval(()=>{\n            refreshBlock();\n        }, 15000); // Poll every 15 seconds\n        return ()=>clearInterval(interval);\n    }, [\n        refreshBlock\n    ]);\n    const percentOfTarget = block?.percent_of_target ?? 0;\n    const percentVariant = percentOfTarget > 100 ? \"text-danger\" : percentOfTarget >= 80 ? \"text-warning\" : \"text-success\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"space-y-10\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"flex flex-wrap items-end justify-between gap-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs uppercase tracking-[0.3em] text-slate-500\",\n                                children: \"Simulator\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                                lineNumber: 73,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"text-3xl font-semibold text-white\",\n                                children: simulatorName\n                            }, void 0, false, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                                lineNumber: 74,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-slate-400\",\n                                children: \"Live chart and block history update in real time via server-sent events from the backend.\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                                lineNumber: 75,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                        lineNumber: 72,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-4 text-sm text-slate-300\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"rounded-lg border border-slate-800 bg-slate-900/60 px-4 py-2 text-right\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs uppercase tracking-[0.2em] text-slate-500\",\n                                        children: \"Target\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                                        lineNumber: 81,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-base font-semibold text-slate-100\",\n                                        children: targetKwh ? `${targetKwh.toFixed(1)} kWh` : \"â€”\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                                        lineNumber: 82,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                                lineNumber: 80,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"rounded-lg border border-slate-800 bg-slate-900/60 px-4 py-2 text-right\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs uppercase tracking-[0.2em] text-slate-500\",\n                                        children: \"Current block\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                                        lineNumber: 85,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: `text-base font-semibold ${percentVariant}`,\n                                        children: [\n                                            percentFormatter.format(percentOfTarget),\n                                            \"%\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                                        lineNumber: 86,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                                lineNumber: 84,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                href: {\n                                    pathname: \"/sim/[id]/run\",\n                                    query: {\n                                        id: simulatorId\n                                    }\n                                },\n                                className: \"inline-flex items-center rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground transition hover:bg-cyan-600\",\n                                children: \"Open controls\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                                lineNumber: 90,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                        lineNumber: 79,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"text-sm text-slate-300\",\n                                children: \"Chart Mode:\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                                lineNumber: 98,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                value: chartMode,\n                                onChange: (e)=>setChartMode(e.target.value),\n                                className: \"rounded-md border border-slate-700 bg-slate-800 px-3 py-2 text-sm text-slate-100\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"accumulate\",\n                                        children: \"Accumulate\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                                        lineNumber: 104,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"non-accumulate\",\n                                        children: \"Non-Accumulate (Raw Readings)\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                                        lineNumber: 105,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                                lineNumber: 99,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                        lineNumber: 97,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                lineNumber: 71,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid gap-6 lg:grid-cols-[2fr,1fr]\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_current_block_chart__WEBPACK_IMPORTED_MODULE_3__.CurrentBlockChart, {\n                        block: block ?? {\n                            simulator_id: simulatorId,\n                            block_start_local: new Date().toISOString(),\n                            block_start_utc: new Date().toISOString(),\n                            block_end_utc: new Date().toISOString(),\n                            target_kwh: targetKwh ?? 0,\n                            accumulated_kwh: 0,\n                            percent_of_target: 0,\n                            alerted_80pct: false,\n                            chart_bins: {\n                                bin_seconds: 30,\n                                points: []\n                            }\n                        },\n                        loading: blockLoading,\n                        targetKwh: targetKwh,\n                        mode: chartMode\n                    }, void 0, false, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                        lineNumber: 111,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-col gap-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_live_status__WEBPACK_IMPORTED_MODULE_5__.LiveStatus, {\n                                connected: connected,\n                                reconnecting: reconnecting,\n                                lastReadingTs: lastReadingTs,\n                                block: block,\n                                targetKwh: targetKwh\n                            }, void 0, false, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                                lineNumber: 129,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_block_history_tiles__WEBPACK_IMPORTED_MODULE_4__.BlockHistoryTiles, {\n                                history: history,\n                                loading: historyLoading\n                            }, void 0, false, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                                lineNumber: 136,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                        lineNumber: 128,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                lineNumber: 110,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-xs text-slate-500\",\n                children: [\n                    \"Timezone reference: \",\n                    timezoneLabel,\n                    \". SSE events automatically trigger a history refresh when the backend rolls to a new block.\"\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n                lineNumber: 140,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\dashboard-content.tsx\",\n        lineNumber: 70,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9kYXNoYm9hcmQvZGFzaGJvYXJkLWNvbnRlbnQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBRStDO0FBQ2xCO0FBQzZCO0FBQ0E7QUFDZjtBQUNtQjtBQUU3QjtBQUVqQyxNQUFNUyxtQkFBbUIsSUFBSUMsS0FBS0MsWUFBWSxDQUFDQyxXQUFXO0lBQ3hEQyx1QkFBdUI7QUFDekI7QUFFQSxNQUFNQyxnQkFBZ0JDLG1CQUFzQyxJQUFJLENBQW1CO0FBVTVFLFNBQVNHLGlCQUFpQixFQUMvQkMsV0FBVyxFQUNYQyxhQUFhLEVBQ2JDLFNBQVMsRUFDVEMsWUFBWSxFQUNaQyxjQUFjLEVBQ1E7SUFDdEIsTUFBTSxDQUFDQyxXQUFXQyxhQUFhLEdBQUdqQiwrQ0FBUUEsQ0FBa0M7SUFFNUUsTUFBTSxFQUNKa0IsT0FBTyxFQUNQQyxTQUFTQyxjQUFjLEVBQ3ZCQyxTQUFTQyxjQUFjLEVBQ3hCLEdBQUd4QiwyREFBZUEsQ0FBQ2EsYUFBYSxJQUFJSTtJQUVyQyxNQUFNUSxxQkFBcUIvQixrREFBV0EsQ0FBQztRQUNyQyxLQUFLOEI7SUFDUCxHQUFHO1FBQUNBO0tBQWU7SUFFbkIsTUFBTSxFQUFFRSxLQUFLLEVBQUVMLFNBQVNNLFlBQVksRUFBRUMsU0FBUyxFQUFFQyxZQUFZLEVBQUVDLGFBQWEsRUFBRVAsU0FBU1EsWUFBWSxFQUFFLEdBQUc5QiwwREFBY0EsQ0FDcEhZLGFBQ0E7UUFDRW1CLGdCQUFnQlA7SUFDbEIsR0FDQVQ7SUFHRnJCLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSW1DLGlCQUFpQlosY0FBYyxrQkFBa0I7WUFDbkRhO1FBQ0Y7SUFDRixHQUFHO1FBQUNEO1FBQWVDO1FBQWNiO0tBQVU7SUFFM0N2QixnREFBU0EsQ0FBQztRQUNSLE1BQU1zQyxXQUFXQyxZQUFZO1lBQzNCSDtRQUNGLEdBQUcsUUFBUSx3QkFBd0I7UUFDbkMsT0FBTyxJQUFNSSxjQUFjRjtJQUM3QixHQUFHO1FBQUNGO0tBQWE7SUFFakIsTUFBTUssa0JBQWtCVixPQUFPVyxxQkFBcUI7SUFDcEQsTUFBTUMsaUJBQWlCRixrQkFBa0IsTUFBTSxnQkFBZ0JBLG1CQUFtQixLQUFLLGlCQUFpQjtJQUV4RyxxQkFDRSw4REFBQ0c7UUFBUUMsV0FBVTs7MEJBQ2pCLDhEQUFDQztnQkFBT0QsV0FBVTs7a0NBQ2hCLDhEQUFDRTt3QkFBSUYsV0FBVTs7MENBQ2IsOERBQUNHO2dDQUFFSCxXQUFVOzBDQUFvRDs7Ozs7OzBDQUNqRSw4REFBQ0k7Z0NBQUdKLFdBQVU7MENBQXFDMUI7Ozs7OzswQ0FDbkQsOERBQUM2QjtnQ0FBRUgsV0FBVTswQ0FBeUI7Ozs7Ozs7Ozs7OztrQ0FJeEMsOERBQUNFO3dCQUFJRixXQUFVOzswQ0FDYiw4REFBQ0U7Z0NBQUlGLFdBQVU7O2tEQUNiLDhEQUFDRzt3Q0FBRUgsV0FBVTtrREFBb0Q7Ozs7OztrREFDakUsOERBQUNHO3dDQUFFSCxXQUFVO2tEQUEwQ3pCLFlBQVksQ0FBQyxFQUFFQSxVQUFVOEIsT0FBTyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUc7Ozs7Ozs7Ozs7OzswQ0FFckcsOERBQUNIO2dDQUFJRixXQUFVOztrREFDYiw4REFBQ0c7d0NBQUVILFdBQVU7a0RBQW9EOzs7Ozs7a0RBQ2pFLDhEQUFDRzt3Q0FBRUgsV0FBVyxDQUFDLHdCQUF3QixFQUFFRixlQUFlLENBQUM7OzRDQUN0RG5DLGlCQUFpQjJDLE1BQU0sQ0FBQ1Y7NENBQWlCOzs7Ozs7Ozs7Ozs7OzBDQUc5Qyw4REFBQ3hDLGlEQUFJQTtnQ0FDSG1ELE1BQU07b0NBQUVDLFVBQVU7b0NBQWlCQyxPQUFPO3dDQUFFQyxJQUFJckM7b0NBQVk7Z0NBQUU7Z0NBQzlEMkIsV0FBVTswQ0FDWDs7Ozs7Ozs7Ozs7O2tDQUlILDhEQUFDRTt3QkFBSUYsV0FBVTs7MENBQ2IsOERBQUNXO2dDQUFNWCxXQUFVOzBDQUF5Qjs7Ozs7OzBDQUMxQyw4REFBQ1k7Z0NBQ0NDLE9BQU9uQztnQ0FDUG9DLFVBQVUsQ0FBQ0MsSUFBTXBDLGFBQWFvQyxFQUFFQyxNQUFNLENBQUNILEtBQUs7Z0NBQzVDYixXQUFVOztrREFFViw4REFBQ2lCO3dDQUFPSixPQUFNO2tEQUFhOzs7Ozs7a0RBQzNCLDhEQUFDSTt3Q0FBT0osT0FBTTtrREFBaUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFLckMsOERBQUNYO2dCQUFJRixXQUFVOztrQ0FDYiw4REFBQzNDLG1FQUFpQkE7d0JBQ2hCNkIsT0FBT0EsU0FBUzs0QkFDZGdDLGNBQWM3Qzs0QkFDZDhDLG1CQUFtQixJQUFJQyxPQUFPQyxXQUFXOzRCQUN6Q0MsaUJBQWlCLElBQUlGLE9BQU9DLFdBQVc7NEJBQ3ZDRSxlQUFlLElBQUlILE9BQU9DLFdBQVc7NEJBQ3JDRyxZQUFZakQsYUFBYTs0QkFDekJrRCxpQkFBaUI7NEJBQ2pCNUIsbUJBQW1COzRCQUNuQjZCLGVBQWU7NEJBQ2ZDLFlBQVk7Z0NBQUVDLGFBQWE7Z0NBQUlDLFFBQVEsRUFBRTs0QkFBQzt3QkFDNUM7d0JBQ0FoRCxTQUFTTTt3QkFDVFosV0FBV0E7d0JBQ1h1RCxNQUFNcEQ7Ozs7OztrQ0FHUiw4REFBQ3dCO3dCQUFJRixXQUFVOzswQ0FDYiw4REFBQ3pDLG9EQUFVQTtnQ0FDVDZCLFdBQVdBO2dDQUNYQyxjQUFjQTtnQ0FDZEMsZUFBZUE7Z0NBQ2ZKLE9BQU9BO2dDQUNQWCxXQUFXQTs7Ozs7OzBDQUViLDhEQUFDakIsbUVBQWlCQTtnQ0FBQ3NCLFNBQVNBO2dDQUFTQyxTQUFTQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQUlsRCw4REFBQ3FCO2dCQUFFSCxXQUFVOztvQkFBeUI7b0JBQXFCaEM7b0JBQWM7Ozs7Ozs7Ozs7Ozs7QUFHL0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ldGVybmFsZ3ktZW1zLWZyb250ZW5kLy4vc3JjL2NvbXBvbmVudHMvZGFzaGJvYXJkL2Rhc2hib2FyZC1jb250ZW50LnRzeD8xODdmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5cclxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgTGluayBmcm9tIFwibmV4dC9saW5rXCI7XHJcbmltcG9ydCB7IEN1cnJlbnRCbG9ja0NoYXJ0IH0gZnJvbSBcIi4vY3VycmVudC1ibG9jay1jaGFydFwiO1xyXG5pbXBvcnQgeyBCbG9ja0hpc3RvcnlUaWxlcyB9IGZyb20gXCIuL2Jsb2NrLWhpc3RvcnktdGlsZXNcIjtcclxuaW1wb3J0IHsgTGl2ZVN0YXR1cyB9IGZyb20gXCIuL2xpdmUtc3RhdHVzXCI7XHJcbmltcG9ydCB7IHVzZUJsb2NrSGlzdG9yeSwgdXNlTGF0ZXN0QmxvY2sgfSBmcm9tIFwiQC9saWIvaG9va3NcIjtcclxuaW1wb3J0IHR5cGUgeyBIaXN0b3J5QmxvY2ssIExhdGVzdEJsb2NrIH0gZnJvbSBcIkAvbGliL3R5cGVzXCI7XHJcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcblxyXG5jb25zdCBwZXJjZW50Rm9ybWF0dGVyID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KHVuZGVmaW5lZCwge1xyXG4gIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMVxyXG59KTtcclxuXHJcbmNvbnN0IHRpbWV6b25lTGFiZWwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19USU1FWk9ORV9MQUJFTCA/PyBcIkFzaWEvS3VhbGFfTHVtcHVyXCI7XHJcblxyXG50eXBlIERhc2hib2FyZENvbnRlbnRQcm9wcyA9IHtcclxuICBzaW11bGF0b3JJZDogc3RyaW5nO1xyXG4gIHNpbXVsYXRvck5hbWU6IHN0cmluZztcclxuICB0YXJnZXRLd2g/OiBudW1iZXI7XHJcbiAgaW5pdGlhbEJsb2NrOiBMYXRlc3RCbG9jayB8IG51bGw7XHJcbiAgaW5pdGlhbEhpc3Rvcnk6IEhpc3RvcnlCbG9ja1tdO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIERhc2hib2FyZENvbnRlbnQoe1xyXG4gIHNpbXVsYXRvcklkLFxyXG4gIHNpbXVsYXRvck5hbWUsXHJcbiAgdGFyZ2V0S3doLFxyXG4gIGluaXRpYWxCbG9jayxcclxuICBpbml0aWFsSGlzdG9yeVxyXG59OiBEYXNoYm9hcmRDb250ZW50UHJvcHMpIHtcclxuICBjb25zdCBbY2hhcnRNb2RlLCBzZXRDaGFydE1vZGVdID0gdXNlU3RhdGU8XCJhY2N1bXVsYXRlXCIgfCBcIm5vbi1hY2N1bXVsYXRlXCI+KFwiYWNjdW11bGF0ZVwiKTtcclxuXHJcbiAgY29uc3Qge1xyXG4gICAgaGlzdG9yeSxcclxuICAgIGxvYWRpbmc6IGhpc3RvcnlMb2FkaW5nLFxyXG4gICAgcmVmcmVzaDogcmVmcmVzaEhpc3RvcnlcclxuICB9ID0gdXNlQmxvY2tIaXN0b3J5KHNpbXVsYXRvcklkLCAxMCwgaW5pdGlhbEhpc3RvcnkpO1xyXG5cclxuICBjb25zdCBoYW5kbGVXaW5kb3dDaGFuZ2UgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICB2b2lkIHJlZnJlc2hIaXN0b3J5KCk7XHJcbiAgfSwgW3JlZnJlc2hIaXN0b3J5XSk7XHJcblxyXG4gIGNvbnN0IHsgYmxvY2ssIGxvYWRpbmc6IGJsb2NrTG9hZGluZywgY29ubmVjdGVkLCByZWNvbm5lY3RpbmcsIGxhc3RSZWFkaW5nVHMsIHJlZnJlc2g6IHJlZnJlc2hCbG9jayB9ID0gdXNlTGF0ZXN0QmxvY2soXHJcbiAgICBzaW11bGF0b3JJZCxcclxuICAgIHtcclxuICAgICAgb25XaW5kb3dDaGFuZ2U6IGhhbmRsZVdpbmRvd0NoYW5nZVxyXG4gICAgfSxcclxuICAgIGluaXRpYWxCbG9ja1xyXG4gICk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAobGFzdFJlYWRpbmdUcyAmJiBjaGFydE1vZGUgPT09IFwibm9uLWFjY3VtdWxhdGVcIikge1xyXG4gICAgICByZWZyZXNoQmxvY2soKTtcclxuICAgIH1cclxuICB9LCBbbGFzdFJlYWRpbmdUcywgcmVmcmVzaEJsb2NrLCBjaGFydE1vZGVdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICByZWZyZXNoQmxvY2soKTtcclxuICAgIH0sIDE1MDAwKTsgLy8gUG9sbCBldmVyeSAxNSBzZWNvbmRzXHJcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XHJcbiAgfSwgW3JlZnJlc2hCbG9ja10pO1xyXG5cclxuICBjb25zdCBwZXJjZW50T2ZUYXJnZXQgPSBibG9jaz8ucGVyY2VudF9vZl90YXJnZXQgPz8gMDtcclxuICBjb25zdCBwZXJjZW50VmFyaWFudCA9IHBlcmNlbnRPZlRhcmdldCA+IDEwMCA/IFwidGV4dC1kYW5nZXJcIiA6IHBlcmNlbnRPZlRhcmdldCA+PSA4MCA/IFwidGV4dC13YXJuaW5nXCIgOiBcInRleHQtc3VjY2Vzc1wiO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwic3BhY2UteS0xMFwiPlxyXG4gICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGl0ZW1zLWVuZCBqdXN0aWZ5LWJldHdlZW4gZ2FwLTRcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxyXG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB1cHBlcmNhc2UgdHJhY2tpbmctWzAuM2VtXSB0ZXh0LXNsYXRlLTUwMFwiPlNpbXVsYXRvcjwvcD5cclxuICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LXNlbWlib2xkIHRleHQtd2hpdGVcIj57c2ltdWxhdG9yTmFtZX08L2gxPlxyXG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTQwMFwiPlxyXG4gICAgICAgICAgICBMaXZlIGNoYXJ0IGFuZCBibG9jayBoaXN0b3J5IHVwZGF0ZSBpbiByZWFsIHRpbWUgdmlhIHNlcnZlci1zZW50IGV2ZW50cyBmcm9tIHRoZSBiYWNrZW5kLlxyXG4gICAgICAgICAgPC9wPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTQgdGV4dC1zbSB0ZXh0LXNsYXRlLTMwMFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItc2xhdGUtODAwIGJnLXNsYXRlLTkwMC82MCBweC00IHB5LTIgdGV4dC1yaWdodFwiPlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHVwcGVyY2FzZSB0cmFja2luZy1bMC4yZW1dIHRleHQtc2xhdGUtNTAwXCI+VGFyZ2V0PC9wPlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTEwMFwiPnt0YXJnZXRLd2ggPyBgJHt0YXJnZXRLd2gudG9GaXhlZCgxKX0ga1doYCA6IFwi4oCUXCJ9PC9wPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1zbGF0ZS04MDAgYmctc2xhdGUtOTAwLzYwIHB4LTQgcHktMiB0ZXh0LXJpZ2h0XCI+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdXBwZXJjYXNlIHRyYWNraW5nLVswLjJlbV0gdGV4dC1zbGF0ZS01MDBcIj5DdXJyZW50IGJsb2NrPC9wPlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9e2B0ZXh0LWJhc2UgZm9udC1zZW1pYm9sZCAke3BlcmNlbnRWYXJpYW50fWB9PlxyXG4gICAgICAgICAgICAgIHtwZXJjZW50Rm9ybWF0dGVyLmZvcm1hdChwZXJjZW50T2ZUYXJnZXQpfSVcclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8TGlua1xyXG4gICAgICAgICAgICBocmVmPXt7IHBhdGhuYW1lOiBcIi9zaW0vW2lkXS9ydW5cIiwgcXVlcnk6IHsgaWQ6IHNpbXVsYXRvcklkIH0gfX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHJvdW5kZWQtbWQgYmctcHJpbWFyeSBweC00IHB5LTIgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtcHJpbWFyeS1mb3JlZ3JvdW5kIHRyYW5zaXRpb24gaG92ZXI6YmctY3lhbi02MDBcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICBPcGVuIGNvbnRyb2xzXHJcbiAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxyXG4gICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1zbGF0ZS0zMDBcIj5DaGFydCBNb2RlOjwvbGFiZWw+XHJcbiAgICAgICAgICA8c2VsZWN0XHJcbiAgICAgICAgICAgIHZhbHVlPXtjaGFydE1vZGV9XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Q2hhcnRNb2RlKGUudGFyZ2V0LnZhbHVlIGFzIFwiYWNjdW11bGF0ZVwiIHwgXCJub24tYWNjdW11bGF0ZVwiKX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLXNsYXRlLTcwMCBiZy1zbGF0ZS04MDAgcHgtMyBweS0yIHRleHQtc20gdGV4dC1zbGF0ZS0xMDBcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiYWNjdW11bGF0ZVwiPkFjY3VtdWxhdGU8L29wdGlvbj5cclxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm5vbi1hY2N1bXVsYXRlXCI+Tm9uLUFjY3VtdWxhdGUgKFJhdyBSZWFkaW5ncyk8L29wdGlvbj5cclxuICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2hlYWRlcj5cclxuXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtNiBsZzpncmlkLWNvbHMtWzJmciwxZnJdXCI+XHJcbiAgICAgICAgPEN1cnJlbnRCbG9ja0NoYXJ0IFxyXG4gICAgICAgICAgYmxvY2s9e2Jsb2NrID8/IHsgXHJcbiAgICAgICAgICAgIHNpbXVsYXRvcl9pZDogc2ltdWxhdG9ySWQsXHJcbiAgICAgICAgICAgIGJsb2NrX3N0YXJ0X2xvY2FsOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksIFxyXG4gICAgICAgICAgICBibG9ja19zdGFydF91dGM6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgICAgYmxvY2tfZW5kX3V0YzogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgICB0YXJnZXRfa3doOiB0YXJnZXRLd2ggPz8gMCxcclxuICAgICAgICAgICAgYWNjdW11bGF0ZWRfa3doOiAwLCBcclxuICAgICAgICAgICAgcGVyY2VudF9vZl90YXJnZXQ6IDAsIFxyXG4gICAgICAgICAgICBhbGVydGVkXzgwcGN0OiBmYWxzZSxcclxuICAgICAgICAgICAgY2hhcnRfYmluczogeyBiaW5fc2Vjb25kczogMzAsIHBvaW50czogW10gfSBcclxuICAgICAgICAgIH19IFxyXG4gICAgICAgICAgbG9hZGluZz17YmxvY2tMb2FkaW5nfVxyXG4gICAgICAgICAgdGFyZ2V0S3doPXt0YXJnZXRLd2h9XHJcbiAgICAgICAgICBtb2RlPXtjaGFydE1vZGV9XHJcblxyXG4gICAgICAgIC8+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC02XCI+XHJcbiAgICAgICAgICA8TGl2ZVN0YXR1c1xyXG4gICAgICAgICAgICBjb25uZWN0ZWQ9e2Nvbm5lY3RlZH1cclxuICAgICAgICAgICAgcmVjb25uZWN0aW5nPXtyZWNvbm5lY3Rpbmd9XHJcbiAgICAgICAgICAgIGxhc3RSZWFkaW5nVHM9e2xhc3RSZWFkaW5nVHN9XHJcbiAgICAgICAgICAgIGJsb2NrPXtibG9ja31cclxuICAgICAgICAgICAgdGFyZ2V0S3doPXt0YXJnZXRLd2h9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgICAgPEJsb2NrSGlzdG9yeVRpbGVzIGhpc3Rvcnk9e2hpc3Rvcnl9IGxvYWRpbmc9e2hpc3RvcnlMb2FkaW5nfSAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj5UaW1lem9uZSByZWZlcmVuY2U6IHt0aW1lem9uZUxhYmVsfS4gU1NFIGV2ZW50cyBhdXRvbWF0aWNhbGx5IHRyaWdnZXIgYSBoaXN0b3J5IHJlZnJlc2ggd2hlbiB0aGUgYmFja2VuZCByb2xscyB0byBhIG5ldyBibG9jay48L3A+XHJcbiAgICA8L3NlY3Rpb24+XHJcbiAgKTtcclxufVxyXG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJMaW5rIiwiQ3VycmVudEJsb2NrQ2hhcnQiLCJCbG9ja0hpc3RvcnlUaWxlcyIsIkxpdmVTdGF0dXMiLCJ1c2VCbG9ja0hpc3RvcnkiLCJ1c2VMYXRlc3RCbG9jayIsInVzZVN0YXRlIiwicGVyY2VudEZvcm1hdHRlciIsIkludGwiLCJOdW1iZXJGb3JtYXQiLCJ1bmRlZmluZWQiLCJtYXhpbXVtRnJhY3Rpb25EaWdpdHMiLCJ0aW1lem9uZUxhYmVsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1RJTUVaT05FX0xBQkVMIiwiRGFzaGJvYXJkQ29udGVudCIsInNpbXVsYXRvcklkIiwic2ltdWxhdG9yTmFtZSIsInRhcmdldEt3aCIsImluaXRpYWxCbG9jayIsImluaXRpYWxIaXN0b3J5IiwiY2hhcnRNb2RlIiwic2V0Q2hhcnRNb2RlIiwiaGlzdG9yeSIsImxvYWRpbmciLCJoaXN0b3J5TG9hZGluZyIsInJlZnJlc2giLCJyZWZyZXNoSGlzdG9yeSIsImhhbmRsZVdpbmRvd0NoYW5nZSIsImJsb2NrIiwiYmxvY2tMb2FkaW5nIiwiY29ubmVjdGVkIiwicmVjb25uZWN0aW5nIiwibGFzdFJlYWRpbmdUcyIsInJlZnJlc2hCbG9jayIsIm9uV2luZG93Q2hhbmdlIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJwZXJjZW50T2ZUYXJnZXQiLCJwZXJjZW50X29mX3RhcmdldCIsInBlcmNlbnRWYXJpYW50Iiwic2VjdGlvbiIsImNsYXNzTmFtZSIsImhlYWRlciIsImRpdiIsInAiLCJoMSIsInRvRml4ZWQiLCJmb3JtYXQiLCJocmVmIiwicGF0aG5hbWUiLCJxdWVyeSIsImlkIiwibGFiZWwiLCJzZWxlY3QiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsIm9wdGlvbiIsInNpbXVsYXRvcl9pZCIsImJsb2NrX3N0YXJ0X2xvY2FsIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiYmxvY2tfc3RhcnRfdXRjIiwiYmxvY2tfZW5kX3V0YyIsInRhcmdldF9rd2giLCJhY2N1bXVsYXRlZF9rd2giLCJhbGVydGVkXzgwcGN0IiwiY2hhcnRfYmlucyIsImJpbl9zZWNvbmRzIiwicG9pbnRzIiwibW9kZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/dashboard/dashboard-content.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/dashboard/ems-dashboard-client.tsx":
/*!***********************************************************!*\
  !*** ./src/components/dashboard/ems-dashboard-client.tsx ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EMSDashboardClient)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _dashboard_content__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dashboard-content */ \"(ssr)/./src/components/dashboard/dashboard-content.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\nfunction EMSDashboardClient({ simulators, initialDataMap }) {\n    const [selectedId, setSelectedId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(simulators[0]?.id ?? null);\n    if (simulators.length === 0) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex flex-col items-center justify-center h-screen text-slate-400\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                children: \"No simulators available. Please create one first.\"\n            }, void 0, false, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\ems-dashboard-client.tsx\",\n                lineNumber: 23,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\ems-dashboard-client.tsx\",\n            lineNumber: 22,\n            columnNumber: 7\n        }, this);\n    }\n    const selectedSim = simulators.find((sim)=>sim.id === selectedId);\n    const data = initialDataMap[selectedId ?? \"\"] ?? {\n        initialBlock: null,\n        initialHistory: [],\n        targetKwh: undefined\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-8\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"space-y-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-3xl font-semibold text-white\",\n                        children: \"EMS Dashboard\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\ems-dashboard-client.tsx\",\n                        lineNumber: 34,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-slate-400\",\n                        children: \"Select a meter to view its live chart and block history.\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\ems-dashboard-client.tsx\",\n                        lineNumber: 35,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\ems-dashboard-client.tsx\",\n                lineNumber: 33,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center gap-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                        htmlFor: \"meter-select\",\n                        className: \"text-sm font-medium text-slate-300\",\n                        children: \"Select Meter:\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\ems-dashboard-client.tsx\",\n                        lineNumber: 39,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                        id: \"meter-select\",\n                        value: selectedId ?? \"\",\n                        onChange: (e)=>setSelectedId(e.target.value),\n                        className: \"rounded-md border border-slate-700 bg-slate-800 px-3 py-2 text-sm text-slate-100 focus:border-primary focus:outline-none\",\n                        children: simulators.map((sim)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: sim.id,\n                                children: [\n                                    sim.name,\n                                    \" (Target: \",\n                                    sim.target_kwh,\n                                    \" kWh)\"\n                                ]\n                            }, sim.id, true, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\ems-dashboard-client.tsx\",\n                                lineNumber: 49,\n                                columnNumber: 13\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\ems-dashboard-client.tsx\",\n                        lineNumber: 42,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\ems-dashboard-client.tsx\",\n                lineNumber: 38,\n                columnNumber: 7\n            }, this),\n            selectedSim && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_dashboard_content__WEBPACK_IMPORTED_MODULE_2__.DashboardContent, {\n                simulatorId: selectedId,\n                simulatorName: selectedSim.name,\n                targetKwh: data.targetKwh,\n                initialBlock: data.initialBlock,\n                initialHistory: data.initialHistory\n            }, void 0, false, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\ems-dashboard-client.tsx\",\n                lineNumber: 57,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\ems-dashboard-client.tsx\",\n        lineNumber: 32,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9kYXNoYm9hcmQvZW1zLWRhc2hib2FyZC1jbGllbnQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFaUM7QUFDc0I7QUFheEMsU0FBU0UsbUJBQW1CLEVBQUVDLFVBQVUsRUFBRUMsY0FBYyxFQUEyQjtJQUNoRyxNQUFNLENBQUNDLFlBQVlDLGNBQWMsR0FBR04sK0NBQVFBLENBQWdCRyxVQUFVLENBQUMsRUFBRSxFQUFFSSxNQUFNO0lBRWpGLElBQUlKLFdBQVdLLE1BQU0sS0FBSyxHQUFHO1FBQzNCLHFCQUNFLDhEQUFDQztZQUFJQyxXQUFVO3NCQUNiLDRFQUFDQzswQkFBRTs7Ozs7Ozs7Ozs7SUFHVDtJQUVBLE1BQU1DLGNBQWNULFdBQVdVLElBQUksQ0FBQyxDQUFDQyxNQUFRQSxJQUFJUCxFQUFFLEtBQUtGO0lBQ3hELE1BQU1VLE9BQU9YLGNBQWMsQ0FBQ0MsY0FBYyxHQUFHLElBQUk7UUFBRVcsY0FBYztRQUFNQyxnQkFBZ0IsRUFBRTtRQUFFQyxXQUFXQztJQUFVO0lBRWhILHFCQUNFLDhEQUFDVjtRQUFJQyxXQUFVOzswQkFDYiw4REFBQ1U7Z0JBQU9WLFdBQVU7O2tDQUNoQiw4REFBQ1c7d0JBQUdYLFdBQVU7a0NBQW9DOzs7Ozs7a0NBQ2xELDhEQUFDQzt3QkFBRUQsV0FBVTtrQ0FBeUI7Ozs7Ozs7Ozs7OzswQkFHeEMsOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ1k7d0JBQU1DLFNBQVE7d0JBQWViLFdBQVU7a0NBQXFDOzs7Ozs7a0NBRzdFLDhEQUFDYzt3QkFDQ2pCLElBQUc7d0JBQ0hrQixPQUFPcEIsY0FBYzt3QkFDckJxQixVQUFVLENBQUNDLElBQU1yQixjQUFjcUIsRUFBRUMsTUFBTSxDQUFDSCxLQUFLO3dCQUM3Q2YsV0FBVTtrQ0FFVFAsV0FBVzBCLEdBQUcsQ0FBQyxDQUFDZixvQkFDZiw4REFBQ2dCO2dDQUFvQkwsT0FBT1gsSUFBSVAsRUFBRTs7b0NBQy9CTyxJQUFJaUIsSUFBSTtvQ0FBQztvQ0FBV2pCLElBQUlrQixVQUFVO29DQUFDOzsrQkFEekJsQixJQUFJUCxFQUFFOzs7Ozs7Ozs7Ozs7Ozs7O1lBT3hCSyw2QkFDQyw4REFBQ1gsZ0VBQWdCQTtnQkFDZmdDLGFBQWE1QjtnQkFDYjZCLGVBQWV0QixZQUFZbUIsSUFBSTtnQkFDL0JiLFdBQVdILEtBQUtHLFNBQVM7Z0JBQ3pCRixjQUFjRCxLQUFLQyxZQUFZO2dCQUMvQkMsZ0JBQWdCRixLQUFLRSxjQUFjOzs7Ozs7Ozs7Ozs7QUFLN0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ldGVybmFsZ3ktZW1zLWZyb250ZW5kLy4vc3JjL2NvbXBvbmVudHMvZGFzaGJvYXJkL2Vtcy1kYXNoYm9hcmQtY2xpZW50LnRzeD81ZmJjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgRGFzaGJvYXJkQ29udGVudCB9IGZyb20gXCIuL2Rhc2hib2FyZC1jb250ZW50XCI7XG5pbXBvcnQgdHlwZSB7IEhpc3RvcnlCbG9jaywgTGF0ZXN0QmxvY2ssIFNpbXVsYXRvciB9IGZyb20gXCJAL2xpYi90eXBlc1wiO1xuXG50eXBlIEluaXRpYWxEYXRhTWFwID0gUmVjb3JkPFxuICBzdHJpbmcsXG4gIHsgaW5pdGlhbEJsb2NrOiBMYXRlc3RCbG9jayB8IG51bGw7IGluaXRpYWxIaXN0b3J5OiBIaXN0b3J5QmxvY2tbXTsgdGFyZ2V0S3doOiBudW1iZXIgfCB1bmRlZmluZWQgfVxuPjtcblxudHlwZSBFTVNEYXNoYm9hcmRDbGllbnRQcm9wcyA9IHtcbiAgc2ltdWxhdG9yczogU2ltdWxhdG9yW107XG4gIGluaXRpYWxEYXRhTWFwOiBJbml0aWFsRGF0YU1hcDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEVNU0Rhc2hib2FyZENsaWVudCh7IHNpbXVsYXRvcnMsIGluaXRpYWxEYXRhTWFwIH06IEVNU0Rhc2hib2FyZENsaWVudFByb3BzKSB7XG4gIGNvbnN0IFtzZWxlY3RlZElkLCBzZXRTZWxlY3RlZElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KHNpbXVsYXRvcnNbMF0/LmlkID8/IG51bGwpO1xuXG4gIGlmIChzaW11bGF0b3JzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGgtc2NyZWVuIHRleHQtc2xhdGUtNDAwXCI+XG4gICAgICAgIDxwPk5vIHNpbXVsYXRvcnMgYXZhaWxhYmxlLiBQbGVhc2UgY3JlYXRlIG9uZSBmaXJzdC48L3A+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgY29uc3Qgc2VsZWN0ZWRTaW0gPSBzaW11bGF0b3JzLmZpbmQoKHNpbSkgPT4gc2ltLmlkID09PSBzZWxlY3RlZElkKTtcbiAgY29uc3QgZGF0YSA9IGluaXRpYWxEYXRhTWFwW3NlbGVjdGVkSWQgPz8gXCJcIl0gPz8geyBpbml0aWFsQmxvY2s6IG51bGwsIGluaXRpYWxIaXN0b3J5OiBbXSwgdGFyZ2V0S3doOiB1bmRlZmluZWQgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS04XCI+XG4gICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+RU1TIERhc2hib2FyZDwvaDE+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1zbGF0ZS00MDBcIj5TZWxlY3QgYSBtZXRlciB0byB2aWV3IGl0cyBsaXZlIGNoYXJ0IGFuZCBibG9jayBoaXN0b3J5LjwvcD5cbiAgICAgIDwvaGVhZGVyPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC00XCI+XG4gICAgICAgIDxsYWJlbCBodG1sRm9yPVwibWV0ZXItc2VsZWN0XCIgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTMwMFwiPlxuICAgICAgICAgIFNlbGVjdCBNZXRlcjpcbiAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPHNlbGVjdFxuICAgICAgICAgIGlkPVwibWV0ZXItc2VsZWN0XCJcbiAgICAgICAgICB2YWx1ZT17c2VsZWN0ZWRJZCA/PyBcIlwifVxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VsZWN0ZWRJZChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLXNsYXRlLTcwMCBiZy1zbGF0ZS04MDAgcHgtMyBweS0yIHRleHQtc20gdGV4dC1zbGF0ZS0xMDAgZm9jdXM6Ym9yZGVyLXByaW1hcnkgZm9jdXM6b3V0bGluZS1ub25lXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtzaW11bGF0b3JzLm1hcCgoc2ltKSA9PiAoXG4gICAgICAgICAgICA8b3B0aW9uIGtleT17c2ltLmlkfSB2YWx1ZT17c2ltLmlkfT5cbiAgICAgICAgICAgICAge3NpbS5uYW1lfSAoVGFyZ2V0OiB7c2ltLnRhcmdldF9rd2h9IGtXaClcbiAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICkpfVxuICAgICAgICA8L3NlbGVjdD5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7c2VsZWN0ZWRTaW0gJiYgKFxuICAgICAgICA8RGFzaGJvYXJkQ29udGVudFxuICAgICAgICAgIHNpbXVsYXRvcklkPXtzZWxlY3RlZElkIX1cbiAgICAgICAgICBzaW11bGF0b3JOYW1lPXtzZWxlY3RlZFNpbS5uYW1lfVxuICAgICAgICAgIHRhcmdldEt3aD17ZGF0YS50YXJnZXRLd2h9XG4gICAgICAgICAgaW5pdGlhbEJsb2NrPXtkYXRhLmluaXRpYWxCbG9ja31cbiAgICAgICAgICBpbml0aWFsSGlzdG9yeT17ZGF0YS5pbml0aWFsSGlzdG9yeX1cbiAgICAgICAgLz5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwiRGFzaGJvYXJkQ29udGVudCIsIkVNU0Rhc2hib2FyZENsaWVudCIsInNpbXVsYXRvcnMiLCJpbml0aWFsRGF0YU1hcCIsInNlbGVjdGVkSWQiLCJzZXRTZWxlY3RlZElkIiwiaWQiLCJsZW5ndGgiLCJkaXYiLCJjbGFzc05hbWUiLCJwIiwic2VsZWN0ZWRTaW0iLCJmaW5kIiwic2ltIiwiZGF0YSIsImluaXRpYWxCbG9jayIsImluaXRpYWxIaXN0b3J5IiwidGFyZ2V0S3doIiwidW5kZWZpbmVkIiwiaGVhZGVyIiwiaDEiLCJsYWJlbCIsImh0bWxGb3IiLCJzZWxlY3QiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsIm1hcCIsIm9wdGlvbiIsIm5hbWUiLCJ0YXJnZXRfa3doIiwic2ltdWxhdG9ySWQiLCJzaW11bGF0b3JOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/dashboard/ems-dashboard-client.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/dashboard/live-status.tsx":
/*!**************************************************!*\
  !*** ./src/components/dashboard/live-status.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LiveStatus: () => (/* binding */ LiveStatus)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ LiveStatus auto */ \n\nconst TIMEZONE = \"Asia/Kuala_Lumpur\" ?? 0;\nconst timeFormatter = new Intl.DateTimeFormat(undefined, {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    timeZone: TIMEZONE\n});\n/**\r\n * Calculate projected total usage for the 30-minute block based on current average\r\n * Fixed: Always uses accumulated_kwh (cumulative) and projects forward correctly\r\n */ function calculateProjection(block, targetKwh) {\n    if (!block || !block.block_start_local || targetKwh <= 0) {\n        return {\n            projectedTotal: 0,\n            status: \"SAFE\",\n            color: \"bg-emerald-500\",\n            elapsedMinutes: 0,\n            currentAccumulated: 0,\n            fillPercentage: 0\n        };\n    }\n    const blockStart = new Date(block.block_start_local);\n    const now = new Date();\n    const elapsedMs = Math.max(0, now.getTime() - blockStart.getTime());\n    const elapsedMinutes = elapsedMs / (1000 * 60);\n    // Ensure elapsed time doesn't exceed 30 minutes (block duration)\n    const cappedElapsedMinutes = Math.min(30, elapsedMinutes);\n    const currentAccumulated = block.accumulated_kwh ?? 0;\n    // Calculate fill percentage (current / target)\n    const fillPercentage = Math.min(100, currentAccumulated / targetKwh * 100);\n    // If less than 1 minute has elapsed or no data, use current accumulated as projection\n    if (cappedElapsedMinutes < 1 || currentAccumulated === 0) {\n        const currentPercent = fillPercentage;\n        return {\n            projectedTotal: currentAccumulated,\n            status: currentPercent < 80 ? \"SAFE\" : currentPercent < 100 ? \"VERY CLOSE\" : \"OVER\",\n            color: currentPercent < 80 ? \"bg-emerald-500\" : currentPercent < 100 ? \"bg-amber-500\" : \"bg-red-500\",\n            elapsedMinutes: cappedElapsedMinutes,\n            currentAccumulated,\n            fillPercentage\n        };\n    }\n    // Calculate average usage per minute\n    // FIXED: Use accumulated_kwh (cumulative total) divided by elapsed minutes\n    // Example: If 400 kWh accumulated in 10 minutes, avg = 40 kWh/min, projection = 40 * 30 = 1200 kWh\n    const averagePerMinute = currentAccumulated / cappedElapsedMinutes;\n    // Project to full 30 minutes: average per minute * 30 minutes\n    const projectedTotal = averagePerMinute * 30;\n    // Calculate percentage of target\n    const percentOfTarget = projectedTotal / targetKwh * 100;\n    // Determine status and color\n    let status;\n    let color;\n    if (percentOfTarget < 80) {\n        status = \"SAFE\";\n        color = \"bg-emerald-500\";\n    } else if (percentOfTarget < 100) {\n        status = \"VERY CLOSE\";\n        color = \"bg-amber-500\";\n    } else {\n        status = \"OVER\";\n        color = \"bg-red-500\";\n    }\n    return {\n        projectedTotal,\n        status,\n        color,\n        elapsedMinutes: cappedElapsedMinutes,\n        currentAccumulated,\n        fillPercentage\n    };\n}\nfunction LiveStatus({ connected, reconnecting, lastReadingTs, block, targetKwh, targetPeakKwh }) {\n    const [currentTime, setCurrentTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Date());\n    // Update time every second for smooth bucket animation\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const interval = setInterval(()=>{\n            setCurrentTime(new Date());\n        }, 1000);\n        return ()=>clearInterval(interval);\n    }, []);\n    let indicatorClass = \"bg-slate-500\";\n    let statusText = \"Disconnected\";\n    if (connected) {\n        indicatorClass = \"bg-emerald-400 animate-pulse\";\n        statusText = \"Connected\";\n    } else if (reconnecting) {\n        indicatorClass = \"bg-amber-400 animate-pulse\";\n        statusText = \"Reconnecting\";\n    }\n    const formatted = lastReadingTs ? timeFormatter.format(new Date(lastReadingTs)) : \"â€”\";\n    // Calculate projection\n    // Use targetPeakKwh if provided (non-accumulate mode), otherwise use targetKwh (accumulate mode)\n    const effectiveTarget = targetPeakKwh ?? targetKwh ?? block?.target_kwh ?? 0;\n    const projection = calculateProjection(block, effectiveTarget);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"rounded-2xl border border-slate-800 bg-slate-900/60 p-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                className: \"text-lg font-semibold text-white\",\n                children: \"Live status\"\n            }, void 0, false, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                lineNumber: 139,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-4 flex items-center gap-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: `h-3 w-3 rounded-full ${indicatorClass}`,\n                        \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                        lineNumber: 141,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-sm text-slate-200\",\n                        children: statusText\n                    }, void 0, false, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                        lineNumber: 142,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                lineNumber: 140,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"dl\", {\n                className: \"mt-4 space-y-2 text-xs text-slate-400\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"dt\", {\n                            className: \"uppercase tracking-[0.2em] text-slate-500\",\n                            children: \"Last reading\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                            lineNumber: 146,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"dd\", {\n                            className: \"mt-1 text-sm text-slate-200\",\n                            children: formatted\n                        }, void 0, false, {\n                            fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                            lineNumber: 147,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                    lineNumber: 145,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                lineNumber: 144,\n                columnNumber: 7\n            }, this),\n            block && effectiveTarget > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-6 space-y-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-xs uppercase tracking-[0.2em] text-slate-500 mb-3\",\n                        children: \"Usage Bucket\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                        lineNumber: 154,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"relative\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative h-48 w-full rounded-b-lg border-4 border-slate-600 bg-slate-800/50 overflow-hidden\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute bottom-0 left-0 right-0 transition-all duration-500 ease-out\",\n                                        style: {\n                                            height: `${Math.min(100, projection.fillPercentage)}%`,\n                                            backgroundColor: projection.fillPercentage < 80 ? \"#22c55e\" // green\n                                             : projection.fillPercentage < 100 ? \"#f59e0b\" // amber\n                                             : \"#ef4444\" // red\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute inset-0 opacity-20 bg-gradient-to-t from-transparent via-white to-transparent animate-pulse\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                                lineNumber: 173,\n                                                columnNumber: 17\n                                            }, this),\n                                            projection.fillPercentage > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute top-0 left-0 right-0 h-0.5 bg-white/50\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                                lineNumber: 177,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                        lineNumber: 161,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute left-0 right-0 border-t-2 border-dashed border-amber-400 opacity-60\",\n                                        style: {\n                                            bottom: \"20%\"\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"absolute -left-12 -top-2 text-xs text-amber-400\",\n                                            children: \"80%\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                            lineNumber: 186,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                        lineNumber: 182,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute left-0 right-0 border-t-2 border-dashed border-red-400 opacity-60\",\n                                        style: {\n                                            bottom: \"0%\"\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"absolute -left-12 -top-2 text-xs text-red-400\",\n                                            children: \"100%\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                            lineNumber: 194,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                        lineNumber: 190,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 flex items-center justify-center pointer-events-none\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-2xl font-bold text-white drop-shadow-lg\",\n                                                    children: [\n                                                        projection.currentAccumulated.toFixed(2),\n                                                        \" kWh\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                                    lineNumber: 200,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-xs text-slate-300 mt-1\",\n                                                    children: [\n                                                        projection.fillPercentage.toFixed(1),\n                                                        \"% filled\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                                    lineNumber: 203,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                            lineNumber: 199,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                        lineNumber: 198,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                lineNumber: 159,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute -top-2 -left-3 w-8 h-4 border-2 border-slate-600 rounded-t-full\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                lineNumber: 211,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute -top-2 -right-3 w-8 h-4 border-2 border-slate-600 rounded-t-full\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                lineNumber: 212,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                        lineNumber: 157,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-2 gap-2 text-xs\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"rounded border border-slate-700 bg-slate-800/50 p-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-slate-400\",\n                                        children: \"Target\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                        lineNumber: 218,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-white font-semibold\",\n                                        children: [\n                                            effectiveTarget.toFixed(2),\n                                            \" kWh\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                        lineNumber: 219,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                lineNumber: 217,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"rounded border border-slate-700 bg-slate-800/50 p-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-slate-400\",\n                                        children: \"Current\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                        lineNumber: 222,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-white font-semibold\",\n                                        children: [\n                                            projection.currentAccumulated.toFixed(2),\n                                            \" kWh\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                        lineNumber: 223,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                lineNumber: 221,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                        lineNumber: 216,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: `${projection.color} rounded-lg p-4 text-center shadow-lg`,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-2xl font-bold text-white\",\n                                children: projection.status\n                            }, void 0, false, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                lineNumber: 229,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-2 text-xs text-white/90\",\n                                children: [\n                                    \"Projected: \",\n                                    projection.projectedTotal.toFixed(2),\n                                    \" kWh\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                lineNumber: 230,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-1 text-xs text-white/80\",\n                                children: [\n                                    \"(\",\n                                    (projection.projectedTotal / effectiveTarget * 100).toFixed(1),\n                                    \"% of target)\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                lineNumber: 233,\n                                columnNumber: 13\n                            }, this),\n                            projection.elapsedMinutes > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-1 text-xs text-white/70\",\n                                children: [\n                                    \"Based on \",\n                                    projection.elapsedMinutes.toFixed(1),\n                                    \" min avg\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                                lineNumber: 237,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                        lineNumber: 228,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n                lineNumber: 153,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\dashboard\\\\live-status.tsx\",\n        lineNumber: 138,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9kYXNoYm9hcmQvbGl2ZS1zdGF0dXMudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUc0QztBQVc1QyxNQUFNRSxXQUFXQyxtQkFBc0MsSUFBSSxDQUFtQjtBQUU5RSxNQUFNRyxnQkFBZ0IsSUFBSUMsS0FBS0MsY0FBYyxDQUFDQyxXQUFXO0lBQ3ZEQyxNQUFNO0lBQ05DLFFBQVE7SUFDUkMsUUFBUTtJQUNSQyxVQUFVWDtBQUNaO0FBRUE7OztDQUdDLEdBQ0QsU0FBU1ksb0JBQW9CQyxLQUFxQyxFQUFFQyxTQUFpQjtJQVFuRixJQUFJLENBQUNELFNBQVMsQ0FBQ0EsTUFBTUUsaUJBQWlCLElBQUlELGFBQWEsR0FBRztRQUN4RCxPQUFPO1lBQ0xFLGdCQUFnQjtZQUNoQkMsUUFBUTtZQUNSQyxPQUFPO1lBQ1BDLGdCQUFnQjtZQUNoQkMsb0JBQW9CO1lBQ3BCQyxnQkFBZ0I7UUFDbEI7SUFDRjtJQUVBLE1BQU1DLGFBQWEsSUFBSUMsS0FBS1YsTUFBTUUsaUJBQWlCO0lBQ25ELE1BQU1TLE1BQU0sSUFBSUQ7SUFDaEIsTUFBTUUsWUFBWUMsS0FBS0MsR0FBRyxDQUFDLEdBQUdILElBQUlJLE9BQU8sS0FBS04sV0FBV00sT0FBTztJQUNoRSxNQUFNVCxpQkFBaUJNLFlBQWEsUUFBTyxFQUFDO0lBRTVDLGlFQUFpRTtJQUNqRSxNQUFNSSx1QkFBdUJILEtBQUtJLEdBQUcsQ0FBQyxJQUFJWDtJQUMxQyxNQUFNQyxxQkFBcUJQLE1BQU1rQixlQUFlLElBQUk7SUFFcEQsK0NBQStDO0lBQy9DLE1BQU1WLGlCQUFpQkssS0FBS0ksR0FBRyxDQUFDLEtBQUsscUJBQXNCaEIsWUFBYTtJQUV4RSxzRkFBc0Y7SUFDdEYsSUFBSWUsdUJBQXVCLEtBQUtULHVCQUF1QixHQUFHO1FBQ3hELE1BQU1ZLGlCQUFpQlg7UUFDdkIsT0FBTztZQUNMTCxnQkFBZ0JJO1lBQ2hCSCxRQUFRZSxpQkFBaUIsS0FBSyxTQUFTQSxpQkFBaUIsTUFBTSxlQUFlO1lBQzdFZCxPQUFPYyxpQkFBaUIsS0FBSyxtQkFBbUJBLGlCQUFpQixNQUFNLGlCQUFpQjtZQUN4RmIsZ0JBQWdCVTtZQUNoQlQ7WUFDQUM7UUFDRjtJQUNGO0lBRUEscUNBQXFDO0lBQ3JDLDJFQUEyRTtJQUMzRSxtR0FBbUc7SUFDbkcsTUFBTVksbUJBQW1CYixxQkFBcUJTO0lBRTlDLDhEQUE4RDtJQUM5RCxNQUFNYixpQkFBaUJpQixtQkFBbUI7SUFFMUMsaUNBQWlDO0lBQ2pDLE1BQU1DLGtCQUFrQixpQkFBa0JwQixZQUFhO0lBRXZELDZCQUE2QjtJQUM3QixJQUFJRztJQUNKLElBQUlDO0lBRUosSUFBSWdCLGtCQUFrQixJQUFJO1FBQ3hCakIsU0FBUztRQUNUQyxRQUFRO0lBQ1YsT0FBTyxJQUFJZ0Isa0JBQWtCLEtBQUs7UUFDaENqQixTQUFTO1FBQ1RDLFFBQVE7SUFDVixPQUFPO1FBQ0xELFNBQVM7UUFDVEMsUUFBUTtJQUNWO0lBRUEsT0FBTztRQUNMRjtRQUNBQztRQUNBQztRQUNBQyxnQkFBZ0JVO1FBQ2hCVDtRQUNBQztJQUNGO0FBQ0Y7QUFFTyxTQUFTYyxXQUFXLEVBQUVDLFNBQVMsRUFBRUMsWUFBWSxFQUFFQyxhQUFhLEVBQUV6QixLQUFLLEVBQUVDLFNBQVMsRUFBRXlCLGFBQWEsRUFBbUI7SUFDckgsTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUcxQywrQ0FBUUEsQ0FBQyxJQUFJd0I7SUFFbkQsdURBQXVEO0lBQ3ZEekIsZ0RBQVNBLENBQUM7UUFDUixNQUFNNEMsV0FBV0MsWUFBWTtZQUMzQkYsZUFBZSxJQUFJbEI7UUFDckIsR0FBRztRQUNILE9BQU8sSUFBTXFCLGNBQWNGO0lBQzdCLEdBQUcsRUFBRTtJQUVMLElBQUlHLGlCQUFpQjtJQUNyQixJQUFJQyxhQUFhO0lBRWpCLElBQUlWLFdBQVc7UUFDYlMsaUJBQWlCO1FBQ2pCQyxhQUFhO0lBQ2YsT0FBTyxJQUFJVCxjQUFjO1FBQ3ZCUSxpQkFBaUI7UUFDakJDLGFBQWE7SUFDZjtJQUVBLE1BQU1DLFlBQVlULGdCQUFnQmxDLGNBQWM0QyxNQUFNLENBQUMsSUFBSXpCLEtBQUtlLGtCQUFrQjtJQUVsRix1QkFBdUI7SUFDdkIsaUdBQWlHO0lBQ2pHLE1BQU1XLGtCQUFrQlYsaUJBQWlCekIsYUFBYUQsT0FBT3FDLGNBQWM7SUFDM0UsTUFBTUMsYUFBYXZDLG9CQUFvQkMsT0FBT29DO0lBRTlDLHFCQUNFLDhEQUFDRztRQUFJQyxXQUFVOzswQkFDYiw4REFBQ0M7Z0JBQUdELFdBQVU7MEJBQW1DOzs7Ozs7MEJBQ2pELDhEQUFDRDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNFO3dCQUFLRixXQUFXLENBQUMscUJBQXFCLEVBQUVSLGVBQWUsQ0FBQzt3QkFBRVcsZUFBWTs7Ozs7O2tDQUN2RSw4REFBQ0Q7d0JBQUtGLFdBQVU7a0NBQTBCUDs7Ozs7Ozs7Ozs7OzBCQUU1Qyw4REFBQ1c7Z0JBQUdKLFdBQVU7MEJBQ1osNEVBQUNEOztzQ0FDQyw4REFBQ007NEJBQUdMLFdBQVU7c0NBQTRDOzs7Ozs7c0NBQzFELDhEQUFDTTs0QkFBR04sV0FBVTtzQ0FBK0JOOzs7Ozs7Ozs7Ozs7Ozs7OztZQUtoRGxDLFNBQVNvQyxrQkFBa0IsbUJBQzFCLDhEQUFDRztnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNEO3dCQUFJQyxXQUFVO2tDQUF5RDs7Ozs7O2tDQUd4RSw4REFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUViLDhEQUFDRDtnQ0FBSUMsV0FBVTs7a0RBRWIsOERBQUNEO3dDQUNDQyxXQUFVO3dDQUNWTyxPQUFPOzRDQUNMQyxRQUFRLENBQUMsRUFBRW5DLEtBQUtJLEdBQUcsQ0FBQyxLQUFLcUIsV0FBVzlCLGNBQWMsRUFBRSxDQUFDLENBQUM7NENBQ3REeUMsaUJBQWlCWCxXQUFXOUIsY0FBYyxHQUFHLEtBQ3pDLFVBQVUsUUFBUTsrQ0FDbEI4QixXQUFXOUIsY0FBYyxHQUFHLE1BQzVCLFVBQVUsUUFBUTsrQ0FDbEIsVUFBVSxNQUFNO3dDQUN0Qjs7MERBR0EsOERBQUMrQjtnREFBSUMsV0FBVTs7Ozs7OzRDQUdkRixXQUFXOUIsY0FBYyxHQUFHLG1CQUMzQiw4REFBQytCO2dEQUFJQyxXQUFVOzs7Ozs7Ozs7Ozs7a0RBS25CLDhEQUFDRDt3Q0FDQ0MsV0FBVTt3Q0FDVk8sT0FBTzs0Q0FBRUcsUUFBUTt3Q0FBTTtrREFFdkIsNEVBQUNSOzRDQUFLRixXQUFVO3NEQUFrRDs7Ozs7Ozs7Ozs7a0RBSXBFLDhEQUFDRDt3Q0FDQ0MsV0FBVTt3Q0FDVk8sT0FBTzs0Q0FBRUcsUUFBUTt3Q0FBSztrREFFdEIsNEVBQUNSOzRDQUFLRixXQUFVO3NEQUFnRDs7Ozs7Ozs7Ozs7a0RBSWxFLDhEQUFDRDt3Q0FBSUMsV0FBVTtrREFDYiw0RUFBQ0Q7NENBQUlDLFdBQVU7OzhEQUNiLDhEQUFDRDtvREFBSUMsV0FBVTs7d0RBQ1pGLFdBQVcvQixrQkFBa0IsQ0FBQzRDLE9BQU8sQ0FBQzt3REFBRzs7Ozs7Ozs4REFFNUMsOERBQUNaO29EQUFJQyxXQUFVOzt3REFDWkYsV0FBVzlCLGNBQWMsQ0FBQzJDLE9BQU8sQ0FBQzt3REFBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBDQU85Qyw4REFBQ1o7Z0NBQUlDLFdBQVU7Ozs7OzswQ0FDZiw4REFBQ0Q7Z0NBQUlDLFdBQVU7Ozs7Ozs7Ozs7OztrQ0FJakIsOERBQUNEO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ0Q7Z0NBQUlDLFdBQVU7O2tEQUNiLDhEQUFDRDt3Q0FBSUMsV0FBVTtrREFBaUI7Ozs7OztrREFDaEMsOERBQUNEO3dDQUFJQyxXQUFVOzs0Q0FBNEJKLGdCQUFnQmUsT0FBTyxDQUFDOzRDQUFHOzs7Ozs7Ozs7Ozs7OzBDQUV4RSw4REFBQ1o7Z0NBQUlDLFdBQVU7O2tEQUNiLDhEQUFDRDt3Q0FBSUMsV0FBVTtrREFBaUI7Ozs7OztrREFDaEMsOERBQUNEO3dDQUFJQyxXQUFVOzs0Q0FBNEJGLFdBQVcvQixrQkFBa0IsQ0FBQzRDLE9BQU8sQ0FBQzs0Q0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztrQ0FLeEYsOERBQUNaO3dCQUFJQyxXQUFXLENBQUMsRUFBRUYsV0FBV2pDLEtBQUssQ0FBQyxxQ0FBcUMsQ0FBQzs7MENBQ3hFLDhEQUFDa0M7Z0NBQUlDLFdBQVU7MENBQWlDRixXQUFXbEMsTUFBTTs7Ozs7OzBDQUNqRSw4REFBQ21DO2dDQUFJQyxXQUFVOztvQ0FBNkI7b0NBQzlCRixXQUFXbkMsY0FBYyxDQUFDZ0QsT0FBTyxDQUFDO29DQUFHOzs7Ozs7OzBDQUVuRCw4REFBQ1o7Z0NBQUlDLFdBQVU7O29DQUE2QjtvQ0FDdkMsWUFBWXJDLGNBQWMsR0FBR2lDLGtCQUFtQixHQUFFLEVBQUdlLE9BQU8sQ0FBQztvQ0FBRzs7Ozs7Ozs0QkFFcEViLFdBQVdoQyxjQUFjLEdBQUcsbUJBQzNCLDhEQUFDaUM7Z0NBQUlDLFdBQVU7O29DQUE2QjtvQ0FDaENGLFdBQVdoQyxjQUFjLENBQUM2QyxPQUFPLENBQUM7b0NBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRL0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ldGVybmFsZ3ktZW1zLWZyb250ZW5kLy4vc3JjL2NvbXBvbmVudHMvZGFzaGJvYXJkL2xpdmUtc3RhdHVzLnRzeD85ZWQ1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5cclxuaW1wb3J0IHR5cGUgeyBMYXRlc3RCbG9jayB9IGZyb20gXCJAL2xpYi90eXBlc1wiO1xyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcblxyXG50eXBlIExpdmVTdGF0dXNQcm9wcyA9IHtcclxuICBjb25uZWN0ZWQ6IGJvb2xlYW47XHJcbiAgcmVjb25uZWN0aW5nOiBib29sZWFuO1xyXG4gIGxhc3RSZWFkaW5nVHM/OiBzdHJpbmc7XHJcbiAgYmxvY2s/OiBMYXRlc3RCbG9jayB8IG51bGw7XHJcbiAgdGFyZ2V0S3doPzogbnVtYmVyO1xyXG4gIHRhcmdldFBlYWtLd2g/OiBudW1iZXI7IC8vIFRhcmdldCBhY2N1bXVsYXRlZF9rd2ggZm9yIDMwbWluIGJsb2NrICh1c2VkIGluIG5vbi1hY2N1bXVsYXRlIG1vZGUpXHJcbn07XHJcblxyXG5jb25zdCBUSU1FWk9ORSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1RJTUVaT05FX0xBQkVMID8/IFwiQXNpYS9LdWFsYV9MdW1wdXJcIjtcclxuXHJcbmNvbnN0IHRpbWVGb3JtYXR0ZXIgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdCh1bmRlZmluZWQsIHtcclxuICBob3VyOiBcIjItZGlnaXRcIixcclxuICBtaW51dGU6IFwiMi1kaWdpdFwiLFxyXG4gIHNlY29uZDogXCIyLWRpZ2l0XCIsXHJcbiAgdGltZVpvbmU6IFRJTUVaT05FXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIENhbGN1bGF0ZSBwcm9qZWN0ZWQgdG90YWwgdXNhZ2UgZm9yIHRoZSAzMC1taW51dGUgYmxvY2sgYmFzZWQgb24gY3VycmVudCBhdmVyYWdlXHJcbiAqIEZpeGVkOiBBbHdheXMgdXNlcyBhY2N1bXVsYXRlZF9rd2ggKGN1bXVsYXRpdmUpIGFuZCBwcm9qZWN0cyBmb3J3YXJkIGNvcnJlY3RseVxyXG4gKi9cclxuZnVuY3Rpb24gY2FsY3VsYXRlUHJvamVjdGlvbihibG9jazogTGF0ZXN0QmxvY2sgfCBudWxsIHwgdW5kZWZpbmVkLCB0YXJnZXRLd2g6IG51bWJlcik6IHtcclxuICBwcm9qZWN0ZWRUb3RhbDogbnVtYmVyO1xyXG4gIHN0YXR1czogXCJTQUZFXCIgfCBcIlZFUlkgQ0xPU0VcIiB8IFwiT1ZFUlwiO1xyXG4gIGNvbG9yOiBzdHJpbmc7XHJcbiAgZWxhcHNlZE1pbnV0ZXM6IG51bWJlcjtcclxuICBjdXJyZW50QWNjdW11bGF0ZWQ6IG51bWJlcjtcclxuICBmaWxsUGVyY2VudGFnZTogbnVtYmVyO1xyXG59IHtcclxuICBpZiAoIWJsb2NrIHx8ICFibG9jay5ibG9ja19zdGFydF9sb2NhbCB8fCB0YXJnZXRLd2ggPD0gMCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcHJvamVjdGVkVG90YWw6IDAsXHJcbiAgICAgIHN0YXR1czogXCJTQUZFXCIsXHJcbiAgICAgIGNvbG9yOiBcImJnLWVtZXJhbGQtNTAwXCIsXHJcbiAgICAgIGVsYXBzZWRNaW51dGVzOiAwLFxyXG4gICAgICBjdXJyZW50QWNjdW11bGF0ZWQ6IDAsXHJcbiAgICAgIGZpbGxQZXJjZW50YWdlOiAwXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgY29uc3QgYmxvY2tTdGFydCA9IG5ldyBEYXRlKGJsb2NrLmJsb2NrX3N0YXJ0X2xvY2FsKTtcclxuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gIGNvbnN0IGVsYXBzZWRNcyA9IE1hdGgubWF4KDAsIG5vdy5nZXRUaW1lKCkgLSBibG9ja1N0YXJ0LmdldFRpbWUoKSk7XHJcbiAgY29uc3QgZWxhcHNlZE1pbnV0ZXMgPSBlbGFwc2VkTXMgLyAoMTAwMCAqIDYwKTtcclxuICBcclxuICAvLyBFbnN1cmUgZWxhcHNlZCB0aW1lIGRvZXNuJ3QgZXhjZWVkIDMwIG1pbnV0ZXMgKGJsb2NrIGR1cmF0aW9uKVxyXG4gIGNvbnN0IGNhcHBlZEVsYXBzZWRNaW51dGVzID0gTWF0aC5taW4oMzAsIGVsYXBzZWRNaW51dGVzKTtcclxuICBjb25zdCBjdXJyZW50QWNjdW11bGF0ZWQgPSBibG9jay5hY2N1bXVsYXRlZF9rd2ggPz8gMDtcclxuXHJcbiAgLy8gQ2FsY3VsYXRlIGZpbGwgcGVyY2VudGFnZSAoY3VycmVudCAvIHRhcmdldClcclxuICBjb25zdCBmaWxsUGVyY2VudGFnZSA9IE1hdGgubWluKDEwMCwgKGN1cnJlbnRBY2N1bXVsYXRlZCAvIHRhcmdldEt3aCkgKiAxMDApO1xyXG5cclxuICAvLyBJZiBsZXNzIHRoYW4gMSBtaW51dGUgaGFzIGVsYXBzZWQgb3Igbm8gZGF0YSwgdXNlIGN1cnJlbnQgYWNjdW11bGF0ZWQgYXMgcHJvamVjdGlvblxyXG4gIGlmIChjYXBwZWRFbGFwc2VkTWludXRlcyA8IDEgfHwgY3VycmVudEFjY3VtdWxhdGVkID09PSAwKSB7XHJcbiAgICBjb25zdCBjdXJyZW50UGVyY2VudCA9IGZpbGxQZXJjZW50YWdlO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcHJvamVjdGVkVG90YWw6IGN1cnJlbnRBY2N1bXVsYXRlZCxcclxuICAgICAgc3RhdHVzOiBjdXJyZW50UGVyY2VudCA8IDgwID8gXCJTQUZFXCIgOiBjdXJyZW50UGVyY2VudCA8IDEwMCA/IFwiVkVSWSBDTE9TRVwiIDogXCJPVkVSXCIsXHJcbiAgICAgIGNvbG9yOiBjdXJyZW50UGVyY2VudCA8IDgwID8gXCJiZy1lbWVyYWxkLTUwMFwiIDogY3VycmVudFBlcmNlbnQgPCAxMDAgPyBcImJnLWFtYmVyLTUwMFwiIDogXCJiZy1yZWQtNTAwXCIsXHJcbiAgICAgIGVsYXBzZWRNaW51dGVzOiBjYXBwZWRFbGFwc2VkTWludXRlcyxcclxuICAgICAgY3VycmVudEFjY3VtdWxhdGVkLFxyXG4gICAgICBmaWxsUGVyY2VudGFnZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIENhbGN1bGF0ZSBhdmVyYWdlIHVzYWdlIHBlciBtaW51dGVcclxuICAvLyBGSVhFRDogVXNlIGFjY3VtdWxhdGVkX2t3aCAoY3VtdWxhdGl2ZSB0b3RhbCkgZGl2aWRlZCBieSBlbGFwc2VkIG1pbnV0ZXNcclxuICAvLyBFeGFtcGxlOiBJZiA0MDAga1doIGFjY3VtdWxhdGVkIGluIDEwIG1pbnV0ZXMsIGF2ZyA9IDQwIGtXaC9taW4sIHByb2plY3Rpb24gPSA0MCAqIDMwID0gMTIwMCBrV2hcclxuICBjb25zdCBhdmVyYWdlUGVyTWludXRlID0gY3VycmVudEFjY3VtdWxhdGVkIC8gY2FwcGVkRWxhcHNlZE1pbnV0ZXM7XHJcbiAgXHJcbiAgLy8gUHJvamVjdCB0byBmdWxsIDMwIG1pbnV0ZXM6IGF2ZXJhZ2UgcGVyIG1pbnV0ZSAqIDMwIG1pbnV0ZXNcclxuICBjb25zdCBwcm9qZWN0ZWRUb3RhbCA9IGF2ZXJhZ2VQZXJNaW51dGUgKiAzMDtcclxuICBcclxuICAvLyBDYWxjdWxhdGUgcGVyY2VudGFnZSBvZiB0YXJnZXRcclxuICBjb25zdCBwZXJjZW50T2ZUYXJnZXQgPSAocHJvamVjdGVkVG90YWwgLyB0YXJnZXRLd2gpICogMTAwO1xyXG5cclxuICAvLyBEZXRlcm1pbmUgc3RhdHVzIGFuZCBjb2xvclxyXG4gIGxldCBzdGF0dXM6IFwiU0FGRVwiIHwgXCJWRVJZIENMT1NFXCIgfCBcIk9WRVJcIjtcclxuICBsZXQgY29sb3I6IHN0cmluZztcclxuXHJcbiAgaWYgKHBlcmNlbnRPZlRhcmdldCA8IDgwKSB7XHJcbiAgICBzdGF0dXMgPSBcIlNBRkVcIjtcclxuICAgIGNvbG9yID0gXCJiZy1lbWVyYWxkLTUwMFwiO1xyXG4gIH0gZWxzZSBpZiAocGVyY2VudE9mVGFyZ2V0IDwgMTAwKSB7XHJcbiAgICBzdGF0dXMgPSBcIlZFUlkgQ0xPU0VcIjtcclxuICAgIGNvbG9yID0gXCJiZy1hbWJlci01MDBcIjtcclxuICB9IGVsc2Uge1xyXG4gICAgc3RhdHVzID0gXCJPVkVSXCI7XHJcbiAgICBjb2xvciA9IFwiYmctcmVkLTUwMFwiO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHByb2plY3RlZFRvdGFsLFxyXG4gICAgc3RhdHVzLFxyXG4gICAgY29sb3IsXHJcbiAgICBlbGFwc2VkTWludXRlczogY2FwcGVkRWxhcHNlZE1pbnV0ZXMsXHJcbiAgICBjdXJyZW50QWNjdW11bGF0ZWQsXHJcbiAgICBmaWxsUGVyY2VudGFnZVxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBMaXZlU3RhdHVzKHsgY29ubmVjdGVkLCByZWNvbm5lY3RpbmcsIGxhc3RSZWFkaW5nVHMsIGJsb2NrLCB0YXJnZXRLd2gsIHRhcmdldFBlYWtLd2ggfTogTGl2ZVN0YXR1c1Byb3BzKSB7XHJcbiAgY29uc3QgW2N1cnJlbnRUaW1lLCBzZXRDdXJyZW50VGltZV0gPSB1c2VTdGF0ZShuZXcgRGF0ZSgpKTtcclxuXHJcbiAgLy8gVXBkYXRlIHRpbWUgZXZlcnkgc2Vjb25kIGZvciBzbW9vdGggYnVja2V0IGFuaW1hdGlvblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgc2V0Q3VycmVudFRpbWUobmV3IERhdGUoKSk7XHJcbiAgICB9LCAxMDAwKTtcclxuICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGludGVydmFsKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGxldCBpbmRpY2F0b3JDbGFzcyA9IFwiYmctc2xhdGUtNTAwXCI7XHJcbiAgbGV0IHN0YXR1c1RleHQgPSBcIkRpc2Nvbm5lY3RlZFwiO1xyXG5cclxuICBpZiAoY29ubmVjdGVkKSB7XHJcbiAgICBpbmRpY2F0b3JDbGFzcyA9IFwiYmctZW1lcmFsZC00MDAgYW5pbWF0ZS1wdWxzZVwiO1xyXG4gICAgc3RhdHVzVGV4dCA9IFwiQ29ubmVjdGVkXCI7XHJcbiAgfSBlbHNlIGlmIChyZWNvbm5lY3RpbmcpIHtcclxuICAgIGluZGljYXRvckNsYXNzID0gXCJiZy1hbWJlci00MDAgYW5pbWF0ZS1wdWxzZVwiO1xyXG4gICAgc3RhdHVzVGV4dCA9IFwiUmVjb25uZWN0aW5nXCI7XHJcbiAgfVxyXG5cclxuICBjb25zdCBmb3JtYXR0ZWQgPSBsYXN0UmVhZGluZ1RzID8gdGltZUZvcm1hdHRlci5mb3JtYXQobmV3IERhdGUobGFzdFJlYWRpbmdUcykpIDogXCLigJRcIjtcclxuXHJcbiAgLy8gQ2FsY3VsYXRlIHByb2plY3Rpb25cclxuICAvLyBVc2UgdGFyZ2V0UGVha0t3aCBpZiBwcm92aWRlZCAobm9uLWFjY3VtdWxhdGUgbW9kZSksIG90aGVyd2lzZSB1c2UgdGFyZ2V0S3doIChhY2N1bXVsYXRlIG1vZGUpXHJcbiAgY29uc3QgZWZmZWN0aXZlVGFyZ2V0ID0gdGFyZ2V0UGVha0t3aCA/PyB0YXJnZXRLd2ggPz8gYmxvY2s/LnRhcmdldF9rd2ggPz8gMDtcclxuICBjb25zdCBwcm9qZWN0aW9uID0gY2FsY3VsYXRlUHJvamVjdGlvbihibG9jaywgZWZmZWN0aXZlVGFyZ2V0KTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci1zbGF0ZS04MDAgYmctc2xhdGUtOTAwLzYwIHAtNlwiPlxyXG4gICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtd2hpdGVcIj5MaXZlIHN0YXR1czwvaDI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YGgtMyB3LTMgcm91bmRlZC1mdWxsICR7aW5kaWNhdG9yQ2xhc3N9YH0gYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cclxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtMjAwXCI+e3N0YXR1c1RleHR9PC9zcGFuPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRsIGNsYXNzTmFtZT1cIm10LTQgc3BhY2UteS0yIHRleHQteHMgdGV4dC1zbGF0ZS00MDBcIj5cclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgPGR0IGNsYXNzTmFtZT1cInVwcGVyY2FzZSB0cmFja2luZy1bMC4yZW1dIHRleHQtc2xhdGUtNTAwXCI+TGFzdCByZWFkaW5nPC9kdD5cclxuICAgICAgICAgIDxkZCBjbGFzc05hbWU9XCJtdC0xIHRleHQtc20gdGV4dC1zbGF0ZS0yMDBcIj57Zm9ybWF0dGVkfTwvZGQ+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGw+XHJcblxyXG4gICAgICB7LyogQnVja2V0IFZpc3VhbGl6YXRpb24gKi99XHJcbiAgICAgIHtibG9jayAmJiBlZmZlY3RpdmVUYXJnZXQgPiAwICYmIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTYgc3BhY2UteS00XCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdXBwZXJjYXNlIHRyYWNraW5nLVswLjJlbV0gdGV4dC1zbGF0ZS01MDAgbWItM1wiPlVzYWdlIEJ1Y2tldDwvZGl2PlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB7LyogQnVja2V0IENvbnRhaW5lciAqL31cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cclxuICAgICAgICAgICAgey8qIEJ1Y2tldCBvdXRsaW5lICovfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGgtNDggdy1mdWxsIHJvdW5kZWQtYi1sZyBib3JkZXItNCBib3JkZXItc2xhdGUtNjAwIGJnLXNsYXRlLTgwMC81MCBvdmVyZmxvdy1oaWRkZW5cIj5cclxuICAgICAgICAgICAgICB7LyogV2F0ZXIgZmlsbCAqL31cclxuICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMCBsZWZ0LTAgcmlnaHQtMCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi01MDAgZWFzZS1vdXRcIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBgJHtNYXRoLm1pbigxMDAsIHByb2plY3Rpb24uZmlsbFBlcmNlbnRhZ2UpfSVgLFxyXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHByb2plY3Rpb24uZmlsbFBlcmNlbnRhZ2UgPCA4MCBcclxuICAgICAgICAgICAgICAgICAgICA/IFwiIzIyYzU1ZVwiIC8vIGdyZWVuXHJcbiAgICAgICAgICAgICAgICAgICAgOiBwcm9qZWN0aW9uLmZpbGxQZXJjZW50YWdlIDwgMTAwIFxyXG4gICAgICAgICAgICAgICAgICAgID8gXCIjZjU5ZTBiXCIgLy8gYW1iZXJcclxuICAgICAgICAgICAgICAgICAgICA6IFwiI2VmNDQ0NFwiIC8vIHJlZFxyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7LyogV2F0ZXIgYW5pbWF0aW9uIGVmZmVjdCAqL31cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBvcGFjaXR5LTIwIGJnLWdyYWRpZW50LXRvLXQgZnJvbS10cmFuc3BhcmVudCB2aWEtd2hpdGUgdG8tdHJhbnNwYXJlbnQgYW5pbWF0ZS1wdWxzZVwiIC8+XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHsvKiBGaWxsIGxldmVsIGluZGljYXRvciBsaW5lICovfVxyXG4gICAgICAgICAgICAgICAge3Byb2plY3Rpb24uZmlsbFBlcmNlbnRhZ2UgPiAwICYmIChcclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMCBsZWZ0LTAgcmlnaHQtMCBoLTAuNSBiZy13aGl0ZS81MFwiIC8+XHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICB7LyogVGFyZ2V0IGxpbmUgKDgwJSkgKi99XHJcbiAgICAgICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtMCByaWdodC0wIGJvcmRlci10LTIgYm9yZGVyLWRhc2hlZCBib3JkZXItYW1iZXItNDAwIG9wYWNpdHktNjBcIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgYm90dG9tOiAnMjAlJyB9fVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFic29sdXRlIC1sZWZ0LTEyIC10b3AtMiB0ZXh0LXhzIHRleHQtYW1iZXItNDAwXCI+ODAlPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICB7LyogVGFyZ2V0IGxpbmUgKDEwMCUpICovfVxyXG4gICAgICAgICAgICAgIDxkaXYgXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTAgcmlnaHQtMCBib3JkZXItdC0yIGJvcmRlci1kYXNoZWQgYm9yZGVyLXJlZC00MDAgb3BhY2l0eS02MFwiXHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBib3R0b206ICcwJScgfX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhYnNvbHV0ZSAtbGVmdC0xMiAtdG9wLTIgdGV4dC14cyB0ZXh0LXJlZC00MDBcIj4xMDAlPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICB7LyogQ3VycmVudCBsZXZlbCB0ZXh0IG92ZXJsYXkgKi99XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHBvaW50ZXItZXZlbnRzLW5vbmVcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC13aGl0ZSBkcm9wLXNoYWRvdy1sZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtwcm9qZWN0aW9uLmN1cnJlbnRBY2N1bXVsYXRlZC50b0ZpeGVkKDIpfSBrV2hcclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXNsYXRlLTMwMCBtdC0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAge3Byb2plY3Rpb24uZmlsbFBlcmNlbnRhZ2UudG9GaXhlZCgxKX0lIGZpbGxlZFxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIHsvKiBCdWNrZXQgaGFuZGxlICovfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIC10b3AtMiAtbGVmdC0zIHctOCBoLTQgYm9yZGVyLTIgYm9yZGVyLXNsYXRlLTYwMCByb3VuZGVkLXQtZnVsbFwiIC8+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgLXRvcC0yIC1yaWdodC0zIHctOCBoLTQgYm9yZGVyLTIgYm9yZGVyLXNsYXRlLTYwMCByb3VuZGVkLXQtZnVsbFwiIC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICB7LyogQnVja2V0IGluZm8gKi99XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTIgdGV4dC14c1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIGJvcmRlci1zbGF0ZS03MDAgYmctc2xhdGUtODAwLzUwIHAtMlwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS00MDBcIj5UYXJnZXQ8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtd2hpdGUgZm9udC1zZW1pYm9sZFwiPntlZmZlY3RpdmVUYXJnZXQudG9GaXhlZCgyKX0ga1doPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyIGJvcmRlci1zbGF0ZS03MDAgYmctc2xhdGUtODAwLzUwIHAtMlwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS00MDBcIj5DdXJyZW50PC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGRcIj57cHJvamVjdGlvbi5jdXJyZW50QWNjdW11bGF0ZWQudG9GaXhlZCgyKX0ga1doPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgey8qIFByb2plY3Rpb24gU3RhdHVzIExFRCBCb3ggKi99XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7cHJvamVjdGlvbi5jb2xvcn0gcm91bmRlZC1sZyBwLTQgdGV4dC1jZW50ZXIgc2hhZG93LWxnYH0+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtd2hpdGVcIj57cHJvamVjdGlvbi5zdGF0dXN9PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXhzIHRleHQtd2hpdGUvOTBcIj5cclxuICAgICAgICAgICAgICBQcm9qZWN0ZWQ6IHtwcm9qZWN0aW9uLnByb2plY3RlZFRvdGFsLnRvRml4ZWQoMil9IGtXaFxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xIHRleHQteHMgdGV4dC13aGl0ZS84MFwiPlxyXG4gICAgICAgICAgICAgICh7KChwcm9qZWN0aW9uLnByb2plY3RlZFRvdGFsIC8gZWZmZWN0aXZlVGFyZ2V0KSAqIDEwMCkudG9GaXhlZCgxKX0lIG9mIHRhcmdldClcclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIHtwcm9qZWN0aW9uLmVsYXBzZWRNaW51dGVzID4gMCAmJiAoXHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xIHRleHQteHMgdGV4dC13aGl0ZS83MFwiPlxyXG4gICAgICAgICAgICAgICAgQmFzZWQgb24ge3Byb2plY3Rpb24uZWxhcHNlZE1pbnV0ZXMudG9GaXhlZCgxKX0gbWluIGF2Z1xyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsIlRJTUVaT05FIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1RJTUVaT05FX0xBQkVMIiwidGltZUZvcm1hdHRlciIsIkludGwiLCJEYXRlVGltZUZvcm1hdCIsInVuZGVmaW5lZCIsImhvdXIiLCJtaW51dGUiLCJzZWNvbmQiLCJ0aW1lWm9uZSIsImNhbGN1bGF0ZVByb2plY3Rpb24iLCJibG9jayIsInRhcmdldEt3aCIsImJsb2NrX3N0YXJ0X2xvY2FsIiwicHJvamVjdGVkVG90YWwiLCJzdGF0dXMiLCJjb2xvciIsImVsYXBzZWRNaW51dGVzIiwiY3VycmVudEFjY3VtdWxhdGVkIiwiZmlsbFBlcmNlbnRhZ2UiLCJibG9ja1N0YXJ0IiwiRGF0ZSIsIm5vdyIsImVsYXBzZWRNcyIsIk1hdGgiLCJtYXgiLCJnZXRUaW1lIiwiY2FwcGVkRWxhcHNlZE1pbnV0ZXMiLCJtaW4iLCJhY2N1bXVsYXRlZF9rd2giLCJjdXJyZW50UGVyY2VudCIsImF2ZXJhZ2VQZXJNaW51dGUiLCJwZXJjZW50T2ZUYXJnZXQiLCJMaXZlU3RhdHVzIiwiY29ubmVjdGVkIiwicmVjb25uZWN0aW5nIiwibGFzdFJlYWRpbmdUcyIsInRhcmdldFBlYWtLd2giLCJjdXJyZW50VGltZSIsInNldEN1cnJlbnRUaW1lIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJpbmRpY2F0b3JDbGFzcyIsInN0YXR1c1RleHQiLCJmb3JtYXR0ZWQiLCJmb3JtYXQiLCJlZmZlY3RpdmVUYXJnZXQiLCJ0YXJnZXRfa3doIiwicHJvamVjdGlvbiIsImRpdiIsImNsYXNzTmFtZSIsImgyIiwic3BhbiIsImFyaWEtaGlkZGVuIiwiZGwiLCJkdCIsImRkIiwic3R5bGUiLCJoZWlnaHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3R0b20iLCJ0b0ZpeGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/dashboard/live-status.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/ui/toast-provider.tsx":
/*!**********************************************!*\
  !*** ./src/components/ui/toast-provider.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ToastProvider: () => (/* binding */ ToastProvider),\n/* harmony export */   useToast: () => (/* binding */ useToast)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! clsx */ \"(ssr)/./node_modules/clsx/dist/clsx.mjs\");\n/* __next_internal_client_entry_do_not_use__ ToastProvider,useToast auto */ \n\n\nconst ToastContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction ToastProvider({ children }) {\n    const [toasts, setToasts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const push = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((toast)=>{\n        const id = `${Date.now()}-${Math.random().toString(36).slice(2, 8)}`;\n        setToasts((prev)=>[\n                ...prev,\n                {\n                    ...toast,\n                    id\n                }\n            ]);\n        return id;\n    }, []);\n    const dismiss = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id)=>{\n        setToasts((prev)=>prev.filter((toast)=>toast.id !== id));\n    }, []);\n    const clear = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>setToasts([]), []);\n    const value = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>({\n            toasts,\n            push,\n            dismiss,\n            clear\n        }), [\n        toasts,\n        push,\n        dismiss,\n        clear\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ToastContext.Provider, {\n        value: value,\n        children: [\n            children,\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ToastViewport, {\n                toasts: toasts,\n                onDismiss: dismiss\n            }, void 0, false, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\ui\\\\toast-provider.tsx\",\n                lineNumber: 51,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\ui\\\\toast-provider.tsx\",\n        lineNumber: 49,\n        columnNumber: 5\n    }, this);\n}\nfunction useToast() {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ToastContext);\n    if (!context) {\n        throw new Error(\"useToast must be used within a ToastProvider\");\n    }\n    return context;\n}\nfunction ToastViewport({ toasts, onDismiss }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"pointer-events-none fixed inset-x-0 top-20 z-40 flex flex-col items-end gap-3 px-4 sm:items-end sm:px-6\",\n        children: toasts.map((toast)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ToastItem, {\n                toast: toast,\n                onDismiss: onDismiss\n            }, toast.id, false, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\ui\\\\toast-provider.tsx\",\n                lineNumber: 73,\n                columnNumber: 9\n            }, this))\n    }, void 0, false, {\n        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\ui\\\\toast-provider.tsx\",\n        lineNumber: 71,\n        columnNumber: 5\n    }, this);\n}\nfunction ToastItem({ toast, onDismiss }) {\n    const variant = toast.variant ?? \"default\";\n    const bgClass = variant === \"success\" ? \"bg-emerald-500/90 text-white\" : variant === \"error\" ? \"bg-red-500/90 text-white\" : variant === \"warning\" ? \"bg-amber-500/90 text-black\" : \"bg-slate-800/90 text-white\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"pointer-events-auto w-full max-w-sm rounded-lg px-4 py-3 shadow-lg ring-1 ring-black/20 backdrop-blur\", bgClass),\n        role: \"status\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-start gap-3\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-1 space-y-1\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-sm font-semibold leading-tight\",\n                            children: toast.title\n                        }, void 0, false, {\n                            fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\ui\\\\toast-provider.tsx\",\n                            lineNumber: 105,\n                            columnNumber: 11\n                        }, this),\n                        toast.description ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-xs leading-tight\",\n                            children: toast.description\n                        }, void 0, false, {\n                            fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\ui\\\\toast-provider.tsx\",\n                            lineNumber: 106,\n                            columnNumber: 32\n                        }, this) : null,\n                        toast.action ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            type: \"button\",\n                            onClick: ()=>{\n                                toast.action?.onClick();\n                                onDismiss(toast.id);\n                            },\n                            className: \"mt-2 inline-flex rounded-md border border-white/30 px-2 py-1 text-xs font-semibold text-white transition hover:border-white hover:bg-white/10\",\n                            children: toast.action.label\n                        }, void 0, false, {\n                            fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\ui\\\\toast-provider.tsx\",\n                            lineNumber: 108,\n                            columnNumber: 13\n                        }, this) : null\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\ui\\\\toast-provider.tsx\",\n                    lineNumber: 104,\n                    columnNumber: 9\n                }, this),\n                (toast.dismissible ?? true) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    type: \"button\",\n                    onClick: ()=>onDismiss(toast.id),\n                    className: \"-m-1 rounded-md p-1 text-xs opacity-70 transition hover:opacity-100\",\n                    \"aria-label\": \"Dismiss notification\",\n                    children: \"âœ•\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\ui\\\\toast-provider.tsx\",\n                    lineNumber: 121,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\ui\\\\toast-provider.tsx\",\n            lineNumber: 103,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"E:\\\\EEMS-Front\\\\src\\\\components\\\\ui\\\\toast-provider.tsx\",\n        lineNumber: 96,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy91aS90b2FzdC1wcm92aWRlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFa0Y7QUFDMUQ7QUF5QnhCLE1BQU1NLDZCQUFlTixvREFBYUEsQ0FBZ0NPO0FBRTNELFNBQVNDLGNBQWMsRUFBRUMsUUFBUSxFQUFpQztJQUN2RSxNQUFNLENBQUNDLFFBQVFDLFVBQVUsR0FBR1AsK0NBQVFBLENBQVUsRUFBRTtJQUVoRCxNQUFNUSxPQUFPWCxrREFBV0EsQ0FBQyxDQUFDWTtRQUN4QixNQUFNQyxLQUFLLENBQUMsRUFBRUMsS0FBS0MsR0FBRyxHQUFHLENBQUMsRUFBRUMsS0FBS0MsTUFBTSxHQUFHQyxRQUFRLENBQUMsSUFBSUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDO1FBQ3BFVCxVQUFVLENBQUNVLE9BQVM7bUJBQUlBO2dCQUFNO29CQUFFLEdBQUdSLEtBQUs7b0JBQUVDO2dCQUFHO2FBQUU7UUFDL0MsT0FBT0E7SUFDVCxHQUFHLEVBQUU7SUFFTCxNQUFNUSxVQUFVckIsa0RBQVdBLENBQUMsQ0FBQ2E7UUFDM0JILFVBQVUsQ0FBQ1UsT0FBU0EsS0FBS0UsTUFBTSxDQUFDLENBQUNWLFFBQVVBLE1BQU1DLEVBQUUsS0FBS0E7SUFDMUQsR0FBRyxFQUFFO0lBRUwsTUFBTVUsUUFBUXZCLGtEQUFXQSxDQUFDLElBQU1VLFVBQVUsRUFBRSxHQUFHLEVBQUU7SUFFakQsTUFBTWMsUUFBUXRCLDhDQUFPQSxDQUFvQixJQUFPO1lBQUVPO1lBQVFFO1lBQU1VO1lBQVNFO1FBQU0sSUFBSTtRQUFDZDtRQUFRRTtRQUFNVTtRQUFTRTtLQUFNO0lBRWpILHFCQUNFLDhEQUFDbEIsYUFBYW9CLFFBQVE7UUFBQ0QsT0FBT0E7O1lBQzNCaEI7MEJBQ0QsOERBQUNrQjtnQkFBY2pCLFFBQVFBO2dCQUFRa0IsV0FBV047Ozs7Ozs7Ozs7OztBQUdoRDtBQUVPLFNBQVNPO0lBQ2QsTUFBTUMsVUFBVTVCLGlEQUFVQSxDQUFDSTtJQUMzQixJQUFJLENBQUN3QixTQUFTO1FBQ1osTUFBTSxJQUFJQyxNQUFNO0lBQ2xCO0lBQ0EsT0FBT0Q7QUFDVDtBQU9BLFNBQVNILGNBQWMsRUFBRWpCLE1BQU0sRUFBRWtCLFNBQVMsRUFBc0I7SUFDOUQscUJBQ0UsOERBQUNJO1FBQUlDLFdBQVU7a0JBQ1p2QixPQUFPd0IsR0FBRyxDQUFDLENBQUNyQixzQkFDWCw4REFBQ3NCO2dCQUF5QnRCLE9BQU9BO2dCQUFPZSxXQUFXQTtlQUFuQ2YsTUFBTUMsRUFBRTs7Ozs7Ozs7OztBQUloQztBQU9BLFNBQVNxQixVQUFVLEVBQUV0QixLQUFLLEVBQUVlLFNBQVMsRUFBa0I7SUFDckQsTUFBTVEsVUFBVXZCLE1BQU11QixPQUFPLElBQUk7SUFDakMsTUFBTUMsVUFDSkQsWUFBWSxZQUNSLGlDQUNBQSxZQUFZLFVBQ1YsNkJBQ0FBLFlBQVksWUFDViwrQkFDQTtJQUVWLHFCQUNFLDhEQUFDSjtRQUNDQyxXQUFXNUIsZ0RBQUlBLENBQ2IseUdBQ0FnQztRQUVGQyxNQUFLO2tCQUVMLDRFQUFDTjtZQUFJQyxXQUFVOzs4QkFDYiw4REFBQ0Q7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDTTs0QkFBRU4sV0FBVTtzQ0FBdUNwQixNQUFNMkIsS0FBSzs7Ozs7O3dCQUM5RDNCLE1BQU00QixXQUFXLGlCQUFHLDhEQUFDRjs0QkFBRU4sV0FBVTtzQ0FBeUJwQixNQUFNNEIsV0FBVzs7Ozs7bUNBQVE7d0JBQ25GNUIsTUFBTTZCLE1BQU0saUJBQ1gsOERBQUNDOzRCQUNDQyxNQUFLOzRCQUNMQyxTQUFTO2dDQUNQaEMsTUFBTTZCLE1BQU0sRUFBRUc7Z0NBQ2RqQixVQUFVZixNQUFNQyxFQUFFOzRCQUNwQjs0QkFDQW1CLFdBQVU7c0NBRVRwQixNQUFNNkIsTUFBTSxDQUFDSSxLQUFLOzs7OzttQ0FFbkI7Ozs7Ozs7Z0JBRUpqQyxDQUFBQSxNQUFNa0MsV0FBVyxJQUFJLElBQUcsbUJBQ3hCLDhEQUFDSjtvQkFDQ0MsTUFBSztvQkFDTEMsU0FBUyxJQUFNakIsVUFBVWYsTUFBTUMsRUFBRTtvQkFDakNtQixXQUFVO29CQUNWZSxjQUFXOzhCQUNaOzs7Ozs7Ozs7Ozs7Ozs7OztBQU9YIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXRlcm5hbGd5LWVtcy1mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL3VpL3RvYXN0LXByb3ZpZGVyLnRzeD85ZDBmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5cclxuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ2FsbGJhY2ssIHVzZUNvbnRleHQsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCBjbHN4IGZyb20gXCJjbHN4XCI7XHJcblxyXG50eXBlIFRvYXN0VmFyaWFudCA9IFwiZGVmYXVsdFwiIHwgXCJzdWNjZXNzXCIgfCBcImVycm9yXCIgfCBcIndhcm5pbmdcIjtcclxuXHJcbnR5cGUgVG9hc3RBY3Rpb24gPSB7XHJcbiAgbGFiZWw6IHN0cmluZztcclxuICBvbkNsaWNrOiAoKSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPjtcclxufTtcclxuXHJcbnR5cGUgVG9hc3QgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xyXG4gIHZhcmlhbnQ/OiBUb2FzdFZhcmlhbnQ7XHJcbiAgYWN0aW9uPzogVG9hc3RBY3Rpb247XHJcbiAgZGlzbWlzc2libGU/OiBib29sZWFuO1xyXG59O1xyXG5cclxudHlwZSBUb2FzdENvbnRleHRWYWx1ZSA9IHtcclxuICB0b2FzdHM6IFRvYXN0W107XHJcbiAgcHVzaDogKHRvYXN0OiBPbWl0PFRvYXN0LCBcImlkXCI+KSA9PiBzdHJpbmc7XHJcbiAgZGlzbWlzczogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgY2xlYXI6ICgpID0+IHZvaWQ7XHJcbn07XHJcblxyXG5jb25zdCBUb2FzdENvbnRleHQgPSBjcmVhdGVDb250ZXh0PFRvYXN0Q29udGV4dFZhbHVlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFRvYXN0UHJvdmlkZXIoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfSkge1xyXG4gIGNvbnN0IFt0b2FzdHMsIHNldFRvYXN0c10gPSB1c2VTdGF0ZTxUb2FzdFtdPihbXSk7XHJcblxyXG4gIGNvbnN0IHB1c2ggPSB1c2VDYWxsYmFjaygodG9hc3Q6IE9taXQ8VG9hc3QsIFwiaWRcIj4pID0+IHtcclxuICAgIGNvbnN0IGlkID0gYCR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyLCA4KX1gO1xyXG4gICAgc2V0VG9hc3RzKChwcmV2KSA9PiBbLi4ucHJldiwgeyAuLi50b2FzdCwgaWQgfV0pO1xyXG4gICAgcmV0dXJuIGlkO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgZGlzbWlzcyA9IHVzZUNhbGxiYWNrKChpZDogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXRUb2FzdHMoKHByZXYpID0+IHByZXYuZmlsdGVyKCh0b2FzdCkgPT4gdG9hc3QuaWQgIT09IGlkKSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBjbGVhciA9IHVzZUNhbGxiYWNrKCgpID0+IHNldFRvYXN0cyhbXSksIFtdKTtcclxuXHJcbiAgY29uc3QgdmFsdWUgPSB1c2VNZW1vPFRvYXN0Q29udGV4dFZhbHVlPigoKSA9PiAoeyB0b2FzdHMsIHB1c2gsIGRpc21pc3MsIGNsZWFyIH0pLCBbdG9hc3RzLCBwdXNoLCBkaXNtaXNzLCBjbGVhcl0pO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPFRvYXN0Q29udGV4dC5Qcm92aWRlciB2YWx1ZT17dmFsdWV9PlxyXG4gICAgICB7Y2hpbGRyZW59XHJcbiAgICAgIDxUb2FzdFZpZXdwb3J0IHRvYXN0cz17dG9hc3RzfSBvbkRpc21pc3M9e2Rpc21pc3N9IC8+XHJcbiAgICA8L1RvYXN0Q29udGV4dC5Qcm92aWRlcj5cclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXNlVG9hc3QoKSB7XHJcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoVG9hc3RDb250ZXh0KTtcclxuICBpZiAoIWNvbnRleHQpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcInVzZVRvYXN0IG11c3QgYmUgdXNlZCB3aXRoaW4gYSBUb2FzdFByb3ZpZGVyXCIpO1xyXG4gIH1cclxuICByZXR1cm4gY29udGV4dDtcclxufVxyXG5cclxudHlwZSBUb2FzdFZpZXdwb3J0UHJvcHMgPSB7XHJcbiAgdG9hc3RzOiBUb2FzdFtdO1xyXG4gIG9uRGlzbWlzczogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBUb2FzdFZpZXdwb3J0KHsgdG9hc3RzLCBvbkRpc21pc3MgfTogVG9hc3RWaWV3cG9ydFByb3BzKSB7XHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9pbnRlci1ldmVudHMtbm9uZSBmaXhlZCBpbnNldC14LTAgdG9wLTIwIHotNDAgZmxleCBmbGV4LWNvbCBpdGVtcy1lbmQgZ2FwLTMgcHgtNCBzbTppdGVtcy1lbmQgc206cHgtNlwiPlxyXG4gICAgICB7dG9hc3RzLm1hcCgodG9hc3QpID0+IChcclxuICAgICAgICA8VG9hc3RJdGVtIGtleT17dG9hc3QuaWR9IHRvYXN0PXt0b2FzdH0gb25EaXNtaXNzPXtvbkRpc21pc3N9IC8+XHJcbiAgICAgICkpfVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxudHlwZSBUb2FzdEl0ZW1Qcm9wcyA9IHtcclxuICB0b2FzdDogVG9hc3Q7XHJcbiAgb25EaXNtaXNzOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcclxufTtcclxuXHJcbmZ1bmN0aW9uIFRvYXN0SXRlbSh7IHRvYXN0LCBvbkRpc21pc3MgfTogVG9hc3RJdGVtUHJvcHMpIHtcclxuICBjb25zdCB2YXJpYW50ID0gdG9hc3QudmFyaWFudCA/PyBcImRlZmF1bHRcIjtcclxuICBjb25zdCBiZ0NsYXNzID1cclxuICAgIHZhcmlhbnQgPT09IFwic3VjY2Vzc1wiXHJcbiAgICAgID8gXCJiZy1lbWVyYWxkLTUwMC85MCB0ZXh0LXdoaXRlXCJcclxuICAgICAgOiB2YXJpYW50ID09PSBcImVycm9yXCJcclxuICAgICAgICA/IFwiYmctcmVkLTUwMC85MCB0ZXh0LXdoaXRlXCJcclxuICAgICAgICA6IHZhcmlhbnQgPT09IFwid2FybmluZ1wiXHJcbiAgICAgICAgICA/IFwiYmctYW1iZXItNTAwLzkwIHRleHQtYmxhY2tcIlxyXG4gICAgICAgICAgOiBcImJnLXNsYXRlLTgwMC85MCB0ZXh0LXdoaXRlXCI7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2XHJcbiAgICAgIGNsYXNzTmFtZT17Y2xzeChcclxuICAgICAgICBcInBvaW50ZXItZXZlbnRzLWF1dG8gdy1mdWxsIG1heC13LXNtIHJvdW5kZWQtbGcgcHgtNCBweS0zIHNoYWRvdy1sZyByaW5nLTEgcmluZy1ibGFjay8yMCBiYWNrZHJvcC1ibHVyXCIsXHJcbiAgICAgICAgYmdDbGFzc1xyXG4gICAgICApfVxyXG4gICAgICByb2xlPVwic3RhdHVzXCJcclxuICAgID5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0zXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgc3BhY2UteS0xXCI+XHJcbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgbGVhZGluZy10aWdodFwiPnt0b2FzdC50aXRsZX08L3A+XHJcbiAgICAgICAgICB7dG9hc3QuZGVzY3JpcHRpb24gPyA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIGxlYWRpbmctdGlnaHRcIj57dG9hc3QuZGVzY3JpcHRpb259PC9wPiA6IG51bGx9XHJcbiAgICAgICAgICB7dG9hc3QuYWN0aW9uID8gKFxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdG9hc3QuYWN0aW9uPy5vbkNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICBvbkRpc21pc3ModG9hc3QuaWQpO1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMiBpbmxpbmUtZmxleCByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItd2hpdGUvMzAgcHgtMiBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlIHRyYW5zaXRpb24gaG92ZXI6Ym9yZGVyLXdoaXRlIGhvdmVyOmJnLXdoaXRlLzEwXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHt0b2FzdC5hY3Rpb24ubGFiZWx9XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgKSA6IG51bGx9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgeyh0b2FzdC5kaXNtaXNzaWJsZSA/PyB0cnVlKSAmJiAoXHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbkRpc21pc3ModG9hc3QuaWQpfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCItbS0xIHJvdW5kZWQtbWQgcC0xIHRleHQteHMgb3BhY2l0eS03MCB0cmFuc2l0aW9uIGhvdmVyOm9wYWNpdHktMTAwXCJcclxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkRpc21pc3Mgbm90aWZpY2F0aW9uXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAg4pyVXHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICApfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuIl0sIm5hbWVzIjpbImNyZWF0ZUNvbnRleHQiLCJ1c2VDYWxsYmFjayIsInVzZUNvbnRleHQiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJjbHN4IiwiVG9hc3RDb250ZXh0IiwidW5kZWZpbmVkIiwiVG9hc3RQcm92aWRlciIsImNoaWxkcmVuIiwidG9hc3RzIiwic2V0VG9hc3RzIiwicHVzaCIsInRvYXN0IiwiaWQiLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic2xpY2UiLCJwcmV2IiwiZGlzbWlzcyIsImZpbHRlciIsImNsZWFyIiwidmFsdWUiLCJQcm92aWRlciIsIlRvYXN0Vmlld3BvcnQiLCJvbkRpc21pc3MiLCJ1c2VUb2FzdCIsImNvbnRleHQiLCJFcnJvciIsImRpdiIsImNsYXNzTmFtZSIsIm1hcCIsIlRvYXN0SXRlbSIsInZhcmlhbnQiLCJiZ0NsYXNzIiwicm9sZSIsInAiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiYWN0aW9uIiwiYnV0dG9uIiwidHlwZSIsIm9uQ2xpY2siLCJsYWJlbCIsImRpc21pc3NpYmxlIiwiYXJpYS1sYWJlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/ui/toast-provider.tsx\n");

/***/ }),

/***/ "(ssr)/./src/lib/api-key.ts":
/*!****************************!*\
  !*** ./src/lib/api-key.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearApiKeyOverride: () => (/* binding */ clearApiKeyOverride),\n/* harmony export */   getApiKeyOverride: () => (/* binding */ getApiKeyOverride),\n/* harmony export */   getEffectiveApiKey: () => (/* binding */ getEffectiveApiKey),\n/* harmony export */   getEnvApiKey: () => (/* binding */ getEnvApiKey),\n/* harmony export */   getEnvApiKeyName: () => (/* binding */ getEnvApiKeyName),\n/* harmony export */   hasEffectiveApiKey: () => (/* binding */ hasEffectiveApiKey),\n/* harmony export */   hasEnvApiKey: () => (/* binding */ hasEnvApiKey),\n/* harmony export */   isOverridePersisted: () => (/* binding */ isOverridePersisted),\n/* harmony export */   setApiKeyOverride: () => (/* binding */ setApiKeyOverride)\n/* harmony export */ });\nconst STORAGE_KEY = \"eems.apiKeyOverride\";\nconst ENV_KEY_CANDIDATES = [\n    {\n        name: \"NEXT_PUBLIC_BACKEND_TOKEN\",\n        value: \"01121000099\"\n    },\n    {\n        name: \"NEXT_PUBLIC_BACKEND_WRITE_TOKEN\",\n        value: process.env.NEXT_PUBLIC_BACKEND_WRITE_TOKEN\n    },\n    {\n        name: \"NEXT_PUBLIC_BACKEND_KEY\",\n        value: process.env.NEXT_PUBLIC_BACKEND_KEY\n    },\n    {\n        name: \"NEXT_PUBLIC_BACKEND_API_KEY\",\n        value: process.env.NEXT_PUBLIC_BACKEND_API_KEY\n    }\n];\nlet overrideValue = null;\nlet hasLoadedPersisted = false;\nlet isPersisted = false;\nfunction loadPersistedOverride() {\n    if (hasLoadedPersisted) {\n        return;\n    }\n    hasLoadedPersisted = true;\n    if (true) {\n        return;\n    }\n    try {\n        const stored = window.localStorage.getItem(STORAGE_KEY);\n        if (stored) {\n            overrideValue = stored;\n            isPersisted = true;\n        }\n    } catch  {\n    // Ignore storage errors (private mode, etc.)\n    }\n}\nfunction resolveEnvApiKey() {\n    for (const candidate of ENV_KEY_CANDIDATES){\n        if (candidate.value) {\n            return {\n                name: candidate.name,\n                value: candidate.value\n            };\n        }\n    }\n    return null;\n}\nfunction getEnvApiKey() {\n    return resolveEnvApiKey()?.value ?? \"\";\n}\nfunction getEnvApiKeyName() {\n    return resolveEnvApiKey()?.name ?? null;\n}\nfunction getApiKeyOverride() {\n    if (false) {}\n    return overrideValue;\n}\nfunction isOverridePersisted() {\n    if (false) {}\n    return isPersisted && !!overrideValue;\n}\nfunction setApiKeyOverride(value, options) {\n    const trimmed = value.trim();\n    overrideValue = trimmed ? trimmed : null;\n    isPersisted = Boolean(options?.persist && overrideValue);\n    if (true) {\n        return;\n    }\n    try {\n        if (isPersisted && overrideValue) {\n            window.localStorage.setItem(STORAGE_KEY, overrideValue);\n        } else {\n            window.localStorage.removeItem(STORAGE_KEY);\n        }\n    } catch  {\n    // Ignore storage errors (private mode, etc.)\n    }\n}\nfunction clearApiKeyOverride() {\n    overrideValue = null;\n    isPersisted = false;\n    if (true) {\n        return;\n    }\n    try {\n        window.localStorage.removeItem(STORAGE_KEY);\n    } catch  {\n    // Ignore storage errors\n    }\n}\nfunction getEffectiveApiKey() {\n    const override = getApiKeyOverride();\n    if (override) {\n        return override;\n    }\n    return getEnvApiKey();\n}\nfunction hasEffectiveApiKey() {\n    return getEffectiveApiKey().length > 0;\n}\nfunction hasEnvApiKey() {\n    return getEnvApiKey().length > 0;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL2FwaS1rZXkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUEsTUFBTUEsY0FBYztBQUVwQixNQUFNQyxxQkFBcUI7SUFDekI7UUFBRUMsTUFBTTtRQUE2QkMsT0FBT0MsYUFBcUM7SUFBQztJQUNsRjtRQUFFRixNQUFNO1FBQW1DQyxPQUFPQyxRQUFRQyxHQUFHLENBQUNFLCtCQUErQjtJQUFDO0lBQzlGO1FBQUVMLE1BQU07UUFBMkJDLE9BQU9DLFFBQVFDLEdBQUcsQ0FBQ0csdUJBQXVCO0lBQUM7SUFDOUU7UUFBRU4sTUFBTTtRQUErQkMsT0FBT0MsUUFBUUMsR0FBRyxDQUFDSSwyQkFBMkI7SUFBQztDQUN2RjtBQUVELElBQUlDLGdCQUErQjtBQUNuQyxJQUFJQyxxQkFBcUI7QUFDekIsSUFBSUMsY0FBYztBQUVsQixTQUFTQztJQUNQLElBQUlGLG9CQUFvQjtRQUN0QjtJQUNGO0lBQ0FBLHFCQUFxQjtJQUNyQixJQUFJLElBQTZCLEVBQUU7UUFDakM7SUFDRjtJQUNBLElBQUk7UUFDRixNQUFNRyxTQUFTQyxPQUFPQyxZQUFZLENBQUNDLE9BQU8sQ0FBQ2pCO1FBQzNDLElBQUljLFFBQVE7WUFDVkosZ0JBQWdCSTtZQUNoQkYsY0FBYztRQUNoQjtJQUNGLEVBQUUsT0FBTTtJQUNOLDZDQUE2QztJQUMvQztBQUNGO0FBRUEsU0FBU007SUFDUCxLQUFLLE1BQU1DLGFBQWFsQixtQkFBb0I7UUFDMUMsSUFBSWtCLFVBQVVoQixLQUFLLEVBQUU7WUFDbkIsT0FBTztnQkFBRUQsTUFBTWlCLFVBQVVqQixJQUFJO2dCQUFFQyxPQUFPZ0IsVUFBVWhCLEtBQUs7WUFBQztRQUN4RDtJQUNGO0lBQ0EsT0FBTztBQUNUO0FBRU8sU0FBU2lCO0lBQ2QsT0FBT0Ysb0JBQW9CZixTQUFTO0FBQ3RDO0FBRU8sU0FBU2tCO0lBQ2QsT0FBT0gsb0JBQW9CaEIsUUFBUTtBQUNyQztBQUVPLFNBQVNvQjtJQUNkLElBQUksS0FBNkIsRUFBRSxFQUVsQztJQUNELE9BQU9aO0FBQ1Q7QUFFTyxTQUFTYTtJQUNkLElBQUksS0FBNkIsRUFBRSxFQUVsQztJQUNELE9BQU9YLGVBQWUsQ0FBQyxDQUFDRjtBQUMxQjtBQUVPLFNBQVNjLGtCQUFrQnJCLEtBQWEsRUFBRXNCLE9BQStCO0lBQzlFLE1BQU1DLFVBQVV2QixNQUFNd0IsSUFBSTtJQUMxQmpCLGdCQUFnQmdCLFVBQVVBLFVBQVU7SUFDcENkLGNBQWNnQixRQUFRSCxTQUFTSSxXQUFXbkI7SUFFMUMsSUFBSSxJQUE2QixFQUFFO1FBQ2pDO0lBQ0Y7SUFFQSxJQUFJO1FBQ0YsSUFBSUUsZUFBZUYsZUFBZTtZQUNoQ0ssT0FBT0MsWUFBWSxDQUFDYyxPQUFPLENBQUM5QixhQUFhVTtRQUMzQyxPQUFPO1lBQ0xLLE9BQU9DLFlBQVksQ0FBQ2UsVUFBVSxDQUFDL0I7UUFDakM7SUFDRixFQUFFLE9BQU07SUFDTiw2Q0FBNkM7SUFDL0M7QUFDRjtBQUVPLFNBQVNnQztJQUNkdEIsZ0JBQWdCO0lBQ2hCRSxjQUFjO0lBRWQsSUFBSSxJQUE2QixFQUFFO1FBQ2pDO0lBQ0Y7SUFFQSxJQUFJO1FBQ0ZHLE9BQU9DLFlBQVksQ0FBQ2UsVUFBVSxDQUFDL0I7SUFDakMsRUFBRSxPQUFNO0lBQ04sd0JBQXdCO0lBQzFCO0FBQ0Y7QUFFTyxTQUFTaUM7SUFDZCxNQUFNQyxXQUFXWjtJQUNqQixJQUFJWSxVQUFVO1FBQ1osT0FBT0E7SUFDVDtJQUNBLE9BQU9kO0FBQ1Q7QUFFTyxTQUFTZTtJQUNkLE9BQU9GLHFCQUFxQkcsTUFBTSxHQUFHO0FBQ3ZDO0FBRU8sU0FBU0M7SUFDZCxPQUFPakIsZUFBZWdCLE1BQU0sR0FBRztBQUNqQyIsInNvdXJjZXMiOlsid2VicGFjazovL2V0ZXJuYWxneS1lbXMtZnJvbnRlbmQvLi9zcmMvbGliL2FwaS1rZXkudHM/OWE2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTVE9SQUdFX0tFWSA9IFwiZWVtcy5hcGlLZXlPdmVycmlkZVwiO1xyXG5cclxuY29uc3QgRU5WX0tFWV9DQU5ESURBVEVTID0gW1xyXG4gIHsgbmFtZTogXCJORVhUX1BVQkxJQ19CQUNLRU5EX1RPS0VOXCIsIHZhbHVlOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1RPS0VOIH0sXHJcbiAgeyBuYW1lOiBcIk5FWFRfUFVCTElDX0JBQ0tFTkRfV1JJVEVfVE9LRU5cIiwgdmFsdWU6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfV1JJVEVfVE9LRU4gfSxcclxuICB7IG5hbWU6IFwiTkVYVF9QVUJMSUNfQkFDS0VORF9LRVlcIiwgdmFsdWU6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfS0VZIH0sXHJcbiAgeyBuYW1lOiBcIk5FWFRfUFVCTElDX0JBQ0tFTkRfQVBJX0tFWVwiLCB2YWx1ZTogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9BUElfS0VZIH1cclxuXSBhcyBjb25zdDtcclxuXHJcbmxldCBvdmVycmlkZVZhbHVlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcclxubGV0IGhhc0xvYWRlZFBlcnNpc3RlZCA9IGZhbHNlO1xyXG5sZXQgaXNQZXJzaXN0ZWQgPSBmYWxzZTtcclxuXHJcbmZ1bmN0aW9uIGxvYWRQZXJzaXN0ZWRPdmVycmlkZSgpIHtcclxuICBpZiAoaGFzTG9hZGVkUGVyc2lzdGVkKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG4gIGhhc0xvYWRlZFBlcnNpc3RlZCA9IHRydWU7XHJcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHN0b3JlZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWSk7XHJcbiAgICBpZiAoc3RvcmVkKSB7XHJcbiAgICAgIG92ZXJyaWRlVmFsdWUgPSBzdG9yZWQ7XHJcbiAgICAgIGlzUGVyc2lzdGVkID0gdHJ1ZTtcclxuICAgIH1cclxuICB9IGNhdGNoIHtcclxuICAgIC8vIElnbm9yZSBzdG9yYWdlIGVycm9ycyAocHJpdmF0ZSBtb2RlLCBldGMuKVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVzb2x2ZUVudkFwaUtleSgpOiB7IG5hbWU6IHN0cmluZzsgdmFsdWU6IHN0cmluZyB9IHwgbnVsbCB7XHJcbiAgZm9yIChjb25zdCBjYW5kaWRhdGUgb2YgRU5WX0tFWV9DQU5ESURBVEVTKSB7XHJcbiAgICBpZiAoY2FuZGlkYXRlLnZhbHVlKSB7XHJcbiAgICAgIHJldHVybiB7IG5hbWU6IGNhbmRpZGF0ZS5uYW1lLCB2YWx1ZTogY2FuZGlkYXRlLnZhbHVlIH07XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBudWxsO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW52QXBpS2V5KCk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIHJlc29sdmVFbnZBcGlLZXkoKT8udmFsdWUgPz8gXCJcIjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVudkFwaUtleU5hbWUoKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgcmV0dXJuIHJlc29sdmVFbnZBcGlLZXkoKT8ubmFtZSA/PyBudWxsO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXBpS2V5T3ZlcnJpZGUoKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgIGxvYWRQZXJzaXN0ZWRPdmVycmlkZSgpO1xyXG4gIH1cclxuICByZXR1cm4gb3ZlcnJpZGVWYWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzT3ZlcnJpZGVQZXJzaXN0ZWQoKTogYm9vbGVhbiB7XHJcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgIGxvYWRQZXJzaXN0ZWRPdmVycmlkZSgpO1xyXG4gIH1cclxuICByZXR1cm4gaXNQZXJzaXN0ZWQgJiYgISFvdmVycmlkZVZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0QXBpS2V5T3ZlcnJpZGUodmFsdWU6IHN0cmluZywgb3B0aW9ucz86IHsgcGVyc2lzdD86IGJvb2xlYW4gfSkge1xyXG4gIGNvbnN0IHRyaW1tZWQgPSB2YWx1ZS50cmltKCk7XHJcbiAgb3ZlcnJpZGVWYWx1ZSA9IHRyaW1tZWQgPyB0cmltbWVkIDogbnVsbDtcclxuICBpc1BlcnNpc3RlZCA9IEJvb2xlYW4ob3B0aW9ucz8ucGVyc2lzdCAmJiBvdmVycmlkZVZhbHVlKTtcclxuXHJcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBpZiAoaXNQZXJzaXN0ZWQgJiYgb3ZlcnJpZGVWYWx1ZSkge1xyXG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVksIG92ZXJyaWRlVmFsdWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNUT1JBR0VfS0VZKTtcclxuICAgIH1cclxuICB9IGNhdGNoIHtcclxuICAgIC8vIElnbm9yZSBzdG9yYWdlIGVycm9ycyAocHJpdmF0ZSBtb2RlLCBldGMuKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQXBpS2V5T3ZlcnJpZGUoKSB7XHJcbiAgb3ZlcnJpZGVWYWx1ZSA9IG51bGw7XHJcbiAgaXNQZXJzaXN0ZWQgPSBmYWxzZTtcclxuXHJcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU1RPUkFHRV9LRVkpO1xyXG4gIH0gY2F0Y2gge1xyXG4gICAgLy8gSWdub3JlIHN0b3JhZ2UgZXJyb3JzXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWZmZWN0aXZlQXBpS2V5KCk6IHN0cmluZyB7XHJcbiAgY29uc3Qgb3ZlcnJpZGUgPSBnZXRBcGlLZXlPdmVycmlkZSgpO1xyXG4gIGlmIChvdmVycmlkZSkge1xyXG4gICAgcmV0dXJuIG92ZXJyaWRlO1xyXG4gIH1cclxuICByZXR1cm4gZ2V0RW52QXBpS2V5KCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYXNFZmZlY3RpdmVBcGlLZXkoKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIGdldEVmZmVjdGl2ZUFwaUtleSgpLmxlbmd0aCA+IDA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYXNFbnZBcGlLZXkoKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIGdldEVudkFwaUtleSgpLmxlbmd0aCA+IDA7XHJcbn1cclxuIl0sIm5hbWVzIjpbIlNUT1JBR0VfS0VZIiwiRU5WX0tFWV9DQU5ESURBVEVTIiwibmFtZSIsInZhbHVlIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0JBQ0tFTkRfVE9LRU4iLCJORVhUX1BVQkxJQ19CQUNLRU5EX1dSSVRFX1RPS0VOIiwiTkVYVF9QVUJMSUNfQkFDS0VORF9LRVkiLCJORVhUX1BVQkxJQ19CQUNLRU5EX0FQSV9LRVkiLCJvdmVycmlkZVZhbHVlIiwiaGFzTG9hZGVkUGVyc2lzdGVkIiwiaXNQZXJzaXN0ZWQiLCJsb2FkUGVyc2lzdGVkT3ZlcnJpZGUiLCJzdG9yZWQiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicmVzb2x2ZUVudkFwaUtleSIsImNhbmRpZGF0ZSIsImdldEVudkFwaUtleSIsImdldEVudkFwaUtleU5hbWUiLCJnZXRBcGlLZXlPdmVycmlkZSIsImlzT3ZlcnJpZGVQZXJzaXN0ZWQiLCJzZXRBcGlLZXlPdmVycmlkZSIsIm9wdGlvbnMiLCJ0cmltbWVkIiwidHJpbSIsIkJvb2xlYW4iLCJwZXJzaXN0Iiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJjbGVhckFwaUtleU92ZXJyaWRlIiwiZ2V0RWZmZWN0aXZlQXBpS2V5Iiwib3ZlcnJpZGUiLCJoYXNFZmZlY3RpdmVBcGlLZXkiLCJsZW5ndGgiLCJoYXNFbnZBcGlLZXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/api-key.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/api.ts":
/*!************************!*\
  !*** ./src/lib/api.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   API_BASE_URL: () => (/* binding */ API_BASE_URL),\n/* harmony export */   ApiError: () => (/* binding */ ApiError),\n/* harmony export */   createSimulator: () => (/* binding */ createSimulator),\n/* harmony export */   deleteFutureReadings: () => (/* binding */ deleteFutureReadings),\n/* harmony export */   deleteSimulator: () => (/* binding */ deleteSimulator),\n/* harmony export */   fetchBlockHistory: () => (/* binding */ fetchBlockHistory),\n/* harmony export */   fetchLatestBlock: () => (/* binding */ fetchLatestBlock),\n/* harmony export */   getJson: () => (/* binding */ getJson),\n/* harmony export */   getLastReadingTimestamp: () => (/* binding */ getLastReadingTimestamp),\n/* harmony export */   getSimulators: () => (/* binding */ getSimulators),\n/* harmony export */   ingestReadings: () => (/* binding */ ingestReadings),\n/* harmony export */   simulatorEndpoint: () => (/* binding */ simulatorEndpoint),\n/* harmony export */   withWriteHeaders: () => (/* binding */ withWriteHeaders)\n/* harmony export */ });\n/* harmony import */ var _api_key__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api-key */ \"(ssr)/./src/lib/api-key.ts\");\n\n// Route all browser requests through a same-origin proxy to avoid CORS.\n// The proxy is implemented at /api/bridge/[...path].\n// This keeps the frontend free from cross-origin limitations.\nconst API_BASE_URL = \"/api/bridge\";\nconst RETRYABLE_STATUS = new Set([\n    429,\n    500,\n    502,\n    503,\n    504\n]);\nclass ApiError extends Error {\n    constructor(message, status, code, details){\n        super(message);\n        this.status = status;\n        this.code = code;\n        this.details = details;\n    }\n}\nfunction buildUrl(path) {\n    if (!API_BASE_URL) {\n        throw new ApiError(\"Backend base URL is not configured.\", 0);\n    }\n    if (path.startsWith(\"http\")) {\n        return path;\n    }\n    return `${API_BASE_URL}${path}`;\n}\nasync function parseJson(response) {\n    const text = await response.text();\n    if (!text) {\n        return undefined;\n    }\n    try {\n        return JSON.parse(text);\n    } catch (error) {\n        throw new ApiError(`Invalid JSON response: ${error.message}`, response.status);\n    }\n}\nasync function createApiError(response) {\n    let payload;\n    try {\n        payload = await response.clone().json();\n    } catch  {\n    // ignore â€” fallback to text below\n    }\n    if (!payload) {\n        try {\n            const text = await response.text();\n            if (text) {\n                return new ApiError(text, response.status);\n            }\n        } catch  {\n        // ignore\n        }\n    }\n    // Prefer explicit error message/code if provided by backend\n    let message = payload?.error?.message ?? payload?.message ?? response.statusText ?? `Request failed with status ${response.status}`;\n    let code = payload?.error?.code;\n    let details = payload?.error?.details;\n    // FastAPI-style validation errors: { detail: [...] }\n    // Extract and flatten messages to surface meaningful feedback in the UI.\n    if (payload && payload.detail) {\n        details = payload.detail;\n        try {\n            if (Array.isArray(payload.detail)) {\n                const msgs = payload.detail.map((d)=>d?.msg || d?.detail || \"Validation error\").filter(Boolean);\n                if (msgs.length > 0) {\n                    message = msgs.join(\"; \");\n                }\n            } else if (typeof payload.detail === \"string\") {\n                message = payload.detail;\n            }\n        } catch  {\n        // fallback to default message\n        }\n    }\n    return new ApiError(message, response.status, code, details);\n}\nfunction shouldRetry(status) {\n    return RETRYABLE_STATUS.has(status);\n}\nfunction delay(ms) {\n    return new Promise((resolve)=>setTimeout(resolve, ms));\n}\nasync function requestJson(path, init, options = {}) {\n    let url = buildUrl(path);\n    if (true) {\n        url = `http://localhost${url}`;\n    }\n    const retryDelays = options.retryDelays ?? [];\n    let attempt = 0;\n    // Always ensure we use credentialsless fetch\n    const mergedHeaders = new Headers(init?.headers);\n    mergedHeaders.set(\"Accept\", \"application/json\");\n    const requestInit = {\n        ...init,\n        headers: mergedHeaders\n    };\n    while(true){\n        try {\n            const response = await fetch(url, requestInit);\n            if (!response.ok) {\n                const error = await createApiError(response);\n                if (shouldRetry(response.status) && attempt < retryDelays.length) {\n                    await delay(retryDelays[attempt++]);\n                    continue;\n                }\n                throw error;\n            }\n            if (response.status === 204) {\n                return undefined;\n            }\n            return await parseJson(response);\n        } catch (error) {\n            if (error instanceof ApiError) {\n                throw error;\n            }\n            if (attempt < retryDelays.length) {\n                await delay(retryDelays[attempt++]);\n                continue;\n            }\n            throw error;\n        }\n    }\n}\nfunction withWriteHeaders(init) {\n    const headers = new Headers(init?.headers);\n    headers.set(\"Content-Type\", \"application/json\");\n    const apiKey = (0,_api_key__WEBPACK_IMPORTED_MODULE_0__.getEffectiveApiKey)();\n    if (apiKey) {\n        headers.set(\"x-api-key\", apiKey);\n    } else {\n        headers.delete(\"x-api-key\");\n    }\n    return {\n        ...init,\n        headers\n    };\n}\nasync function getJson(path, init) {\n    try {\n        return await requestJson(path, init);\n    } catch (error) {\n        // retry GET once on network failure (non ApiError)\n        if (!(error instanceof ApiError)) {\n            return await requestJson(path, init, {\n                retryDelays: [\n                    500\n                ]\n            });\n        }\n        throw error;\n    }\n}\nfunction simulatorEndpoint(path) {\n    return buildUrl(path);\n}\nasync function getSimulators() {\n    const payload = await getJson(\"/api/v1/simulators\");\n    if (Array.isArray(payload)) {\n        return payload;\n    }\n    return payload.data ?? [];\n}\nasync function createSimulator(input) {\n    // Backend expects a flat body (name, target_kwh, whatsapp_number?)\n    const response = await requestJson(\"/api/v1/simulators\", withWriteHeaders({\n        method: \"POST\",\n        body: JSON.stringify(input)\n    }), {\n        retryDelays: [\n            500,\n            1500,\n            3500\n        ]\n    });\n    if (\"data\" in response) {\n        return response.data;\n    }\n    return response;\n}\nasync function deleteSimulator(id) {\n    console.log(\"deleteSimulator called with id:\", id);\n    try {\n        await requestJson(`/api/v1/simulators/${id}`, withWriteHeaders({\n            method: \"DELETE\"\n        }), {\n            retryDelays: [\n                500,\n                1500\n            ]\n        });\n        console.log(\"deleteSimulator successful for id:\", id);\n    } catch (error) {\n        console.error(\"deleteSimulator error for id:\", id, error);\n        throw error;\n    }\n}\nasync function fetchLatestBlock(simulatorId) {\n    return await getJson(`/api/v1/blocks/latest?simulator_id=${encodeURIComponent(simulatorId)}`);\n}\nasync function fetchBlockHistory(simulatorId, limit = 10) {\n    const payload = await getJson(`/api/v1/blocks/history?simulator_id=${encodeURIComponent(simulatorId)}&limit=${limit}`);\n    if (Array.isArray(payload)) {\n        return payload;\n    }\n    return payload.data ?? [];\n}\nasync function ingestReadings(payload) {\n    await requestJson(\"/api/v1/readings:ingest\", withWriteHeaders({\n        method: \"POST\",\n        body: JSON.stringify(payload)\n    }), {\n        retryDelays: [\n            500,\n            1500,\n            3500\n        ]\n    });\n}\n/**\r\n * Delete future readings for a simulator.\r\n * This clears all readings with timestamps in the future relative to current time.\r\n * Used when starting a new simulation session to avoid showing old fast-forward data.\r\n */ async function deleteFutureReadings(simulatorId) {\n    try {\n        // Try DELETE endpoint with simulator_id and current timestamp\n        const now = new Date().toISOString();\n        await requestJson(`/api/v1/readings?simulator_id=${encodeURIComponent(simulatorId)}&before=${encodeURIComponent(now)}`, withWriteHeaders({\n            method: \"DELETE\"\n        }), {\n            retryDelays: [\n                500,\n                1500\n            ]\n        });\n    } catch (error) {\n        // If DELETE endpoint doesn't exist or fails, try alternative endpoint\n        // Some backends might use: DELETE /api/v1/simulators/{id}/readings\n        try {\n            await requestJson(`/api/v1/simulators/${encodeURIComponent(simulatorId)}/readings`, withWriteHeaders({\n                method: \"DELETE\"\n            }), {\n                retryDelays: [\n                    500,\n                    1500\n                ]\n            });\n        } catch (fallbackError) {\n            // If both fail, log warning but don't throw - simulator can still start\n            console.warn(\"Failed to delete future readings from backend:\", error, fallbackError);\n        // Don't throw - allow simulator to start even if cleanup fails\n        }\n    }\n}\n/**\r\n * Get the last reading timestamp for a simulator.\r\n * Returns the timestamp of the last reading, or null if no readings exist.\r\n * Always returns the latest reading timestamp regardless of whether it's past or future.\r\n */ async function getLastReadingTimestamp(simulatorId) {\n    try {\n        // Fetch latest block - if it has data, we can infer the last reading timestamp\n        const block = await fetchLatestBlock(simulatorId);\n        // If block has data points, estimate last reading time from block start + bin duration\n        if (block.chart_bins?.points && block.chart_bins.points.length > 0) {\n            const blockStart = new Date(block.block_start_local);\n            const binSeconds = block.chart_bins.bin_seconds || 30;\n            const numPoints = block.chart_bins.points.length;\n            // Last reading would be approximately at block start + (numPoints * binSeconds)\n            const lastReadingTime = new Date(blockStart.getTime() + numPoints * binSeconds * 1000);\n            return lastReadingTime.toISOString();\n        }\n        // If no data, return null (will start from current time)\n        return null;\n    } catch (error) {\n        // If fetch fails, return null (will start from current time)\n        console.warn(\"Failed to fetch last reading timestamp:\", error);\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TzlELE9BQU87UUFDZCw2REFBNkQ7UUFDN0RtRCxRQUFRYSxJQUFJLENBQUMsMkNBQTJDaEU7UUFDeEQsT0FBTztJQUNUO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ldGVybmFsZ3ktZW1zLWZyb250ZW5kLy4vc3JjL2xpYi9hcGkudHM/MmZhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRFZmZlY3RpdmVBcGlLZXkgfSBmcm9tIFwiLi9hcGkta2V5XCI7XHJcbmltcG9ydCB7IHR5cGUgQXBpRXJyb3JQYXlsb2FkLCB0eXBlIENyZWF0ZVNpbXVsYXRvcklucHV0LCB0eXBlIEhpc3RvcnlCbG9jaywgdHlwZSBJbmdlc3RSZXF1ZXN0LCB0eXBlIExhdGVzdEJsb2NrLCB0eXBlIFNpbXVsYXRvciwgdHlwZSBTaW11bGF0b3JMaXN0UmVzcG9uc2UgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5cclxuLy8gUm91dGUgYWxsIGJyb3dzZXIgcmVxdWVzdHMgdGhyb3VnaCBhIHNhbWUtb3JpZ2luIHByb3h5IHRvIGF2b2lkIENPUlMuXHJcbi8vIFRoZSBwcm94eSBpcyBpbXBsZW1lbnRlZCBhdCAvYXBpL2JyaWRnZS9bLi4ucGF0aF0uXHJcbi8vIFRoaXMga2VlcHMgdGhlIGZyb250ZW5kIGZyZWUgZnJvbSBjcm9zcy1vcmlnaW4gbGltaXRhdGlvbnMuXHJcbmV4cG9ydCBjb25zdCBBUElfQkFTRV9VUkwgPSBcIi9hcGkvYnJpZGdlXCI7XHJcblxyXG5jb25zdCBSRVRSWUFCTEVfU1RBVFVTID0gbmV3IFNldChbNDI5LCA1MDAsIDUwMiwgNTAzLCA1MDRdKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBBcGlFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICBzdGF0dXM6IG51bWJlcjtcclxuICBjb2RlPzogc3RyaW5nO1xyXG4gIGRldGFpbHM/OiB1bmtub3duO1xyXG5cclxuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIHN0YXR1czogbnVtYmVyLCBjb2RlPzogc3RyaW5nLCBkZXRhaWxzPzogdW5rbm93bikge1xyXG4gICAgc3VwZXIobWVzc2FnZSk7XHJcbiAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcclxuICAgIHRoaXMuY29kZSA9IGNvZGU7XHJcbiAgICB0aGlzLmRldGFpbHMgPSBkZXRhaWxzO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYnVpbGRVcmwocGF0aDogc3RyaW5nKSB7XHJcbiAgaWYgKCFBUElfQkFTRV9VUkwpIHtcclxuICAgIHRocm93IG5ldyBBcGlFcnJvcihcIkJhY2tlbmQgYmFzZSBVUkwgaXMgbm90IGNvbmZpZ3VyZWQuXCIsIDApO1xyXG4gIH1cclxuICBpZiAocGF0aC5zdGFydHNXaXRoKFwiaHR0cFwiKSkge1xyXG4gICAgcmV0dXJuIHBhdGg7XHJcbiAgfVxyXG4gIHJldHVybiBgJHtBUElfQkFTRV9VUkx9JHtwYXRofWA7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHBhcnNlSnNvbjxUPihyZXNwb25zZTogUmVzcG9uc2UpOiBQcm9taXNlPFQ+IHtcclxuICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xyXG4gIGlmICghdGV4dCkge1xyXG4gICAgcmV0dXJuIHVuZGVmaW5lZCBhcyBUO1xyXG4gIH1cclxuICB0cnkge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UodGV4dCkgYXMgVDtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgbmV3IEFwaUVycm9yKGBJbnZhbGlkIEpTT04gcmVzcG9uc2U6ICR7KGVycm9yIGFzIEVycm9yKS5tZXNzYWdlfWAsIHJlc3BvbnNlLnN0YXR1cyk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVBcGlFcnJvcihyZXNwb25zZTogUmVzcG9uc2UpOiBQcm9taXNlPEFwaUVycm9yPiB7XHJcbiAgbGV0IHBheWxvYWQ6IChBcGlFcnJvclBheWxvYWQgJiB7IGRldGFpbD86IHVua25vd24gfSkgfCB1bmRlZmluZWQ7XHJcbiAgdHJ5IHtcclxuICAgIHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5jbG9uZSgpLmpzb24oKTtcclxuICB9IGNhdGNoIHtcclxuICAgIC8vIGlnbm9yZSDigJQgZmFsbGJhY2sgdG8gdGV4dCBiZWxvd1xyXG4gIH1cclxuXHJcbiAgaWYgKCFwYXlsb2FkKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xyXG4gICAgICBpZiAodGV4dCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQXBpRXJyb3IodGV4dCwgcmVzcG9uc2Uuc3RhdHVzKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCB7XHJcbiAgICAgIC8vIGlnbm9yZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gUHJlZmVyIGV4cGxpY2l0IGVycm9yIG1lc3NhZ2UvY29kZSBpZiBwcm92aWRlZCBieSBiYWNrZW5kXHJcbiAgbGV0IG1lc3NhZ2UgPSBwYXlsb2FkPy5lcnJvcj8ubWVzc2FnZSA/PyBwYXlsb2FkPy5tZXNzYWdlID8/IHJlc3BvbnNlLnN0YXR1c1RleHQgPz8gYFJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzICR7cmVzcG9uc2Uuc3RhdHVzfWA7XHJcbiAgbGV0IGNvZGUgPSBwYXlsb2FkPy5lcnJvcj8uY29kZTtcclxuICBsZXQgZGV0YWlscyA9IHBheWxvYWQ/LmVycm9yPy5kZXRhaWxzO1xyXG5cclxuICAvLyBGYXN0QVBJLXN0eWxlIHZhbGlkYXRpb24gZXJyb3JzOiB7IGRldGFpbDogWy4uLl0gfVxyXG4gIC8vIEV4dHJhY3QgYW5kIGZsYXR0ZW4gbWVzc2FnZXMgdG8gc3VyZmFjZSBtZWFuaW5nZnVsIGZlZWRiYWNrIGluIHRoZSBVSS5cclxuICBpZiAocGF5bG9hZCAmJiBwYXlsb2FkLmRldGFpbCkge1xyXG4gICAgZGV0YWlscyA9IHBheWxvYWQuZGV0YWlsO1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGF5bG9hZC5kZXRhaWwpKSB7XHJcbiAgICAgICAgY29uc3QgbXNncyA9IChwYXlsb2FkLmRldGFpbCBhcyBBcnJheTx7IG1zZz86IHN0cmluZzsgbG9jPzogdW5rbm93bjsgZGV0YWlsPzogc3RyaW5nIH0+KS5cclxuICAgICAgICAgIG1hcCgoZCkgPT4gZD8ubXNnIHx8IGQ/LmRldGFpbCB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIilcclxuICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XHJcbiAgICAgICAgaWYgKG1zZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgbWVzc2FnZSA9IG1zZ3Muam9pbihcIjsgXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcGF5bG9hZC5kZXRhaWwgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICBtZXNzYWdlID0gcGF5bG9hZC5kZXRhaWw7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2gge1xyXG4gICAgICAvLyBmYWxsYmFjayB0byBkZWZhdWx0IG1lc3NhZ2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBuZXcgQXBpRXJyb3IobWVzc2FnZSwgcmVzcG9uc2Uuc3RhdHVzLCBjb2RlLCBkZXRhaWxzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvdWxkUmV0cnkoc3RhdHVzOiBudW1iZXIpIHtcclxuICByZXR1cm4gUkVUUllBQkxFX1NUQVRVUy5oYXMoc3RhdHVzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGVsYXkobXM6IG51bWJlcikge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xyXG59XHJcblxyXG50eXBlIFJlcXVlc3RPcHRpb25zID0ge1xyXG4gIHJldHJ5RGVsYXlzPzogbnVtYmVyW107XHJcbn07XHJcblxyXG5hc3luYyBmdW5jdGlvbiByZXF1ZXN0SnNvbjxUPihwYXRoOiBzdHJpbmcsIGluaXQ/OiBSZXF1ZXN0SW5pdCwgb3B0aW9uczogUmVxdWVzdE9wdGlvbnMgPSB7fSk6IFByb21pc2U8VD4ge1xyXG4gIGxldCB1cmwgPSBidWlsZFVybChwYXRoKTtcclxuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIHVybCA9IGBodHRwOi8vbG9jYWxob3N0JHt1cmx9YDtcclxuICB9XHJcbiAgY29uc3QgcmV0cnlEZWxheXMgPSBvcHRpb25zLnJldHJ5RGVsYXlzID8/IFtdO1xyXG4gIGxldCBhdHRlbXB0ID0gMDtcclxuXHJcbiAgLy8gQWx3YXlzIGVuc3VyZSB3ZSB1c2UgY3JlZGVudGlhbHNsZXNzIGZldGNoXHJcbiAgY29uc3QgbWVyZ2VkSGVhZGVycyA9IG5ldyBIZWFkZXJzKGluaXQ/LmhlYWRlcnMpO1xyXG4gIG1lcmdlZEhlYWRlcnMuc2V0KFwiQWNjZXB0XCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcclxuXHJcbiAgY29uc3QgcmVxdWVzdEluaXQ6IFJlcXVlc3RJbml0ID0ge1xyXG4gICAgLi4uaW5pdCxcclxuICAgIGhlYWRlcnM6IG1lcmdlZEhlYWRlcnNcclxuICB9O1xyXG5cclxuICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHJlcXVlc3RJbml0KTtcclxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IGVycm9yID0gYXdhaXQgY3JlYXRlQXBpRXJyb3IocmVzcG9uc2UpO1xyXG4gICAgICAgIGlmIChzaG91bGRSZXRyeShyZXNwb25zZS5zdGF0dXMpICYmIGF0dGVtcHQgPCByZXRyeURlbGF5cy5sZW5ndGgpIHtcclxuICAgICAgICAgIGF3YWl0IGRlbGF5KHJldHJ5RGVsYXlzW2F0dGVtcHQrK10pO1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQgYXMgVDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gYXdhaXQgcGFyc2VKc29uPFQ+KHJlc3BvbnNlKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEFwaUVycm9yKSB7XHJcbiAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGF0dGVtcHQgPCByZXRyeURlbGF5cy5sZW5ndGgpIHtcclxuICAgICAgICBhd2FpdCBkZWxheShyZXRyeURlbGF5c1thdHRlbXB0KytdKTtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB3aXRoV3JpdGVIZWFkZXJzKGluaXQ/OiBSZXF1ZXN0SW5pdCk6IFJlcXVlc3RJbml0IHtcclxuICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5pdD8uaGVhZGVycyk7XHJcbiAgaGVhZGVycy5zZXQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xyXG5cclxuICBjb25zdCBhcGlLZXkgPSBnZXRFZmZlY3RpdmVBcGlLZXkoKTtcclxuICBpZiAoYXBpS2V5KSB7XHJcbiAgICBoZWFkZXJzLnNldChcIngtYXBpLWtleVwiLCBhcGlLZXkpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBoZWFkZXJzLmRlbGV0ZShcIngtYXBpLWtleVwiKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICAuLi5pbml0LFxyXG4gICAgaGVhZGVyc1xyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRKc29uPFQ+KHBhdGg6IHN0cmluZywgaW5pdD86IFJlcXVlc3RJbml0KTogUHJvbWlzZTxUPiB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBhd2FpdCByZXF1ZXN0SnNvbjxUPihwYXRoLCBpbml0KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgLy8gcmV0cnkgR0VUIG9uY2Ugb24gbmV0d29yayBmYWlsdXJlIChub24gQXBpRXJyb3IpXHJcbiAgICBpZiAoIShlcnJvciBpbnN0YW5jZW9mIEFwaUVycm9yKSkge1xyXG4gICAgICByZXR1cm4gYXdhaXQgcmVxdWVzdEpzb248VD4ocGF0aCwgaW5pdCwgeyByZXRyeURlbGF5czogWzUwMF0gfSk7XHJcbiAgICB9XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaW11bGF0b3JFbmRwb2ludChwYXRoOiBzdHJpbmcpIHtcclxuICByZXR1cm4gYnVpbGRVcmwocGF0aCk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTaW11bGF0b3JzKCk6IFByb21pc2U8U2ltdWxhdG9yW10+IHtcclxuICBjb25zdCBwYXlsb2FkID0gYXdhaXQgZ2V0SnNvbjxTaW11bGF0b3JMaXN0UmVzcG9uc2U+KFwiL2FwaS92MS9zaW11bGF0b3JzXCIpO1xyXG4gIGlmIChBcnJheS5pc0FycmF5KHBheWxvYWQpKSB7XHJcbiAgICByZXR1cm4gcGF5bG9hZDtcclxuICB9XHJcbiAgcmV0dXJuIHBheWxvYWQuZGF0YSA/PyBbXTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVNpbXVsYXRvcihpbnB1dDogQ3JlYXRlU2ltdWxhdG9ySW5wdXQpOiBQcm9taXNlPFNpbXVsYXRvcj4ge1xyXG4gIC8vIEJhY2tlbmQgZXhwZWN0cyBhIGZsYXQgYm9keSAobmFtZSwgdGFyZ2V0X2t3aCwgd2hhdHNhcHBfbnVtYmVyPylcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RKc29uPFNpbXVsYXRvciB8IHsgZGF0YTogU2ltdWxhdG9yIH0+KFxyXG4gICAgXCIvYXBpL3YxL3NpbXVsYXRvcnNcIixcclxuICAgIHdpdGhXcml0ZUhlYWRlcnMoe1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShpbnB1dClcclxuICAgIH0pLFxyXG4gICAgeyByZXRyeURlbGF5czogWzUwMCwgMTUwMCwgMzUwMF0gfVxyXG4gICk7XHJcblxyXG4gIGlmIChcImRhdGFcIiBpbiByZXNwb25zZSkge1xyXG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcmVzcG9uc2U7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVTaW11bGF0b3IoaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGNvbnNvbGUubG9nKFwiZGVsZXRlU2ltdWxhdG9yIGNhbGxlZCB3aXRoIGlkOlwiLCBpZCk7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IHJlcXVlc3RKc29uPHZvaWQ+KFxyXG4gICAgICBgL2FwaS92MS9zaW11bGF0b3JzLyR7aWR9YCxcclxuICAgICAgd2l0aFdyaXRlSGVhZGVycyh7XHJcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICB9KSxcclxuICAgICAgeyByZXRyeURlbGF5czogWzUwMCwgMTUwMF0gfVxyXG4gICAgKTtcclxuICAgIGNvbnNvbGUubG9nKFwiZGVsZXRlU2ltdWxhdG9yIHN1Y2Nlc3NmdWwgZm9yIGlkOlwiLCBpZCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJkZWxldGVTaW11bGF0b3IgZXJyb3IgZm9yIGlkOlwiLCBpZCwgZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hMYXRlc3RCbG9jayhzaW11bGF0b3JJZDogc3RyaW5nKTogUHJvbWlzZTxMYXRlc3RCbG9jaz4ge1xyXG4gIHJldHVybiBhd2FpdCBnZXRKc29uPExhdGVzdEJsb2NrPihgL2FwaS92MS9ibG9ja3MvbGF0ZXN0P3NpbXVsYXRvcl9pZD0ke2VuY29kZVVSSUNvbXBvbmVudChzaW11bGF0b3JJZCl9YCk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaEJsb2NrSGlzdG9yeShzaW11bGF0b3JJZDogc3RyaW5nLCBsaW1pdCA9IDEwKTogUHJvbWlzZTxIaXN0b3J5QmxvY2tbXT4ge1xyXG4gIGNvbnN0IHBheWxvYWQgPSBhd2FpdCBnZXRKc29uPEhpc3RvcnlCbG9ja1tdIHwgeyBkYXRhOiBIaXN0b3J5QmxvY2tbXSB9PihcclxuICAgIGAvYXBpL3YxL2Jsb2Nrcy9oaXN0b3J5P3NpbXVsYXRvcl9pZD0ke2VuY29kZVVSSUNvbXBvbmVudChzaW11bGF0b3JJZCl9JmxpbWl0PSR7bGltaXR9YFxyXG4gICk7XHJcbiAgaWYgKEFycmF5LmlzQXJyYXkocGF5bG9hZCkpIHtcclxuICAgIHJldHVybiBwYXlsb2FkO1xyXG4gIH1cclxuICByZXR1cm4gcGF5bG9hZC5kYXRhID8/IFtdO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5nZXN0UmVhZGluZ3MocGF5bG9hZDogSW5nZXN0UmVxdWVzdCk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGF3YWl0IHJlcXVlc3RKc29uPHZvaWQ+KFxyXG4gICAgXCIvYXBpL3YxL3JlYWRpbmdzOmluZ2VzdFwiLFxyXG4gICAgd2l0aFdyaXRlSGVhZGVycyh7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpXHJcbiAgICB9KSxcclxuICAgIHsgcmV0cnlEZWxheXM6IFs1MDAsIDE1MDAsIDM1MDBdIH1cclxuICApO1xyXG59XHJcblxyXG4vKipcclxuICogRGVsZXRlIGZ1dHVyZSByZWFkaW5ncyBmb3IgYSBzaW11bGF0b3IuXHJcbiAqIFRoaXMgY2xlYXJzIGFsbCByZWFkaW5ncyB3aXRoIHRpbWVzdGFtcHMgaW4gdGhlIGZ1dHVyZSByZWxhdGl2ZSB0byBjdXJyZW50IHRpbWUuXHJcbiAqIFVzZWQgd2hlbiBzdGFydGluZyBhIG5ldyBzaW11bGF0aW9uIHNlc3Npb24gdG8gYXZvaWQgc2hvd2luZyBvbGQgZmFzdC1mb3J3YXJkIGRhdGEuXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlRnV0dXJlUmVhZGluZ3Moc2ltdWxhdG9ySWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBUcnkgREVMRVRFIGVuZHBvaW50IHdpdGggc2ltdWxhdG9yX2lkIGFuZCBjdXJyZW50IHRpbWVzdGFtcFxyXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xyXG4gICAgYXdhaXQgcmVxdWVzdEpzb248dm9pZD4oXHJcbiAgICAgIGAvYXBpL3YxL3JlYWRpbmdzP3NpbXVsYXRvcl9pZD0ke2VuY29kZVVSSUNvbXBvbmVudChzaW11bGF0b3JJZCl9JmJlZm9yZT0ke2VuY29kZVVSSUNvbXBvbmVudChub3cpfWAsXHJcbiAgICAgIHdpdGhXcml0ZUhlYWRlcnMoe1xyXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIlxyXG4gICAgICB9KSxcclxuICAgICAgeyByZXRyeURlbGF5czogWzUwMCwgMTUwMF0gfVxyXG4gICAgKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgLy8gSWYgREVMRVRFIGVuZHBvaW50IGRvZXNuJ3QgZXhpc3Qgb3IgZmFpbHMsIHRyeSBhbHRlcm5hdGl2ZSBlbmRwb2ludFxyXG4gICAgLy8gU29tZSBiYWNrZW5kcyBtaWdodCB1c2U6IERFTEVURSAvYXBpL3YxL3NpbXVsYXRvcnMve2lkfS9yZWFkaW5nc1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgcmVxdWVzdEpzb248dm9pZD4oXHJcbiAgICAgICAgYC9hcGkvdjEvc2ltdWxhdG9ycy8ke2VuY29kZVVSSUNvbXBvbmVudChzaW11bGF0b3JJZCl9L3JlYWRpbmdzYCxcclxuICAgICAgICB3aXRoV3JpdGVIZWFkZXJzKHtcclxuICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIlxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIHsgcmV0cnlEZWxheXM6IFs1MDAsIDE1MDBdIH1cclxuICAgICAgKTtcclxuICAgIH0gY2F0Y2ggKGZhbGxiYWNrRXJyb3IpIHtcclxuICAgICAgLy8gSWYgYm90aCBmYWlsLCBsb2cgd2FybmluZyBidXQgZG9uJ3QgdGhyb3cgLSBzaW11bGF0b3IgY2FuIHN0aWxsIHN0YXJ0XHJcbiAgICAgIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBkZWxldGUgZnV0dXJlIHJlYWRpbmdzIGZyb20gYmFja2VuZDpcIiwgZXJyb3IsIGZhbGxiYWNrRXJyb3IpO1xyXG4gICAgICAvLyBEb24ndCB0aHJvdyAtIGFsbG93IHNpbXVsYXRvciB0byBzdGFydCBldmVuIGlmIGNsZWFudXAgZmFpbHNcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIGxhc3QgcmVhZGluZyB0aW1lc3RhbXAgZm9yIGEgc2ltdWxhdG9yLlxyXG4gKiBSZXR1cm5zIHRoZSB0aW1lc3RhbXAgb2YgdGhlIGxhc3QgcmVhZGluZywgb3IgbnVsbCBpZiBubyByZWFkaW5ncyBleGlzdC5cclxuICogQWx3YXlzIHJldHVybnMgdGhlIGxhdGVzdCByZWFkaW5nIHRpbWVzdGFtcCByZWdhcmRsZXNzIG9mIHdoZXRoZXIgaXQncyBwYXN0IG9yIGZ1dHVyZS5cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRMYXN0UmVhZGluZ1RpbWVzdGFtcChzaW11bGF0b3JJZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIEZldGNoIGxhdGVzdCBibG9jayAtIGlmIGl0IGhhcyBkYXRhLCB3ZSBjYW4gaW5mZXIgdGhlIGxhc3QgcmVhZGluZyB0aW1lc3RhbXBcclxuICAgIGNvbnN0IGJsb2NrID0gYXdhaXQgZmV0Y2hMYXRlc3RCbG9jayhzaW11bGF0b3JJZCk7XHJcbiAgICBcclxuICAgIC8vIElmIGJsb2NrIGhhcyBkYXRhIHBvaW50cywgZXN0aW1hdGUgbGFzdCByZWFkaW5nIHRpbWUgZnJvbSBibG9jayBzdGFydCArIGJpbiBkdXJhdGlvblxyXG4gICAgaWYgKGJsb2NrLmNoYXJ0X2JpbnM/LnBvaW50cyAmJiBibG9jay5jaGFydF9iaW5zLnBvaW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IGJsb2NrU3RhcnQgPSBuZXcgRGF0ZShibG9jay5ibG9ja19zdGFydF9sb2NhbCk7XHJcbiAgICAgIGNvbnN0IGJpblNlY29uZHMgPSBibG9jay5jaGFydF9iaW5zLmJpbl9zZWNvbmRzIHx8IDMwO1xyXG4gICAgICBjb25zdCBudW1Qb2ludHMgPSBibG9jay5jaGFydF9iaW5zLnBvaW50cy5sZW5ndGg7XHJcbiAgICAgIC8vIExhc3QgcmVhZGluZyB3b3VsZCBiZSBhcHByb3hpbWF0ZWx5IGF0IGJsb2NrIHN0YXJ0ICsgKG51bVBvaW50cyAqIGJpblNlY29uZHMpXHJcbiAgICAgIGNvbnN0IGxhc3RSZWFkaW5nVGltZSA9IG5ldyBEYXRlKGJsb2NrU3RhcnQuZ2V0VGltZSgpICsgbnVtUG9pbnRzICogYmluU2Vjb25kcyAqIDEwMDApO1xyXG4gICAgICByZXR1cm4gbGFzdFJlYWRpbmdUaW1lLnRvSVNPU3RyaW5nKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIElmIG5vIGRhdGEsIHJldHVybiBudWxsICh3aWxsIHN0YXJ0IGZyb20gY3VycmVudCB0aW1lKVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIC8vIElmIGZldGNoIGZhaWxzLCByZXR1cm4gbnVsbCAod2lsbCBzdGFydCBmcm9tIGN1cnJlbnQgdGltZSlcclxuICAgIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBmZXRjaCBsYXN0IHJlYWRpbmcgdGltZXN0YW1wOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiZ2V0RWZmZWN0aXZlQXBpS2V5IiwiQVBJX0JBU0VfVVJMIiwiUkVUUllBQkxFX1NUQVRVUyIsIlNldCIsIkFwaUVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJjb2RlIiwiZGV0YWlscyIsImJ1aWxkVXJsIiwicGF0aCIsInN0YXJ0c1dpdGgiLCJwYXJzZUpzb24iLCJyZXNwb25zZSIsInRleHQiLCJ1bmRlZmluZWQiLCJKU09OIiwicGFyc2UiLCJlcnJvciIsImNyZWF0ZUFwaUVycm9yIiwicGF5bG9hZCIsImNsb25lIiwianNvbiIsInN0YXR1c1RleHQiLCJkZXRhaWwiLCJBcnJheSIsImlzQXJyYXkiLCJtc2dzIiwibWFwIiwiZCIsIm1zZyIsImZpbHRlciIsIkJvb2xlYW4iLCJsZW5ndGgiLCJqb2luIiwic2hvdWxkUmV0cnkiLCJoYXMiLCJkZWxheSIsIm1zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwicmVxdWVzdEpzb24iLCJpbml0Iiwib3B0aW9ucyIsInVybCIsInJldHJ5RGVsYXlzIiwiYXR0ZW1wdCIsIm1lcmdlZEhlYWRlcnMiLCJIZWFkZXJzIiwiaGVhZGVycyIsInNldCIsInJlcXVlc3RJbml0IiwiZmV0Y2giLCJvayIsIndpdGhXcml0ZUhlYWRlcnMiLCJhcGlLZXkiLCJkZWxldGUiLCJnZXRKc29uIiwic2ltdWxhdG9yRW5kcG9pbnQiLCJnZXRTaW11bGF0b3JzIiwiZGF0YSIsImNyZWF0ZVNpbXVsYXRvciIsImlucHV0IiwibWV0aG9kIiwiYm9keSIsInN0cmluZ2lmeSIsImRlbGV0ZVNpbXVsYXRvciIsImlkIiwiY29uc29sZSIsImxvZyIsImZldGNoTGF0ZXN0QmxvY2siLCJzaW11bGF0b3JJZCIsImVuY29kZVVSSUNvbXBvbmVudCIsImZldGNoQmxvY2tIaXN0b3J5IiwibGltaXQiLCJpbmdlc3RSZWFkaW5ncyIsImRlbGV0ZUZ1dHVyZVJlYWRpbmdzIiwibm93IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZmFsbGJhY2tFcnJvciIsIndhcm4iLCJnZXRMYXN0UmVhZGluZ1RpbWVzdGFtcCIsImJsb2NrIiwiY2hhcnRfYmlucyIsInBvaW50cyIsImJsb2NrU3RhcnQiLCJibG9ja19zdGFydF9sb2NhbCIsImJpblNlY29uZHMiLCJiaW5fc2Vjb25kcyIsIm51bVBvaW50cyIsImxhc3RSZWFkaW5nVGltZSIsImdldFRpbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/api.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/block-utils.ts":
/*!********************************!*\
  !*** ./src/lib/block-utils.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatBlockWindow: () => (/* binding */ formatBlockWindow),\n/* harmony export */   getBlockEnd: () => (/* binding */ getBlockEnd),\n/* harmony export */   getBlockStart: () => (/* binding */ getBlockStart),\n/* harmony export */   getCurrentBlockFromReading: () => (/* binding */ getCurrentBlockFromReading)\n/* harmony export */ });\n/**\n * Utility functions for calculating 30-minute blocks.\n * Blocks start at midnight (00:00) and are 30 minutes each.\n * Block 0: 00:00-00:30, Block 1: 00:30-01:00, etc.\n */ /**\n * Utility functions for calculating 30-minute blocks.\n * Blocks start at midnight (00:00) and are 30 minutes each.\n * Block 0: 00:00-00:30, Block 1: 00:30-01:00, etc.\n */ const TIMEZONE = \"Asia/Kuala_Lumpur\" ?? 0;\n/**\n * Calculate the 30-minute block start time from a given timestamp.\n * Blocks start at midnight and are 30 minutes each.\n * Uses the configured timezone (default: Asia/Kuala_Lumpur).\n * \n * @param timestamp - ISO string or Date object (UTC)\n * @returns ISO string of the block start time (in UTC, representing the local midnight block start)\n */ function getBlockStart(timestamp) {\n    const date = typeof timestamp === \"string\" ? new Date(timestamp) : timestamp;\n    // Get the date/time components in the target timezone\n    const formatter = new Intl.DateTimeFormat(\"en-CA\", {\n        timeZone: TIMEZONE,\n        year: \"numeric\",\n        month: \"2-digit\",\n        day: \"2-digit\",\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n        hour12: false\n    });\n    const parts = formatter.formatToParts(date);\n    const getPart = (type)=>parts.find((p)=>p.type === type).value;\n    const year = parseInt(getPart(\"year\"));\n    const month = parseInt(getPart(\"month\")) - 1; // Month is 0-indexed\n    const day = parseInt(getPart(\"day\"));\n    const hour = parseInt(getPart(\"hour\"));\n    const minute = parseInt(getPart(\"minute\"));\n    // Round down to the nearest 30-minute block\n    const roundedMinutes = Math.floor(minute / 30) * 30;\n    // Find the UTC time that represents this local time in the target timezone\n    // We use an iterative approach: start with an approximation and refine it\n    const desiredLocalMinutes = hour * 60 + roundedMinutes;\n    // Start with the original UTC time as a base\n    let candidateUTC = new Date(date.getTime());\n    // Iterate to find the UTC time that produces the desired local time\n    // This handles timezone offsets correctly, including day boundaries\n    for(let i = 0; i < 10; i++){\n        const candidateParts = formatter.formatToParts(candidateUTC);\n        const getCandidatePart = (type)=>candidateParts.find((p)=>p.type === type).value;\n        const candidateYear = parseInt(getCandidatePart(\"year\"));\n        const candidateMonth = parseInt(getCandidatePart(\"month\")) - 1;\n        const candidateDay = parseInt(getCandidatePart(\"day\"));\n        const candidateHour = parseInt(getCandidatePart(\"hour\"));\n        const candidateMinute = parseInt(getCandidatePart(\"minute\"));\n        // Check if we have the right year, month, day, hour, and rounded minute\n        if (candidateYear === year && candidateMonth === month && candidateDay === day && candidateHour === hour && candidateMinute === roundedMinutes) {\n            return candidateUTC.toISOString();\n        }\n        // Calculate the difference and adjust\n        const candidateLocalMinutes = candidateHour * 60 + candidateMinute;\n        const diffMinutes = desiredLocalMinutes - candidateLocalMinutes;\n        // Also account for day changes\n        let dayDiff = 0;\n        if (candidateYear !== year || candidateMonth !== month || candidateDay !== day) {\n            // Day mismatch - adjust by a day\n            const candidateDate = new Date(candidateYear, candidateMonth, candidateDay);\n            const desiredDate = new Date(year, month, day);\n            dayDiff = Math.round((desiredDate.getTime() - candidateDate.getTime()) / (24 * 60 * 60 * 1000));\n        }\n        // Adjust the candidate UTC time\n        candidateUTC = new Date(candidateUTC.getTime() + diffMinutes * 60 * 1000 + dayDiff * 24 * 60 * 60 * 1000);\n    }\n    // Fallback: return the original date rounded to 30 minutes (won't be perfect but better than error)\n    return candidateUTC.toISOString();\n}\n/**\n * Calculate the 30-minute block end time from a block start time.\n * \n * @param blockStart - ISO string of block start time\n * @returns ISO string of the block end time\n */ function getBlockEnd(blockStart) {\n    const start = new Date(blockStart);\n    const end = new Date(start.getTime() + 30 * 60 * 1000);\n    return end.toISOString();\n}\n/**\n * Get the current 30-minute block based on the last received reading timestamp.\n * In prototype mode, this determines the block from the reading timestamp, not real-world time.\n * \n * @param lastReadingTs - ISO string of the last reading timestamp (device_ts)\n * @returns Object with block start and end times (ISO strings)\n */ function getCurrentBlockFromReading(lastReadingTs) {\n    if (!lastReadingTs) {\n        return null;\n    }\n    const start = getBlockStart(lastReadingTs);\n    const end = getBlockEnd(start);\n    return {\n        start,\n        end\n    };\n}\n/**\n * Format block time range for display.\n * \n * @param start - ISO string of block start\n * @param end - ISO string of block end\n * @param timezone - Timezone label (e.g., \"Asia/Kuala_Lumpur\")\n * @returns Formatted string like \"14:00 â€“ 14:30\"\n */ function formatBlockWindow(start, end, timezone = \"Asia/Kuala_Lumpur\") {\n    const formatter = new Intl.DateTimeFormat(undefined, {\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n        timeZone: timezone\n    });\n    try {\n        const startDate = new Date(start);\n        const endDate = new Date(end);\n        return `${formatter.format(startDate)} â€“ ${formatter.format(endDate)}`;\n    } catch  {\n        return \"Invalid time range\";\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBT2IsYUFBYVUsV0FBVztBQUNqQztBQUVBOzs7OztDQUtDLEdBQ00sU0FBU08sWUFBWUMsVUFBa0I7SUFDNUMsTUFBTUMsUUFBUSxJQUFJMUMsS0FBS3lDO0lBQ3ZCLE1BQU1FLE1BQU0sSUFBSTNDLEtBQUswQyxNQUFNbEIsT0FBTyxLQUFLLEtBQUssS0FBSztJQUNqRCxPQUFPbUIsSUFBSVYsV0FBVztBQUN4QjtBQUVBOzs7Ozs7Q0FNQyxHQUNNLFNBQVNXLDJCQUEyQkMsYUFBd0M7SUFDakYsSUFBSSxDQUFDQSxlQUFlO1FBQ2xCLE9BQU87SUFDVDtJQUVBLE1BQU1ILFFBQVE3QyxjQUFjZ0Q7SUFDNUIsTUFBTUYsTUFBTUgsWUFBWUU7SUFFeEIsT0FBTztRQUFFQTtRQUFPQztJQUFJO0FBQ3RCO0FBRUE7Ozs7Ozs7Q0FPQyxHQUNNLFNBQVNHLGtCQUFrQkosS0FBYSxFQUFFQyxHQUFXLEVBQUVJLFdBQW1CLG1CQUFtQjtJQUNsRyxNQUFNOUMsWUFBWSxJQUFJQyxLQUFLQyxjQUFjLENBQUM2QyxXQUFXO1FBQ25EeEMsTUFBTTtRQUNOQyxRQUFRO1FBQ1JMLFVBQVUyQztJQUNaO0lBRUEsSUFBSTtRQUNGLE1BQU1FLFlBQVksSUFBSWpELEtBQUswQztRQUMzQixNQUFNUSxVQUFVLElBQUlsRCxLQUFLMkM7UUFDekIsT0FBTyxDQUFDLEVBQUUxQyxVQUFVa0QsTUFBTSxDQUFDRixXQUFXLEdBQUcsRUFBRWhELFVBQVVrRCxNQUFNLENBQUNELFNBQVMsQ0FBQztJQUN4RSxFQUFFLE9BQU07UUFDTixPQUFPO0lBQ1Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2V0ZXJuYWxneS1lbXMtZnJvbnRlbmQvLi9zcmMvbGliL2Jsb2NrLXV0aWxzLnRzP2ZjYTMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9ucyBmb3IgY2FsY3VsYXRpbmcgMzAtbWludXRlIGJsb2Nrcy5cbiAqIEJsb2NrcyBzdGFydCBhdCBtaWRuaWdodCAoMDA6MDApIGFuZCBhcmUgMzAgbWludXRlcyBlYWNoLlxuICogQmxvY2sgMDogMDA6MDAtMDA6MzAsIEJsb2NrIDE6IDAwOjMwLTAxOjAwLCBldGMuXG4gKi9cblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9ucyBmb3IgY2FsY3VsYXRpbmcgMzAtbWludXRlIGJsb2Nrcy5cbiAqIEJsb2NrcyBzdGFydCBhdCBtaWRuaWdodCAoMDA6MDApIGFuZCBhcmUgMzAgbWludXRlcyBlYWNoLlxuICogQmxvY2sgMDogMDA6MDAtMDA6MzAsIEJsb2NrIDE6IDAwOjMwLTAxOjAwLCBldGMuXG4gKi9cblxuY29uc3QgVElNRVpPTkUgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19USU1FWk9ORV9MQUJFTCA/PyBcIkFzaWEvS3VhbGFfTHVtcHVyXCI7XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSAzMC1taW51dGUgYmxvY2sgc3RhcnQgdGltZSBmcm9tIGEgZ2l2ZW4gdGltZXN0YW1wLlxuICogQmxvY2tzIHN0YXJ0IGF0IG1pZG5pZ2h0IGFuZCBhcmUgMzAgbWludXRlcyBlYWNoLlxuICogVXNlcyB0aGUgY29uZmlndXJlZCB0aW1lem9uZSAoZGVmYXVsdDogQXNpYS9LdWFsYV9MdW1wdXIpLlxuICogXG4gKiBAcGFyYW0gdGltZXN0YW1wIC0gSVNPIHN0cmluZyBvciBEYXRlIG9iamVjdCAoVVRDKVxuICogQHJldHVybnMgSVNPIHN0cmluZyBvZiB0aGUgYmxvY2sgc3RhcnQgdGltZSAoaW4gVVRDLCByZXByZXNlbnRpbmcgdGhlIGxvY2FsIG1pZG5pZ2h0IGJsb2NrIHN0YXJ0KVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QmxvY2tTdGFydCh0aW1lc3RhbXA6IHN0cmluZyB8IERhdGUpOiBzdHJpbmcge1xuICBjb25zdCBkYXRlID0gdHlwZW9mIHRpbWVzdGFtcCA9PT0gJ3N0cmluZycgPyBuZXcgRGF0ZSh0aW1lc3RhbXApIDogdGltZXN0YW1wO1xuICBcbiAgLy8gR2V0IHRoZSBkYXRlL3RpbWUgY29tcG9uZW50cyBpbiB0aGUgdGFyZ2V0IHRpbWV6b25lXG4gIGNvbnN0IGZvcm1hdHRlciA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KCdlbi1DQScsIHtcbiAgICB0aW1lWm9uZTogVElNRVpPTkUsXG4gICAgeWVhcjogJ251bWVyaWMnLFxuICAgIG1vbnRoOiAnMi1kaWdpdCcsXG4gICAgZGF5OiAnMi1kaWdpdCcsXG4gICAgaG91cjogJzItZGlnaXQnLFxuICAgIG1pbnV0ZTogJzItZGlnaXQnLFxuICAgIGhvdXIxMjogZmFsc2VcbiAgfSk7XG4gIFxuICBjb25zdCBwYXJ0cyA9IGZvcm1hdHRlci5mb3JtYXRUb1BhcnRzKGRhdGUpO1xuICBjb25zdCBnZXRQYXJ0ID0gKHR5cGU6IHN0cmluZykgPT4gcGFydHMuZmluZChwID0+IHAudHlwZSA9PT0gdHlwZSkhLnZhbHVlO1xuICBcbiAgY29uc3QgeWVhciA9IHBhcnNlSW50KGdldFBhcnQoJ3llYXInKSk7XG4gIGNvbnN0IG1vbnRoID0gcGFyc2VJbnQoZ2V0UGFydCgnbW9udGgnKSkgLSAxOyAvLyBNb250aCBpcyAwLWluZGV4ZWRcbiAgY29uc3QgZGF5ID0gcGFyc2VJbnQoZ2V0UGFydCgnZGF5JykpO1xuICBjb25zdCBob3VyID0gcGFyc2VJbnQoZ2V0UGFydCgnaG91cicpKTtcbiAgY29uc3QgbWludXRlID0gcGFyc2VJbnQoZ2V0UGFydCgnbWludXRlJykpO1xuICBcbiAgLy8gUm91bmQgZG93biB0byB0aGUgbmVhcmVzdCAzMC1taW51dGUgYmxvY2tcbiAgY29uc3Qgcm91bmRlZE1pbnV0ZXMgPSBNYXRoLmZsb29yKG1pbnV0ZSAvIDMwKSAqIDMwO1xuICBcbiAgLy8gRmluZCB0aGUgVVRDIHRpbWUgdGhhdCByZXByZXNlbnRzIHRoaXMgbG9jYWwgdGltZSBpbiB0aGUgdGFyZ2V0IHRpbWV6b25lXG4gIC8vIFdlIHVzZSBhbiBpdGVyYXRpdmUgYXBwcm9hY2g6IHN0YXJ0IHdpdGggYW4gYXBwcm94aW1hdGlvbiBhbmQgcmVmaW5lIGl0XG4gIGNvbnN0IGRlc2lyZWRMb2NhbE1pbnV0ZXMgPSBob3VyICogNjAgKyByb3VuZGVkTWludXRlcztcbiAgXG4gIC8vIFN0YXJ0IHdpdGggdGhlIG9yaWdpbmFsIFVUQyB0aW1lIGFzIGEgYmFzZVxuICBsZXQgY2FuZGlkYXRlVVRDID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO1xuICBcbiAgLy8gSXRlcmF0ZSB0byBmaW5kIHRoZSBVVEMgdGltZSB0aGF0IHByb2R1Y2VzIHRoZSBkZXNpcmVkIGxvY2FsIHRpbWVcbiAgLy8gVGhpcyBoYW5kbGVzIHRpbWV6b25lIG9mZnNldHMgY29ycmVjdGx5LCBpbmNsdWRpbmcgZGF5IGJvdW5kYXJpZXNcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7IC8vIE1heCAxMCBpdGVyYXRpb25zIHNob3VsZCBiZSBlbm91Z2hcbiAgICBjb25zdCBjYW5kaWRhdGVQYXJ0cyA9IGZvcm1hdHRlci5mb3JtYXRUb1BhcnRzKGNhbmRpZGF0ZVVUQyk7XG4gICAgY29uc3QgZ2V0Q2FuZGlkYXRlUGFydCA9ICh0eXBlOiBzdHJpbmcpID0+IGNhbmRpZGF0ZVBhcnRzLmZpbmQocCA9PiBwLnR5cGUgPT09IHR5cGUpIS52YWx1ZTtcbiAgICBcbiAgICBjb25zdCBjYW5kaWRhdGVZZWFyID0gcGFyc2VJbnQoZ2V0Q2FuZGlkYXRlUGFydCgneWVhcicpKTtcbiAgICBjb25zdCBjYW5kaWRhdGVNb250aCA9IHBhcnNlSW50KGdldENhbmRpZGF0ZVBhcnQoJ21vbnRoJykpIC0gMTtcbiAgICBjb25zdCBjYW5kaWRhdGVEYXkgPSBwYXJzZUludChnZXRDYW5kaWRhdGVQYXJ0KCdkYXknKSk7XG4gICAgY29uc3QgY2FuZGlkYXRlSG91ciA9IHBhcnNlSW50KGdldENhbmRpZGF0ZVBhcnQoJ2hvdXInKSk7XG4gICAgY29uc3QgY2FuZGlkYXRlTWludXRlID0gcGFyc2VJbnQoZ2V0Q2FuZGlkYXRlUGFydCgnbWludXRlJykpO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgdGhlIHJpZ2h0IHllYXIsIG1vbnRoLCBkYXksIGhvdXIsIGFuZCByb3VuZGVkIG1pbnV0ZVxuICAgIGlmIChjYW5kaWRhdGVZZWFyID09PSB5ZWFyICYmIFxuICAgICAgICBjYW5kaWRhdGVNb250aCA9PT0gbW9udGggJiYgXG4gICAgICAgIGNhbmRpZGF0ZURheSA9PT0gZGF5ICYmIFxuICAgICAgICBjYW5kaWRhdGVIb3VyID09PSBob3VyICYmIFxuICAgICAgICBjYW5kaWRhdGVNaW51dGUgPT09IHJvdW5kZWRNaW51dGVzKSB7XG4gICAgICByZXR1cm4gY2FuZGlkYXRlVVRDLnRvSVNPU3RyaW5nKCk7XG4gICAgfVxuICAgIFxuICAgIC8vIENhbGN1bGF0ZSB0aGUgZGlmZmVyZW5jZSBhbmQgYWRqdXN0XG4gICAgY29uc3QgY2FuZGlkYXRlTG9jYWxNaW51dGVzID0gY2FuZGlkYXRlSG91ciAqIDYwICsgY2FuZGlkYXRlTWludXRlO1xuICAgIGNvbnN0IGRpZmZNaW51dGVzID0gZGVzaXJlZExvY2FsTWludXRlcyAtIGNhbmRpZGF0ZUxvY2FsTWludXRlcztcbiAgICBcbiAgICAvLyBBbHNvIGFjY291bnQgZm9yIGRheSBjaGFuZ2VzXG4gICAgbGV0IGRheURpZmYgPSAwO1xuICAgIGlmIChjYW5kaWRhdGVZZWFyICE9PSB5ZWFyIHx8IGNhbmRpZGF0ZU1vbnRoICE9PSBtb250aCB8fCBjYW5kaWRhdGVEYXkgIT09IGRheSkge1xuICAgICAgLy8gRGF5IG1pc21hdGNoIC0gYWRqdXN0IGJ5IGEgZGF5XG4gICAgICBjb25zdCBjYW5kaWRhdGVEYXRlID0gbmV3IERhdGUoY2FuZGlkYXRlWWVhciwgY2FuZGlkYXRlTW9udGgsIGNhbmRpZGF0ZURheSk7XG4gICAgICBjb25zdCBkZXNpcmVkRGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpO1xuICAgICAgZGF5RGlmZiA9IE1hdGgucm91bmQoKGRlc2lyZWREYXRlLmdldFRpbWUoKSAtIGNhbmRpZGF0ZURhdGUuZ2V0VGltZSgpKSAvICgyNCAqIDYwICogNjAgKiAxMDAwKSk7XG4gICAgfVxuICAgIFxuICAgIC8vIEFkanVzdCB0aGUgY2FuZGlkYXRlIFVUQyB0aW1lXG4gICAgY2FuZGlkYXRlVVRDID0gbmV3IERhdGUoY2FuZGlkYXRlVVRDLmdldFRpbWUoKSArIGRpZmZNaW51dGVzICogNjAgKiAxMDAwICsgZGF5RGlmZiAqIDI0ICogNjAgKiA2MCAqIDEwMDApO1xuICB9XG4gIFxuICAvLyBGYWxsYmFjazogcmV0dXJuIHRoZSBvcmlnaW5hbCBkYXRlIHJvdW5kZWQgdG8gMzAgbWludXRlcyAod29uJ3QgYmUgcGVyZmVjdCBidXQgYmV0dGVyIHRoYW4gZXJyb3IpXG4gIHJldHVybiBjYW5kaWRhdGVVVEMudG9JU09TdHJpbmcoKTtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIDMwLW1pbnV0ZSBibG9jayBlbmQgdGltZSBmcm9tIGEgYmxvY2sgc3RhcnQgdGltZS5cbiAqIFxuICogQHBhcmFtIGJsb2NrU3RhcnQgLSBJU08gc3RyaW5nIG9mIGJsb2NrIHN0YXJ0IHRpbWVcbiAqIEByZXR1cm5zIElTTyBzdHJpbmcgb2YgdGhlIGJsb2NrIGVuZCB0aW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRCbG9ja0VuZChibG9ja1N0YXJ0OiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKGJsb2NrU3RhcnQpO1xuICBjb25zdCBlbmQgPSBuZXcgRGF0ZShzdGFydC5nZXRUaW1lKCkgKyAzMCAqIDYwICogMTAwMCk7XG4gIHJldHVybiBlbmQudG9JU09TdHJpbmcoKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGN1cnJlbnQgMzAtbWludXRlIGJsb2NrIGJhc2VkIG9uIHRoZSBsYXN0IHJlY2VpdmVkIHJlYWRpbmcgdGltZXN0YW1wLlxuICogSW4gcHJvdG90eXBlIG1vZGUsIHRoaXMgZGV0ZXJtaW5lcyB0aGUgYmxvY2sgZnJvbSB0aGUgcmVhZGluZyB0aW1lc3RhbXAsIG5vdCByZWFsLXdvcmxkIHRpbWUuXG4gKiBcbiAqIEBwYXJhbSBsYXN0UmVhZGluZ1RzIC0gSVNPIHN0cmluZyBvZiB0aGUgbGFzdCByZWFkaW5nIHRpbWVzdGFtcCAoZGV2aWNlX3RzKVxuICogQHJldHVybnMgT2JqZWN0IHdpdGggYmxvY2sgc3RhcnQgYW5kIGVuZCB0aW1lcyAoSVNPIHN0cmluZ3MpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDdXJyZW50QmxvY2tGcm9tUmVhZGluZyhsYXN0UmVhZGluZ1RzOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkKTogeyBzdGFydDogc3RyaW5nOyBlbmQ6IHN0cmluZyB9IHwgbnVsbCB7XG4gIGlmICghbGFzdFJlYWRpbmdUcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIFxuICBjb25zdCBzdGFydCA9IGdldEJsb2NrU3RhcnQobGFzdFJlYWRpbmdUcyk7XG4gIGNvbnN0IGVuZCA9IGdldEJsb2NrRW5kKHN0YXJ0KTtcbiAgXG4gIHJldHVybiB7IHN0YXJ0LCBlbmQgfTtcbn1cblxuLyoqXG4gKiBGb3JtYXQgYmxvY2sgdGltZSByYW5nZSBmb3IgZGlzcGxheS5cbiAqIFxuICogQHBhcmFtIHN0YXJ0IC0gSVNPIHN0cmluZyBvZiBibG9jayBzdGFydFxuICogQHBhcmFtIGVuZCAtIElTTyBzdHJpbmcgb2YgYmxvY2sgZW5kXG4gKiBAcGFyYW0gdGltZXpvbmUgLSBUaW1lem9uZSBsYWJlbCAoZS5nLiwgXCJBc2lhL0t1YWxhX0x1bXB1clwiKVxuICogQHJldHVybnMgRm9ybWF0dGVkIHN0cmluZyBsaWtlIFwiMTQ6MDAg4oCTIDE0OjMwXCJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEJsb2NrV2luZG93KHN0YXJ0OiBzdHJpbmcsIGVuZDogc3RyaW5nLCB0aW1lem9uZTogc3RyaW5nID0gXCJBc2lhL0t1YWxhX0x1bXB1clwiKTogc3RyaW5nIHtcbiAgY29uc3QgZm9ybWF0dGVyID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQodW5kZWZpbmVkLCB7XG4gICAgaG91cjogXCIyLWRpZ2l0XCIsXG4gICAgbWludXRlOiBcIjItZGlnaXRcIixcbiAgICB0aW1lWm9uZTogdGltZXpvbmVcbiAgfSk7XG4gIFxuICB0cnkge1xuICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKHN0YXJ0KTtcbiAgICBjb25zdCBlbmREYXRlID0gbmV3IERhdGUoZW5kKTtcbiAgICByZXR1cm4gYCR7Zm9ybWF0dGVyLmZvcm1hdChzdGFydERhdGUpfSDigJMgJHtmb3JtYXR0ZXIuZm9ybWF0KGVuZERhdGUpfWA7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBcIkludmFsaWQgdGltZSByYW5nZVwiO1xuICB9XG59XG5cbiJdLCJuYW1lcyI6WyJUSU1FWk9ORSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19USU1FWk9ORV9MQUJFTCIsImdldEJsb2NrU3RhcnQiLCJ0aW1lc3RhbXAiLCJkYXRlIiwiRGF0ZSIsImZvcm1hdHRlciIsIkludGwiLCJEYXRlVGltZUZvcm1hdCIsInRpbWVab25lIiwieWVhciIsIm1vbnRoIiwiZGF5IiwiaG91ciIsIm1pbnV0ZSIsImhvdXIxMiIsInBhcnRzIiwiZm9ybWF0VG9QYXJ0cyIsImdldFBhcnQiLCJ0eXBlIiwiZmluZCIsInAiLCJ2YWx1ZSIsInBhcnNlSW50Iiwicm91bmRlZE1pbnV0ZXMiLCJNYXRoIiwiZmxvb3IiLCJkZXNpcmVkTG9jYWxNaW51dGVzIiwiY2FuZGlkYXRlVVRDIiwiZ2V0VGltZSIsImkiLCJjYW5kaWRhdGVQYXJ0cyIsImdldENhbmRpZGF0ZVBhcnQiLCJjYW5kaWRhdGVZZWFyIiwiY2FuZGlkYXRlTW9udGgiLCJjYW5kaWRhdGVEYXkiLCJjYW5kaWRhdGVIb3VyIiwiY2FuZGlkYXRlTWludXRlIiwidG9JU09TdHJpbmciLCJjYW5kaWRhdGVMb2NhbE1pbnV0ZXMiLCJkaWZmTWludXRlcyIsImRheURpZmYiLCJjYW5kaWRhdGVEYXRlIiwiZGVzaXJlZERhdGUiLCJyb3VuZCIsImdldEJsb2NrRW5kIiwiYmxvY2tTdGFydCIsInN0YXJ0IiwiZW5kIiwiZ2V0Q3VycmVudEJsb2NrRnJvbVJlYWRpbmciLCJsYXN0UmVhZGluZ1RzIiwiZm9ybWF0QmxvY2tXaW5kb3ciLCJ0aW1lem9uZSIsInVuZGVmaW5lZCIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJmb3JtYXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/block-utils.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/hooks.ts":
/*!**************************!*\
  !*** ./src/lib/hooks.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useBlockHistory: () => (/* binding */ useBlockHistory),\n/* harmony export */   useLatestBlock: () => (/* binding */ useLatestBlock),\n/* harmony export */   useSimulators: () => (/* binding */ useSimulators)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./api */ \"(ssr)/./src/lib/api.ts\");\n/* harmony import */ var _components_ui_toast_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/toast-provider */ \"(ssr)/./src/components/ui/toast-provider.tsx\");\n/* __next_internal_client_entry_do_not_use__ useSimulators,useLatestBlock,useBlockHistory auto */ \n\n\nfunction useSimulators(initialSimulators = []) {\n    const { push } = (0,_components_ui_toast_provider__WEBPACK_IMPORTED_MODULE_2__.useToast)();\n    const [simulators, setSimulators] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialSimulators);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialSimulators.length === 0);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const refresh = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        setLoading(true);\n        try {\n            const data = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.getSimulators)();\n            setSimulators(data);\n            setError(null);\n        } catch (error) {\n            const message = error instanceof Error ? error.message : \"Failed to load simulators\";\n            setError(message);\n            push({\n                title: \"Unable to load simulators\",\n                description: message,\n                variant: \"error\"\n            });\n        } finally{\n            setLoading(false);\n        }\n    }, [\n        push\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (initialSimulators.length === 0) {\n            void refresh();\n        }\n    }, [\n        initialSimulators.length,\n        refresh\n    ]);\n    const create = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (input)=>{\n        try {\n            const simulator = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.createSimulator)(input);\n            // After a successful create, refresh from the server to ensure we show\n            // the persisted record and any server-side defaults/derived fields.\n            await refresh();\n            push({\n                title: \"Simulator created\",\n                description: `${simulator.name} is ready to run.`,\n                variant: \"success\"\n            });\n            return simulator;\n        } catch (error) {\n            // Surface backend validation messages (e.g., 422) clearly in the UI and console.\n            const message = error instanceof Error ? error.message : \"Failed to create simulator\";\n            // Log full error object for precise debugging (payload may contain field-level details)\n            // without disrupting the user experience.\n            // eslint-disable-next-line no-console\n            console.error(\"Create simulator failed\", error);\n            push({\n                title: \"Create simulator failed\",\n                description: message,\n                variant: \"error\"\n            });\n            throw error;\n        }\n    }, [\n        push,\n        refresh\n    ]);\n    const del = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (id)=>{\n        try {\n            await (0,_api__WEBPACK_IMPORTED_MODULE_1__.deleteSimulator)(id);\n            // After a successful delete, filter the item out of the local state\n            // for an immediate UI update, then trigger a full refresh from the\n            // server to ensure consistency.\n            setSimulators((prev)=>prev.filter((sim)=>sim.id !== id));\n            void refresh();\n            push({\n                title: \"Simulator deleted\",\n                variant: \"success\"\n            });\n        } catch (error) {\n            const message = error instanceof Error ? error.message : \"Failed to delete simulator\";\n            console.error(\"Delete simulator failed\", error);\n            push({\n                title: \"Delete failed\",\n                description: message,\n                variant: \"error\"\n            });\n            throw error;\n        }\n    }, [\n        push,\n        refresh\n    ]);\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({\n            simulators,\n            loading,\n            error,\n            refresh,\n            create,\n            delete: del\n        }), [\n        simulators,\n        loading,\n        error,\n        refresh,\n        create,\n        del\n    ]);\n}\nfunction useLatestBlock(simulatorId, options = {}, initialBlock = null) {\n    const { push, dismiss } = (0,_components_ui_toast_provider__WEBPACK_IMPORTED_MODULE_2__.useToast)();\n    const { onAlert80pct, onWindowChange } = options;\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        block: initialBlock,\n        loading: !initialBlock && !!simulatorId,\n        error: null,\n        connected: false,\n        reconnecting: false,\n        lastReadingTs: undefined\n    });\n    const alertRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const reconnectToastId = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const refresh = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        if (!simulatorId) return;\n        // Only show loading if we don't have block data yet (initial load)\n        // Don't show loading during refreshes to avoid flickering\n        setState((prev)=>({\n                ...prev,\n                loading: prev.block == null\n            }));\n        try {\n            const block = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.fetchLatestBlock)(simulatorId);\n            setState((prev)=>({\n                    ...prev,\n                    block,\n                    loading: false,\n                    error: null\n                }));\n        } catch (error) {\n            const message = error instanceof Error ? error.message : \"Failed to load latest block\";\n            setState((prev)=>({\n                    ...prev,\n                    loading: false,\n                    error: message\n                }));\n            push({\n                title: \"Unable to load latest block\",\n                description: message,\n                variant: \"error\"\n            });\n        } finally{\n            setState((prev)=>({\n                    ...prev,\n                    loading: false\n                }));\n        }\n    }, [\n        simulatorId,\n        push\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!simulatorId) {\n            setState((prev)=>({\n                    ...prev,\n                    block: null,\n                    loading: false,\n                    error: null,\n                    connected: false,\n                    reconnecting: false\n                }));\n            return;\n        }\n        if (initialBlock) {\n            setState((prev)=>({\n                    ...prev,\n                    block: initialBlock,\n                    loading: false\n                }));\n        }\n        let cancelled = false;\n        const load = async ()=>{\n            setState((prev)=>({\n                    ...prev,\n                    loading: prev.block == null\n                }));\n            try {\n                const block = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.fetchLatestBlock)(simulatorId);\n                if (!cancelled) {\n                    setState((prev)=>({\n                            ...prev,\n                            block,\n                            loading: false,\n                            error: null\n                        }));\n                }\n            } catch (error) {\n                if (!cancelled) {\n                    const message = error instanceof Error ? error.message : \"Failed to load latest block\";\n                    setState((prev)=>({\n                            ...prev,\n                            loading: false,\n                            error: message\n                        }));\n                    push({\n                        title: \"Unable to load latest block\",\n                        description: message,\n                        variant: \"error\"\n                    });\n                }\n            }\n        };\n        void load();\n        let source = null;\n        let disposed = false;\n        let refreshDebounceTimer = null;\n        let sseUrl;\n        try {\n            sseUrl = (0,_api__WEBPACK_IMPORTED_MODULE_1__.simulatorEndpoint)(`/api/v1/stream/${simulatorId}`);\n        } catch (error) {\n            const message = error instanceof Error ? error.message : \"Backend URL is not configured.\";\n            setState((prev)=>({\n                    ...prev,\n                    error: message,\n                    reconnecting: false,\n                    connected: false\n                }));\n            push({\n                title: \"SSE connection failed\",\n                description: message,\n                variant: \"error\"\n            });\n            return ()=>undefined;\n        }\n        const openStream = ()=>{\n            if (disposed) return;\n            source = new EventSource(sseUrl);\n            source.addEventListener(\"open\", ()=>{\n                if (reconnectToastId.current) {\n                    dismiss(reconnectToastId.current);\n                    reconnectToastId.current = null;\n                }\n                setState((prev)=>({\n                        ...prev,\n                        connected: true,\n                        reconnecting: false\n                    }));\n            });\n            source.addEventListener(\"error\", ()=>{\n                setState((prev)=>({\n                        ...prev,\n                        connected: false,\n                        reconnecting: true\n                    }));\n                if (!reconnectToastId.current) {\n                    reconnectToastId.current = push({\n                        title: \"Reconnecting to live stream\",\n                        description: \"Attempting to re-establish SSE connectionâ€¦\",\n                        variant: \"warning\",\n                        dismissible: false\n                    });\n                }\n            });\n            const handleEvent = (event)=>{\n                try {\n                    const data = JSON.parse(event.data);\n                    processEvent(data);\n                } catch (error) {\n                    console.warn(\"Failed to parse SSE event\", error);\n                }\n            };\n            const processEvent = (event)=>{\n                if (event.type === \"reading\") {\n                    // Update lastReadingTs from SSE event\n                    setState((prev)=>({\n                            ...prev,\n                            lastReadingTs: event.ts\n                        }));\n                    // Auto-refresh block data when reading is received (for prototype - ensures chart updates)\n                    // Use debouncing to batch rapid readings\n                    if (!cancelled && !disposed) {\n                        if (refreshDebounceTimer) {\n                            clearTimeout(refreshDebounceTimer);\n                        }\n                        refreshDebounceTimer = setTimeout(()=>{\n                            if (!disposed && !cancelled) {\n                                void refresh();\n                            }\n                        }, 500); // 500ms debounce for rapid readings\n                    }\n                    return;\n                }\n                setState((prev)=>{\n                    if (event.type === \"alert-80pct\") {\n                        if (!alertRef.current) {\n                            alertRef.current = true;\n                        }\n                        onAlert80pct?.(event.message);\n                        push({\n                            title: \"Block alert\",\n                            description: event.message || \"Reached 80% of target for this block.\",\n                            variant: \"warning\"\n                        });\n                        return prev;\n                    }\n                    if (event.type === \"block-update\") {\n                        const previousBlock = prev.block;\n                        const nextBlock = previousBlock ? {\n                            ...previousBlock,\n                            accumulated_kwh: event.accumulated_kwh,\n                            percent_of_target: event.percent_of_target,\n                            chart_bins: event.chart_bins ?? previousBlock.chart_bins,\n                            block_start_local: event.block_start_local ?? previousBlock.block_start_local\n                        } : previousBlock;\n                        if (previousBlock && event.block_start_local && event.block_start_local !== previousBlock.block_start_local) {\n                            alertRef.current = false;\n                            onWindowChange?.(event.block_start_local);\n                        }\n                        return {\n                            ...prev,\n                            block: nextBlock,\n                            error: null\n                        };\n                    }\n                    return prev;\n                });\n            };\n            source.addEventListener(\"message\", handleEvent);\n            source.addEventListener(\"reading\", handleEvent);\n            source.addEventListener(\"block-update\", handleEvent);\n            source.addEventListener(\"alert-80pct\", handleEvent);\n            source.addEventListener(\"ping\", ()=>{\n                setState((prev)=>({\n                        ...prev,\n                        connected: true,\n                        reconnecting: false\n                    }));\n            });\n        };\n        openStream();\n        return ()=>{\n            cancelled = true;\n            disposed = true;\n            if (source) {\n                source.close();\n            }\n            if (refreshDebounceTimer) {\n                clearTimeout(refreshDebounceTimer);\n                refreshDebounceTimer = null;\n            }\n            if (reconnectToastId.current) {\n                dismiss(reconnectToastId.current);\n                reconnectToastId.current = null;\n            }\n        };\n    }, [\n        dismiss,\n        initialBlock,\n        onAlert80pct,\n        onWindowChange,\n        push,\n        refresh,\n        simulatorId\n    ]);\n    return {\n        block: state.block,\n        loading: state.loading,\n        error: state.error,\n        connected: state.connected,\n        reconnecting: state.reconnecting,\n        lastReadingTs: state.lastReadingTs,\n        refresh: refresh\n    };\n}\nfunction useBlockHistory(simulatorId, limit = 10, initialHistory = []) {\n    const { push } = (0,_components_ui_toast_provider__WEBPACK_IMPORTED_MODULE_2__.useToast)();\n    const [history, setHistory] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialHistory);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(Boolean(simulatorId) && initialHistory.length === 0);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const refresh = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        if (!simulatorId) return;\n        setLoading(true);\n        try {\n            const blocks = await (0,_api__WEBPACK_IMPORTED_MODULE_1__.fetchBlockHistory)(simulatorId, limit);\n            setHistory(blocks);\n            setError(null);\n        } catch (error) {\n            const message = error instanceof Error ? error.message : \"Failed to load block history\";\n            setError(message);\n            push({\n                title: \"Unable to load block history\",\n                description: message,\n                variant: \"error\"\n            });\n        } finally{\n            setLoading(false);\n        }\n    }, [\n        limit,\n        push,\n        simulatorId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (simulatorId) {\n            if (initialHistory.length > 0) {\n                setHistory(initialHistory);\n                setLoading(false);\n            } else {\n                void refresh();\n            }\n        } else {\n            setHistory([]);\n            setLoading(false);\n        }\n    }, [\n        initialHistory,\n        refresh,\n        simulatorId\n    ]);\n    return {\n        history,\n        loading,\n        error,\n        refresh\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0U7SUFBUTtBQUM1QyIsInNvdXJjZXMiOlsid2VicGFjazovL2V0ZXJuYWxneS1lbXMtZnJvbnRlbmQvLi9zcmMvbGliL2hvb2tzLnRzP2Y2ZGQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNyZWF0ZVNpbXVsYXRvciwgZGVsZXRlU2ltdWxhdG9yLCBmZXRjaEJsb2NrSGlzdG9yeSwgZmV0Y2hMYXRlc3RCbG9jaywgZ2V0U2ltdWxhdG9ycywgc2ltdWxhdG9yRW5kcG9pbnQgfSBmcm9tIFwiLi9hcGlcIjtcbmltcG9ydCB0eXBlIHsgQ3JlYXRlU2ltdWxhdG9ySW5wdXQsIEhpc3RvcnlCbG9jaywgTGF0ZXN0QmxvY2ssIFNpbXVsYXRvciwgU3NlRXZlbnQgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3RvYXN0LXByb3ZpZGVyXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VTaW11bGF0b3JzKGluaXRpYWxTaW11bGF0b3JzOiBTaW11bGF0b3JbXSA9IFtdKSB7XG4gIGNvbnN0IHsgcHVzaCB9ID0gdXNlVG9hc3QoKTtcbiAgY29uc3QgW3NpbXVsYXRvcnMsIHNldFNpbXVsYXRvcnNdID0gdXNlU3RhdGU8U2ltdWxhdG9yW10+KGluaXRpYWxTaW11bGF0b3JzKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoaW5pdGlhbFNpbXVsYXRvcnMubGVuZ3RoID09PSAwKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICBjb25zdCByZWZyZXNoID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBnZXRTaW11bGF0b3JzKCk7XG4gICAgICBzZXRTaW11bGF0b3JzKGRhdGEpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIGxvYWQgc2ltdWxhdG9yc1wiO1xuICAgICAgc2V0RXJyb3IobWVzc2FnZSk7XG4gICAgICBwdXNoKHtcbiAgICAgICAgdGl0bGU6IFwiVW5hYmxlIHRvIGxvYWQgc2ltdWxhdG9yc1wiLFxuICAgICAgICBkZXNjcmlwdGlvbjogbWVzc2FnZSxcbiAgICAgICAgdmFyaWFudDogXCJlcnJvclwiXG4gICAgICB9KTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbcHVzaF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGluaXRpYWxTaW11bGF0b3JzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdm9pZCByZWZyZXNoKCk7XG4gICAgfVxuICB9LCBbaW5pdGlhbFNpbXVsYXRvcnMubGVuZ3RoLCByZWZyZXNoXSk7XG5cbiAgY29uc3QgY3JlYXRlID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKGlucHV0OiBDcmVhdGVTaW11bGF0b3JJbnB1dCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2ltdWxhdG9yID0gYXdhaXQgY3JlYXRlU2ltdWxhdG9yKGlucHV0KTtcbiAgICAgICAgLy8gQWZ0ZXIgYSBzdWNjZXNzZnVsIGNyZWF0ZSwgcmVmcmVzaCBmcm9tIHRoZSBzZXJ2ZXIgdG8gZW5zdXJlIHdlIHNob3dcbiAgICAgICAgLy8gdGhlIHBlcnNpc3RlZCByZWNvcmQgYW5kIGFueSBzZXJ2ZXItc2lkZSBkZWZhdWx0cy9kZXJpdmVkIGZpZWxkcy5cbiAgICAgICAgYXdhaXQgcmVmcmVzaCgpO1xuICAgICAgICBwdXNoKHtcbiAgICAgICAgICB0aXRsZTogXCJTaW11bGF0b3IgY3JlYXRlZFwiLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBgJHtzaW11bGF0b3IubmFtZX0gaXMgcmVhZHkgdG8gcnVuLmAsXG4gICAgICAgICAgdmFyaWFudDogXCJzdWNjZXNzXCJcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzaW11bGF0b3I7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBTdXJmYWNlIGJhY2tlbmQgdmFsaWRhdGlvbiBtZXNzYWdlcyAoZS5nLiwgNDIyKSBjbGVhcmx5IGluIHRoZSBVSSBhbmQgY29uc29sZS5cbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gY3JlYXRlIHNpbXVsYXRvclwiO1xuICAgICAgICAvLyBMb2cgZnVsbCBlcnJvciBvYmplY3QgZm9yIHByZWNpc2UgZGVidWdnaW5nIChwYXlsb2FkIG1heSBjb250YWluIGZpZWxkLWxldmVsIGRldGFpbHMpXG4gICAgICAgIC8vIHdpdGhvdXQgZGlzcnVwdGluZyB0aGUgdXNlciBleHBlcmllbmNlLlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLmVycm9yKFwiQ3JlYXRlIHNpbXVsYXRvciBmYWlsZWRcIiwgZXJyb3IpO1xuICAgICAgICBwdXNoKHtcbiAgICAgICAgICB0aXRsZTogXCJDcmVhdGUgc2ltdWxhdG9yIGZhaWxlZFwiLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBtZXNzYWdlLFxuICAgICAgICAgIHZhcmlhbnQ6IFwiZXJyb3JcIlxuICAgICAgICB9KTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfSxcbiAgICBbcHVzaCwgcmVmcmVzaF1cbiAgKTtcblxuICBjb25zdCBkZWwgPSB1c2VDYWxsYmFjayhcbiAgICBhc3luYyAoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZGVsZXRlU2ltdWxhdG9yKGlkKTtcbiAgICAgICAgLy8gQWZ0ZXIgYSBzdWNjZXNzZnVsIGRlbGV0ZSwgZmlsdGVyIHRoZSBpdGVtIG91dCBvZiB0aGUgbG9jYWwgc3RhdGVcbiAgICAgICAgLy8gZm9yIGFuIGltbWVkaWF0ZSBVSSB1cGRhdGUsIHRoZW4gdHJpZ2dlciBhIGZ1bGwgcmVmcmVzaCBmcm9tIHRoZVxuICAgICAgICAvLyBzZXJ2ZXIgdG8gZW5zdXJlIGNvbnNpc3RlbmN5LlxuICAgICAgICBzZXRTaW11bGF0b3JzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoc2ltKSA9PiBzaW0uaWQgIT09IGlkKSk7XG4gICAgICAgIHZvaWQgcmVmcmVzaCgpO1xuICAgICAgICBwdXNoKHtcbiAgICAgICAgICB0aXRsZTogXCJTaW11bGF0b3IgZGVsZXRlZFwiLFxuICAgICAgICAgIHZhcmlhbnQ6IFwic3VjY2Vzc1wiXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gZGVsZXRlIHNpbXVsYXRvclwiO1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRGVsZXRlIHNpbXVsYXRvciBmYWlsZWRcIiwgZXJyb3IpO1xuICAgICAgICBwdXNoKHtcbiAgICAgICAgICB0aXRsZTogXCJEZWxldGUgZmFpbGVkXCIsXG4gICAgICAgICAgZGVzY3JpcHRpb246IG1lc3NhZ2UsXG4gICAgICAgICAgdmFyaWFudDogXCJlcnJvclwiXG4gICAgICAgIH0pO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtwdXNoLCByZWZyZXNoXVxuICApO1xuXG4gIHJldHVybiB1c2VNZW1vKFxuICAgICgpID0+ICh7IHNpbXVsYXRvcnMsIGxvYWRpbmcsIGVycm9yLCByZWZyZXNoLCBjcmVhdGUsIGRlbGV0ZTogZGVsIH0pLFxuICAgIFtzaW11bGF0b3JzLCBsb2FkaW5nLCBlcnJvciwgcmVmcmVzaCwgY3JlYXRlLCBkZWxdXG4gICk7XG59XG5cbnR5cGUgTGF0ZXN0QmxvY2tPcHRpb25zID0ge1xuICBvbkFsZXJ0ODBwY3Q/OiAobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkO1xuICBvbldpbmRvd0NoYW5nZT86IChibG9ja1N0YXJ0TG9jYWw/OiBzdHJpbmcpID0+IHZvaWQ7XG59O1xuXG50eXBlIExhdGVzdEJsb2NrU3RhdGUgPSB7XG4gIGJsb2NrOiBMYXRlc3RCbG9jayB8IG51bGw7XG4gIGxvYWRpbmc6IGJvb2xlYW47XG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xuICBjb25uZWN0ZWQ6IGJvb2xlYW47XG4gIHJlY29ubmVjdGluZzogYm9vbGVhbjtcbiAgbGFzdFJlYWRpbmdUcz86IHN0cmluZztcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VMYXRlc3RCbG9jayhcbiAgc2ltdWxhdG9ySWQ6IHN0cmluZyB8IG51bGwsXG4gIG9wdGlvbnM6IExhdGVzdEJsb2NrT3B0aW9ucyA9IHt9LFxuICBpbml0aWFsQmxvY2s6IExhdGVzdEJsb2NrIHwgbnVsbCA9IG51bGxcbikge1xuICBjb25zdCB7IHB1c2gsIGRpc21pc3MgfSA9IHVzZVRvYXN0KCk7XG4gIGNvbnN0IHsgb25BbGVydDgwcGN0LCBvbldpbmRvd0NoYW5nZSB9ID0gb3B0aW9ucztcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZTxMYXRlc3RCbG9ja1N0YXRlPih7XG4gICAgYmxvY2s6IGluaXRpYWxCbG9jayxcbiAgICBsb2FkaW5nOiAhaW5pdGlhbEJsb2NrICYmICEhc2ltdWxhdG9ySWQsXG4gICAgZXJyb3I6IG51bGwsXG4gICAgY29ubmVjdGVkOiBmYWxzZSxcbiAgICByZWNvbm5lY3Rpbmc6IGZhbHNlLFxuICAgIGxhc3RSZWFkaW5nVHM6IHVuZGVmaW5lZFxuICB9KTtcbiAgY29uc3QgYWxlcnRSZWYgPSB1c2VSZWYoZmFsc2UpO1xuICBjb25zdCByZWNvbm5lY3RUb2FzdElkID0gdXNlUmVmPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IHJlZnJlc2ggPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFzaW11bGF0b3JJZCkgcmV0dXJuO1xuICAgIC8vIE9ubHkgc2hvdyBsb2FkaW5nIGlmIHdlIGRvbid0IGhhdmUgYmxvY2sgZGF0YSB5ZXQgKGluaXRpYWwgbG9hZClcbiAgICAvLyBEb24ndCBzaG93IGxvYWRpbmcgZHVyaW5nIHJlZnJlc2hlcyB0byBhdm9pZCBmbGlja2VyaW5nXG4gICAgc2V0U3RhdGUoKHByZXYpID0+ICh7IC4uLnByZXYsIGxvYWRpbmc6IHByZXYuYmxvY2sgPT0gbnVsbCB9KSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGJsb2NrID0gYXdhaXQgZmV0Y2hMYXRlc3RCbG9jayhzaW11bGF0b3JJZCk7XG4gICAgICBzZXRTdGF0ZSgocHJldikgPT4gKHsgLi4ucHJldiwgYmxvY2ssIGxvYWRpbmc6IGZhbHNlLCBlcnJvcjogbnVsbCB9KSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIGxvYWQgbGF0ZXN0IGJsb2NrXCI7XG4gICAgICBzZXRTdGF0ZSgocHJldikgPT4gKHsgLi4ucHJldiwgbG9hZGluZzogZmFsc2UsIGVycm9yOiBtZXNzYWdlIH0pKTtcbiAgICAgIHB1c2goe1xuICAgICAgICB0aXRsZTogXCJVbmFibGUgdG8gbG9hZCBsYXRlc3QgYmxvY2tcIixcbiAgICAgICAgZGVzY3JpcHRpb246IG1lc3NhZ2UsXG4gICAgICAgIHZhcmlhbnQ6IFwiZXJyb3JcIlxuICAgICAgfSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFN0YXRlKChwcmV2KSA9PiAoeyAuLi5wcmV2LCBsb2FkaW5nOiBmYWxzZSB9KSk7XG4gICAgfVxuICB9LCBbc2ltdWxhdG9ySWQsIHB1c2hdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghc2ltdWxhdG9ySWQpIHtcbiAgICAgIHNldFN0YXRlKChwcmV2KSA9PiAoeyAuLi5wcmV2LCBibG9jazogbnVsbCwgbG9hZGluZzogZmFsc2UsIGVycm9yOiBudWxsLCBjb25uZWN0ZWQ6IGZhbHNlLCByZWNvbm5lY3Rpbmc6IGZhbHNlIH0pKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaW5pdGlhbEJsb2NrKSB7XG4gICAgICBzZXRTdGF0ZSgocHJldikgPT4gKHsgLi4ucHJldiwgYmxvY2s6IGluaXRpYWxCbG9jaywgbG9hZGluZzogZmFsc2UgfSkpO1xuICAgIH1cblxuICAgIGxldCBjYW5jZWxsZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0IGxvYWQgPSBhc3luYyAoKSA9PiB7XG4gICAgICBzZXRTdGF0ZSgocHJldikgPT4gKHsgLi4ucHJldiwgbG9hZGluZzogcHJldi5ibG9jayA9PSBudWxsIH0pKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGJsb2NrID0gYXdhaXQgZmV0Y2hMYXRlc3RCbG9jayhzaW11bGF0b3JJZCk7XG4gICAgICAgIGlmICghY2FuY2VsbGVkKSB7XG4gICAgICAgICAgc2V0U3RhdGUoKHByZXYpID0+ICh7XG4gICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgYmxvY2ssXG4gICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yOiBudWxsXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoIWNhbmNlbGxlZCkge1xuICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIGxvYWQgbGF0ZXN0IGJsb2NrXCI7XG4gICAgICAgICAgc2V0U3RhdGUoKHByZXYpID0+ICh7IC4uLnByZXYsIGxvYWRpbmc6IGZhbHNlLCBlcnJvcjogbWVzc2FnZSB9KSk7XG4gICAgICAgICAgcHVzaCh7XG4gICAgICAgICAgICB0aXRsZTogXCJVbmFibGUgdG8gbG9hZCBsYXRlc3QgYmxvY2tcIixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBtZXNzYWdlLFxuICAgICAgICAgICAgdmFyaWFudDogXCJlcnJvclwiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdm9pZCBsb2FkKCk7XG5cbiAgICBsZXQgc291cmNlOiBFdmVudFNvdXJjZSB8IG51bGwgPSBudWxsO1xuICAgIGxldCBkaXNwb3NlZCA9IGZhbHNlO1xuICAgIGxldCByZWZyZXNoRGVib3VuY2VUaW1lcjogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcblxuICAgIGxldCBzc2VVcmw6IHN0cmluZztcbiAgICB0cnkge1xuICAgICAgc3NlVXJsID0gc2ltdWxhdG9yRW5kcG9pbnQoYC9hcGkvdjEvc3RyZWFtLyR7c2ltdWxhdG9ySWR9YCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQmFja2VuZCBVUkwgaXMgbm90IGNvbmZpZ3VyZWQuXCI7XG4gICAgICBzZXRTdGF0ZSgocHJldikgPT4gKHsgLi4ucHJldiwgZXJyb3I6IG1lc3NhZ2UsIHJlY29ubmVjdGluZzogZmFsc2UsIGNvbm5lY3RlZDogZmFsc2UgfSkpO1xuICAgICAgcHVzaCh7XG4gICAgICAgIHRpdGxlOiBcIlNTRSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogbWVzc2FnZSxcbiAgICAgICAgdmFyaWFudDogXCJlcnJvclwiXG4gICAgICB9KTtcbiAgICAgIHJldHVybiAoKSA9PiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgY29uc3Qgb3BlblN0cmVhbSA9ICgpID0+IHtcbiAgICAgIGlmIChkaXNwb3NlZCkgcmV0dXJuO1xuICAgICAgc291cmNlID0gbmV3IEV2ZW50U291cmNlKHNzZVVybCk7XG4gICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihcIm9wZW5cIiwgKCkgPT4ge1xuICAgICAgICBpZiAocmVjb25uZWN0VG9hc3RJZC5jdXJyZW50KSB7XG4gICAgICAgICAgZGlzbWlzcyhyZWNvbm5lY3RUb2FzdElkLmN1cnJlbnQpO1xuICAgICAgICAgIHJlY29ubmVjdFRvYXN0SWQuY3VycmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgc2V0U3RhdGUoKHByZXYpID0+ICh7IC4uLnByZXYsIGNvbm5lY3RlZDogdHJ1ZSwgcmVjb25uZWN0aW5nOiBmYWxzZSB9KSk7XG4gICAgICB9KTtcbiAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKCkgPT4ge1xuICAgICAgICBzZXRTdGF0ZSgocHJldikgPT4gKHsgLi4ucHJldiwgY29ubmVjdGVkOiBmYWxzZSwgcmVjb25uZWN0aW5nOiB0cnVlIH0pKTtcbiAgICAgICAgaWYgKCFyZWNvbm5lY3RUb2FzdElkLmN1cnJlbnQpIHtcbiAgICAgICAgICByZWNvbm5lY3RUb2FzdElkLmN1cnJlbnQgPSBwdXNoKHtcbiAgICAgICAgICAgIHRpdGxlOiBcIlJlY29ubmVjdGluZyB0byBsaXZlIHN0cmVhbVwiLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiQXR0ZW1wdGluZyB0byByZS1lc3RhYmxpc2ggU1NFIGNvbm5lY3Rpb27igKZcIixcbiAgICAgICAgICAgIHZhcmlhbnQ6IFwid2FybmluZ1wiLFxuICAgICAgICAgICAgZGlzbWlzc2libGU6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBoYW5kbGVFdmVudCA9IChldmVudDogTWVzc2FnZUV2ZW50PHN0cmluZz4pID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKSBhcyBTc2VFdmVudDtcbiAgICAgICAgICBwcm9jZXNzRXZlbnQoZGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiRmFpbGVkIHRvIHBhcnNlIFNTRSBldmVudFwiLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHByb2Nlc3NFdmVudCA9IChldmVudDogU3NlRXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09IFwicmVhZGluZ1wiKSB7XG4gICAgICAgICAgLy8gVXBkYXRlIGxhc3RSZWFkaW5nVHMgZnJvbSBTU0UgZXZlbnRcbiAgICAgICAgICBzZXRTdGF0ZSgocHJldikgPT4gKHsgLi4ucHJldiwgbGFzdFJlYWRpbmdUczogZXZlbnQudHMgfSkpO1xuICAgICAgICAgIC8vIEF1dG8tcmVmcmVzaCBibG9jayBkYXRhIHdoZW4gcmVhZGluZyBpcyByZWNlaXZlZCAoZm9yIHByb3RvdHlwZSAtIGVuc3VyZXMgY2hhcnQgdXBkYXRlcylcbiAgICAgICAgICAvLyBVc2UgZGVib3VuY2luZyB0byBiYXRjaCByYXBpZCByZWFkaW5nc1xuICAgICAgICAgIGlmICghY2FuY2VsbGVkICYmICFkaXNwb3NlZCkge1xuICAgICAgICAgICAgaWYgKHJlZnJlc2hEZWJvdW5jZVRpbWVyKSB7XG4gICAgICAgICAgICAgIGNsZWFyVGltZW91dChyZWZyZXNoRGVib3VuY2VUaW1lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWZyZXNoRGVib3VuY2VUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWRpc3Bvc2VkICYmICFjYW5jZWxsZWQpIHtcbiAgICAgICAgICAgICAgICB2b2lkIHJlZnJlc2goKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgNTAwKTsgLy8gNTAwbXMgZGVib3VuY2UgZm9yIHJhcGlkIHJlYWRpbmdzXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFN0YXRlKChwcmV2KSA9PiB7XG4gICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09IFwiYWxlcnQtODBwY3RcIikge1xuICAgICAgICAgICAgaWYgKCFhbGVydFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgIGFsZXJ0UmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb25BbGVydDgwcGN0Py4oZXZlbnQubWVzc2FnZSk7XG4gICAgICAgICAgICBwdXNoKHtcbiAgICAgICAgICAgICAgdGl0bGU6IFwiQmxvY2sgYWxlcnRcIixcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGV2ZW50Lm1lc3NhZ2UgfHwgXCJSZWFjaGVkIDgwJSBvZiB0YXJnZXQgZm9yIHRoaXMgYmxvY2suXCIsXG4gICAgICAgICAgICAgIHZhcmlhbnQ6IFwid2FybmluZ1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gXCJibG9jay11cGRhdGVcIikge1xuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNCbG9jayA9IHByZXYuYmxvY2s7XG4gICAgICAgICAgICBjb25zdCBuZXh0QmxvY2s6IExhdGVzdEJsb2NrIHwgbnVsbCA9IHByZXZpb3VzQmxvY2tcbiAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAuLi5wcmV2aW91c0Jsb2NrLFxuICAgICAgICAgICAgICAgICAgYWNjdW11bGF0ZWRfa3doOiBldmVudC5hY2N1bXVsYXRlZF9rd2gsXG4gICAgICAgICAgICAgICAgICBwZXJjZW50X29mX3RhcmdldDogZXZlbnQucGVyY2VudF9vZl90YXJnZXQsXG4gICAgICAgICAgICAgICAgICBjaGFydF9iaW5zOiBldmVudC5jaGFydF9iaW5zID8/IHByZXZpb3VzQmxvY2suY2hhcnRfYmlucyxcbiAgICAgICAgICAgICAgICAgIGJsb2NrX3N0YXJ0X2xvY2FsOiBldmVudC5ibG9ja19zdGFydF9sb2NhbCA/PyBwcmV2aW91c0Jsb2NrLmJsb2NrX3N0YXJ0X2xvY2FsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA6IHByZXZpb3VzQmxvY2s7XG5cbiAgICAgICAgICAgIGlmIChwcmV2aW91c0Jsb2NrICYmIGV2ZW50LmJsb2NrX3N0YXJ0X2xvY2FsICYmIGV2ZW50LmJsb2NrX3N0YXJ0X2xvY2FsICE9PSBwcmV2aW91c0Jsb2NrLmJsb2NrX3N0YXJ0X2xvY2FsKSB7XG4gICAgICAgICAgICAgIGFsZXJ0UmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgb25XaW5kb3dDaGFuZ2U/LihldmVudC5ibG9ja19zdGFydF9sb2NhbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgIGJsb2NrOiBuZXh0QmxvY2ssXG4gICAgICAgICAgICAgIGVycm9yOiBudWxsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgaGFuZGxlRXZlbnQpO1xuICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkaW5nXCIsIGhhbmRsZUV2ZW50IGFzIEV2ZW50TGlzdGVuZXIpO1xuICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJibG9jay11cGRhdGVcIiwgaGFuZGxlRXZlbnQgYXMgRXZlbnRMaXN0ZW5lcik7XG4gICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihcImFsZXJ0LTgwcGN0XCIsIGhhbmRsZUV2ZW50IGFzIEV2ZW50TGlzdGVuZXIpO1xuICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJwaW5nXCIsICgpID0+IHtcbiAgICAgICAgc2V0U3RhdGUoKHByZXYpID0+ICh7IC4uLnByZXYsIGNvbm5lY3RlZDogdHJ1ZSwgcmVjb25uZWN0aW5nOiBmYWxzZSB9KSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgb3BlblN0cmVhbSgpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNhbmNlbGxlZCA9IHRydWU7XG4gICAgICBkaXNwb3NlZCA9IHRydWU7XG4gICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgIHNvdXJjZS5jbG9zZSgpO1xuICAgICAgfVxuICAgICAgaWYgKHJlZnJlc2hEZWJvdW5jZVRpbWVyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChyZWZyZXNoRGVib3VuY2VUaW1lcik7XG4gICAgICAgIHJlZnJlc2hEZWJvdW5jZVRpbWVyID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChyZWNvbm5lY3RUb2FzdElkLmN1cnJlbnQpIHtcbiAgICAgICAgZGlzbWlzcyhyZWNvbm5lY3RUb2FzdElkLmN1cnJlbnQpO1xuICAgICAgICByZWNvbm5lY3RUb2FzdElkLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtkaXNtaXNzLCBpbml0aWFsQmxvY2ssIG9uQWxlcnQ4MHBjdCwgb25XaW5kb3dDaGFuZ2UsIHB1c2gsIHJlZnJlc2gsIHNpbXVsYXRvcklkXSk7XG5cblxuXG4gIHJldHVybiB7XG4gICAgYmxvY2s6IHN0YXRlLmJsb2NrLFxuICAgIGxvYWRpbmc6IHN0YXRlLmxvYWRpbmcsXG4gICAgZXJyb3I6IHN0YXRlLmVycm9yLFxuICAgIGNvbm5lY3RlZDogc3RhdGUuY29ubmVjdGVkLFxuICAgIHJlY29ubmVjdGluZzogc3RhdGUucmVjb25uZWN0aW5nLFxuICAgIGxhc3RSZWFkaW5nVHM6IHN0YXRlLmxhc3RSZWFkaW5nVHMsXG4gICAgcmVmcmVzaDogcmVmcmVzaFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQmxvY2tIaXN0b3J5KHNpbXVsYXRvcklkOiBzdHJpbmcgfCBudWxsLCBsaW1pdCA9IDEwLCBpbml0aWFsSGlzdG9yeTogSGlzdG9yeUJsb2NrW10gPSBbXSkge1xuICBjb25zdCB7IHB1c2ggfSA9IHVzZVRvYXN0KCk7XG4gIGNvbnN0IFtoaXN0b3J5LCBzZXRIaXN0b3J5XSA9IHVzZVN0YXRlPEhpc3RvcnlCbG9ja1tdPihpbml0aWFsSGlzdG9yeSk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKEJvb2xlYW4oc2ltdWxhdG9ySWQpICYmIGluaXRpYWxIaXN0b3J5Lmxlbmd0aCA9PT0gMCk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgcmVmcmVzaCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXNpbXVsYXRvcklkKSByZXR1cm47XG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYmxvY2tzID0gYXdhaXQgZmV0Y2hCbG9ja0hpc3Rvcnkoc2ltdWxhdG9ySWQsIGxpbWl0KTtcbiAgICAgIHNldEhpc3RvcnkoYmxvY2tzKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBsb2FkIGJsb2NrIGhpc3RvcnlcIjtcbiAgICAgIHNldEVycm9yKG1lc3NhZ2UpO1xuICAgICAgcHVzaCh7XG4gICAgICAgIHRpdGxlOiBcIlVuYWJsZSB0byBsb2FkIGJsb2NrIGhpc3RvcnlcIixcbiAgICAgICAgZGVzY3JpcHRpb246IG1lc3NhZ2UsXG4gICAgICAgIHZhcmlhbnQ6IFwiZXJyb3JcIlxuICAgICAgfSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2xpbWl0LCBwdXNoLCBzaW11bGF0b3JJZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNpbXVsYXRvcklkKSB7XG4gICAgICBpZiAoaW5pdGlhbEhpc3RvcnkubGVuZ3RoID4gMCkge1xuICAgICAgICBzZXRIaXN0b3J5KGluaXRpYWxIaXN0b3J5KTtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2b2lkIHJlZnJlc2goKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0SGlzdG9yeShbXSk7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtpbml0aWFsSGlzdG9yeSwgcmVmcmVzaCwgc2ltdWxhdG9ySWRdKTtcblxuICByZXR1cm4geyBoaXN0b3J5LCBsb2FkaW5nLCBlcnJvciwgcmVmcmVzaCB9O1xufVxuIl0sIm5hbWVzIjpbInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwidXNlTWVtbyIsInVzZVJlZiIsInVzZVN0YXRlIiwiY3JlYXRlU2ltdWxhdG9yIiwiZGVsZXRlU2ltdWxhdG9yIiwiZmV0Y2hCbG9ja0hpc3RvcnkiLCJmZXRjaExhdGVzdEJsb2NrIiwiZ2V0U2ltdWxhdG9ycyIsInNpbXVsYXRvckVuZHBvaW50IiwidXNlVG9hc3QiLCJ1c2VTaW11bGF0b3JzIiwiaW5pdGlhbFNpbXVsYXRvcnMiLCJwdXNoIiwic2ltdWxhdG9ycyIsInNldFNpbXVsYXRvcnMiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImxlbmd0aCIsImVycm9yIiwic2V0RXJyb3IiLCJyZWZyZXNoIiwiZGF0YSIsIm1lc3NhZ2UiLCJFcnJvciIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJ2YXJpYW50IiwiY3JlYXRlIiwiaW5wdXQiLCJzaW11bGF0b3IiLCJuYW1lIiwiY29uc29sZSIsImRlbCIsImlkIiwicHJldiIsImZpbHRlciIsInNpbSIsImRlbGV0ZSIsInVzZUxhdGVzdEJsb2NrIiwic2ltdWxhdG9ySWQiLCJvcHRpb25zIiwiaW5pdGlhbEJsb2NrIiwiZGlzbWlzcyIsIm9uQWxlcnQ4MHBjdCIsIm9uV2luZG93Q2hhbmdlIiwic3RhdGUiLCJzZXRTdGF0ZSIsImJsb2NrIiwiY29ubmVjdGVkIiwicmVjb25uZWN0aW5nIiwibGFzdFJlYWRpbmdUcyIsInVuZGVmaW5lZCIsImFsZXJ0UmVmIiwicmVjb25uZWN0VG9hc3RJZCIsImNhbmNlbGxlZCIsImxvYWQiLCJzb3VyY2UiLCJkaXNwb3NlZCIsInJlZnJlc2hEZWJvdW5jZVRpbWVyIiwic3NlVXJsIiwib3BlblN0cmVhbSIsIkV2ZW50U291cmNlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImN1cnJlbnQiLCJkaXNtaXNzaWJsZSIsImhhbmRsZUV2ZW50IiwiZXZlbnQiLCJKU09OIiwicGFyc2UiLCJwcm9jZXNzRXZlbnQiLCJ3YXJuIiwidHlwZSIsInRzIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInByZXZpb3VzQmxvY2siLCJuZXh0QmxvY2siLCJhY2N1bXVsYXRlZF9rd2giLCJwZXJjZW50X29mX3RhcmdldCIsImNoYXJ0X2JpbnMiLCJibG9ja19zdGFydF9sb2NhbCIsImNsb3NlIiwidXNlQmxvY2tIaXN0b3J5IiwibGltaXQiLCJpbml0aWFsSGlzdG9yeSIsImhpc3RvcnkiLCJzZXRIaXN0b3J5IiwiQm9vbGVhbiIsImJsb2NrcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/hooks.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"a3fd059cef59\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2dsb2JhbHMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXRlcm5hbGd5LWVtcy1mcm9udGVuZC8uL3NyYy9hcHAvZ2xvYmFscy5jc3M/NzlmYSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcImEzZmQwNTljZWY1OVwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/globals.css\n");

/***/ }),

/***/ "(rsc)/./src/app/dashboard/page.tsx":
/*!************************************!*\
  !*** ./src/app/dashboard/page.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EMSDashboardPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! private-next-rsc-server-reference */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! private-next-rsc-action-encryption */ \"(rsc)/./node_modules/next/dist/server/app-render/encryption.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_dashboard_ems_dashboard_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/dashboard/ems-dashboard-client */ \"(rsc)/./src/components/dashboard/ems-dashboard-client.tsx\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/api */ \"(rsc)/./src/lib/api.ts\");\n/* harmony import */ var private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! private-next-rsc-action-validate */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js\");\n/* __next_internal_action_entry_do_not_use__ {\"efb0857e5ce64b4f2753ab7d9962cb75a627b704\":\"default\"} */ \n\n\n\n\nasync function fetchInitialData(simulators) {\n    const initialDataMap = {};\n    await Promise.all(simulators.map(async (sim)=>{\n        try {\n            const initialBlock = await (0,_lib_api__WEBPACK_IMPORTED_MODULE_4__.fetchLatestBlock)(sim.id);\n            const initialHistory = await (0,_lib_api__WEBPACK_IMPORTED_MODULE_4__.fetchBlockHistory)(sim.id, 10);\n            initialDataMap[sim.id] = {\n                initialBlock,\n                initialHistory,\n                targetKwh: sim.target_kwh\n            };\n        } catch (error) {\n            console.error(`Failed to fetch initial data for simulator ${sim.id}`, error);\n            initialDataMap[sim.id] = {\n                initialBlock: null,\n                initialHistory: [],\n                targetKwh: sim.target_kwh\n            };\n        }\n    }));\n    return initialDataMap;\n}\nasync function EMSDashboardPage() {\n    let simulators = [];\n    try {\n        simulators = await (0,_lib_api__WEBPACK_IMPORTED_MODULE_4__.getSimulators)();\n    } catch (error) {\n        console.error(\"Failed to load simulators\", error);\n    }\n    const initialDataMap = await fetchInitialData(simulators);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_dashboard_ems_dashboard_client__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        simulators: simulators,\n        initialDataMap: initialDataMap\n    }, void 0, false, {\n        fileName: \"E:\\\\EEMS-Front\\\\src\\\\app\\\\dashboard\\\\page.tsx\",\n        lineNumber: 36,\n        columnNumber: 10\n    }, this);\n}\n\n(0,private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_5__.ensureServerEntryExports)([\n    EMSDashboardPage\n]);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_1__.registerServerReference)(\"efb0857e5ce64b4f2753ab7d9962cb75a627b704\", EMSDashboardPage);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2Rhc2hib2FyZC9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFFNkU7QUFDRTtBQUcvRSxlQUFlSSxpQkFBaUJDLFVBQXVCO0lBQ3JELE1BQU1DLGlCQUFzSSxDQUFDO0lBRTdJLE1BQU1DLFFBQVFDLEdBQUcsQ0FDZkgsV0FBV0ksR0FBRyxDQUFDLE9BQU9DO1FBQ3BCLElBQUk7WUFDRixNQUFNQyxlQUFlLE1BQU1ULDBEQUFnQkEsQ0FBQ1EsSUFBSUUsRUFBRTtZQUNsRCxNQUFNQyxpQkFBaUIsTUFBTVosMkRBQWlCQSxDQUFDUyxJQUFJRSxFQUFFLEVBQUU7WUFDdkROLGNBQWMsQ0FBQ0ksSUFBSUUsRUFBRSxDQUFDLEdBQUc7Z0JBQUVEO2dCQUFjRTtnQkFBZ0JDLFdBQVdKLElBQUlLLFVBQVU7WUFBQztRQUNyRixFQUFFLE9BQU9DLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLENBQUMsMkNBQTJDLEVBQUVOLElBQUlFLEVBQUUsQ0FBQyxDQUFDLEVBQUVJO1lBQ3RFVixjQUFjLENBQUNJLElBQUlFLEVBQUUsQ0FBQyxHQUFHO2dCQUFFRCxjQUFjO2dCQUFNRSxnQkFBZ0IsRUFBRTtnQkFBRUMsV0FBV0osSUFBSUssVUFBVTtZQUFDO1FBQy9GO0lBQ0Y7SUFHRixPQUFPVDtBQUNUO0FBRWUsZUFBZVk7SUFDNUIsSUFBSWIsYUFBMEIsRUFBRTtJQUNoQyxJQUFJO1FBQ0ZBLGFBQWEsTUFBTUYsdURBQWFBO0lBQ2xDLEVBQUUsT0FBT2EsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsNkJBQTZCQTtJQUM3QztJQUVBLE1BQU1WLGlCQUFpQixNQUFNRixpQkFBaUJDO0lBRTlDLHFCQUFPLDhEQUFDTCxrRkFBa0JBO1FBQUNLLFlBQVlBO1FBQVlDLGdCQUFnQkE7Ozs7OztBQUNyRSIsInNvdXJjZXMiOlsid2VicGFjazovL2V0ZXJuYWxneS1lbXMtZnJvbnRlbmQvLi9zcmMvYXBwL2Rhc2hib2FyZC9wYWdlLnRzeD9jMTVlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHNlcnZlclwiO1xuXG5pbXBvcnQgRU1TRGFzaGJvYXJkQ2xpZW50IGZyb20gXCJAL2NvbXBvbmVudHMvZGFzaGJvYXJkL2Vtcy1kYXNoYm9hcmQtY2xpZW50XCI7XG5pbXBvcnQgeyBmZXRjaEJsb2NrSGlzdG9yeSwgZmV0Y2hMYXRlc3RCbG9jaywgZ2V0U2ltdWxhdG9ycyB9IGZyb20gXCJAL2xpYi9hcGlcIjtcbmltcG9ydCB0eXBlIHsgSGlzdG9yeUJsb2NrLCBMYXRlc3RCbG9jaywgU2ltdWxhdG9yIH0gZnJvbSBcIkAvbGliL3R5cGVzXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoSW5pdGlhbERhdGEoc2ltdWxhdG9yczogU2ltdWxhdG9yW10pIHtcbiAgY29uc3QgaW5pdGlhbERhdGFNYXA6IFJlY29yZDxzdHJpbmcsIHsgaW5pdGlhbEJsb2NrOiBMYXRlc3RCbG9jayB8IG51bGw7IGluaXRpYWxIaXN0b3J5OiBIaXN0b3J5QmxvY2tbXTsgdGFyZ2V0S3doOiBudW1iZXIgfCB1bmRlZmluZWQgfT4gPSB7fTtcblxuICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICBzaW11bGF0b3JzLm1hcChhc3luYyAoc2ltKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBpbml0aWFsQmxvY2sgPSBhd2FpdCBmZXRjaExhdGVzdEJsb2NrKHNpbS5pZCk7XG4gICAgICAgIGNvbnN0IGluaXRpYWxIaXN0b3J5ID0gYXdhaXQgZmV0Y2hCbG9ja0hpc3Rvcnkoc2ltLmlkLCAxMCk7XG4gICAgICAgIGluaXRpYWxEYXRhTWFwW3NpbS5pZF0gPSB7IGluaXRpYWxCbG9jaywgaW5pdGlhbEhpc3RvcnksIHRhcmdldEt3aDogc2ltLnRhcmdldF9rd2ggfTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBmZXRjaCBpbml0aWFsIGRhdGEgZm9yIHNpbXVsYXRvciAke3NpbS5pZH1gLCBlcnJvcik7XG4gICAgICAgIGluaXRpYWxEYXRhTWFwW3NpbS5pZF0gPSB7IGluaXRpYWxCbG9jazogbnVsbCwgaW5pdGlhbEhpc3Rvcnk6IFtdLCB0YXJnZXRLd2g6IHNpbS50YXJnZXRfa3doIH07XG4gICAgICB9XG4gICAgfSlcbiAgKTtcblxuICByZXR1cm4gaW5pdGlhbERhdGFNYXA7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIEVNU0Rhc2hib2FyZFBhZ2UoKSB7XG4gIGxldCBzaW11bGF0b3JzOiBTaW11bGF0b3JbXSA9IFtdO1xuICB0cnkge1xuICAgIHNpbXVsYXRvcnMgPSBhd2FpdCBnZXRTaW11bGF0b3JzKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBsb2FkIHNpbXVsYXRvcnNcIiwgZXJyb3IpO1xuICB9XG5cbiAgY29uc3QgaW5pdGlhbERhdGFNYXAgPSBhd2FpdCBmZXRjaEluaXRpYWxEYXRhKHNpbXVsYXRvcnMpO1xuXG4gIHJldHVybiA8RU1TRGFzaGJvYXJkQ2xpZW50IHNpbXVsYXRvcnM9e3NpbXVsYXRvcnN9IGluaXRpYWxEYXRhTWFwPXtpbml0aWFsRGF0YU1hcH0gLz47XG59Il0sIm5hbWVzIjpbIkVNU0Rhc2hib2FyZENsaWVudCIsImZldGNoQmxvY2tIaXN0b3J5IiwiZmV0Y2hMYXRlc3RCbG9jayIsImdldFNpbXVsYXRvcnMiLCJmZXRjaEluaXRpYWxEYXRhIiwic2ltdWxhdG9ycyIsImluaXRpYWxEYXRhTWFwIiwiUHJvbWlzZSIsImFsbCIsIm1hcCIsInNpbSIsImluaXRpYWxCbG9jayIsImlkIiwiaW5pdGlhbEhpc3RvcnkiLCJ0YXJnZXRLd2giLCJ0YXJnZXRfa3doIiwiZXJyb3IiLCJjb25zb2xlIiwiRU1TRGFzaGJvYXJkUGFnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/dashboard/page.tsx\n");

/***/ }),

/***/ "(rsc)/./src/app/layout.tsx":
/*!****************************!*\
  !*** ./src/app/layout.tsx ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/link */ \"(rsc)/./node_modules/next/dist/api/link.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"(rsc)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./src/app/globals.css\");\n/* harmony import */ var _components_ui_toast_provider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/toast-provider */ \"(rsc)/./src/components/ui/toast-provider.tsx\");\n\n\n\n\n\nconst metadata = {\n    title: \"Eternalgy EMS\",\n    description: \"Prototype UI for Eternalgy's energy management simulator\"\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        className: \"bg-slate-950\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            className: \"flex min-h-screen flex-col\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_toast_provider__WEBPACK_IMPORTED_MODULE_4__.ToastProvider, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex grow flex-col\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                            className: \"border-b border-slate-800 bg-slate-900/80 backdrop-blur relative z-50\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mx-auto flex w-full max-w-6xl items-center justify-between gap-6 px-6 py-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-3\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                                            href: \"/\",\n                                            className: \"flex items-center gap-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                    src: \"/eternalgy-logo-02.png\",\n                                                    alt: \"Eternalgy Logo\",\n                                                    width: 40,\n                                                    height: 40,\n                                                    className: \"h-10 w-auto\",\n                                                    priority: true,\n                                                    quality: 100,\n                                                    style: {\n                                                        objectFit: \"contain\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"E:\\\\EEMS-Front\\\\src\\\\app\\\\layout.tsx\",\n                                                    lineNumber: 26,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-sm uppercase tracking-[0.2em] text-slate-400\",\n                                                            children: \"Eternalgy EMS\"\n                                                        }, void 0, false, {\n                                                            fileName: \"E:\\\\EEMS-Front\\\\src\\\\app\\\\layout.tsx\",\n                                                            lineNumber: 37,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"font-semibold text-slate-100\",\n                                                            children: \"Simulator Prototype\"\n                                                        }, void 0, false, {\n                                                            fileName: \"E:\\\\EEMS-Front\\\\src\\\\app\\\\layout.tsx\",\n                                                            lineNumber: 38,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"E:\\\\EEMS-Front\\\\src\\\\app\\\\layout.tsx\",\n                                                    lineNumber: 36,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"E:\\\\EEMS-Front\\\\src\\\\app\\\\layout.tsx\",\n                                            lineNumber: 25,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\app\\\\layout.tsx\",\n                                        lineNumber: 24,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n                                        className: \"flex flex-1 items-center justify-end gap-4 text-sm text-slate-400\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                                                href: \"/\",\n                                                className: \"rounded-md px-3 py-2 transition hover:bg-slate-800/80 hover:text-white relative z-10\",\n                                                prefetch: true,\n                                                children: \"Simulators\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\app\\\\layout.tsx\",\n                                                lineNumber: 43,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                                                href: \"/health\",\n                                                className: \"rounded-md px-3 py-2 transition hover:bg-slate-800/80 hover:text-white relative z-10\",\n                                                prefetch: true,\n                                                children: \"Health check\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\app\\\\layout.tsx\",\n                                                lineNumber: 50,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                                                href: \"/test-features\",\n                                                className: \"rounded-md px-3 py-2 transition hover:bg-slate-800/80 hover:text-white relative z-10\",\n                                                prefetch: true,\n                                                children: \"Test Features\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\app\\\\layout.tsx\",\n                                                lineNumber: 57,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"rounded-md border border-slate-800 px-3 py-2 text-slate-400\",\n                                                children: [\n                                                    \"Timezone: \",\n                                                    \"Asia/Kuala_Lumpur\" ?? 0\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\app\\\\layout.tsx\",\n                                                lineNumber: 64,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\app\\\\layout.tsx\",\n                                        lineNumber: 42,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\app\\\\layout.tsx\",\n                                lineNumber: 23,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"E:\\\\EEMS-Front\\\\src\\\\app\\\\layout.tsx\",\n                            lineNumber: 22,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                            className: \"mx-auto w-full max-w-6xl flex-1 px-6 py-10\",\n                            children: children\n                        }, void 0, false, {\n                            fileName: \"E:\\\\EEMS-Front\\\\src\\\\app\\\\layout.tsx\",\n                            lineNumber: 70,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                            className: \"border-t border-slate-800 bg-slate-900/80\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mx-auto flex w-full max-w-6xl items-center justify-between px-6 py-4 text-xs text-slate-500\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            \"\\xa9 \",\n                                            new Date().getFullYear(),\n                                            \" Eternalgy Energy Management Simulator\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\app\\\\layout.tsx\",\n                                        lineNumber: 73,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Prototype build â€” App Router\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\EEMS-Front\\\\src\\\\app\\\\layout.tsx\",\n                                        lineNumber: 74,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\EEMS-Front\\\\src\\\\app\\\\layout.tsx\",\n                                lineNumber: 72,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"E:\\\\EEMS-Front\\\\src\\\\app\\\\layout.tsx\",\n                            lineNumber: 71,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\EEMS-Front\\\\src\\\\app\\\\layout.tsx\",\n                    lineNumber: 21,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"E:\\\\EEMS-Front\\\\src\\\\app\\\\layout.tsx\",\n                lineNumber: 20,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"E:\\\\EEMS-Front\\\\src\\\\app\\\\layout.tsx\",\n            lineNumber: 19,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"E:\\\\EEMS-Front\\\\src\\\\app\\\\layout.tsx\",\n        lineNumber: 18,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xheW91dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQzZCO0FBQ0U7QUFDUjtBQUN3QztBQUV4RCxNQUFNRyxXQUFxQjtJQUNoQ0MsT0FBTztJQUNQQyxhQUFhO0FBQ2YsRUFBRTtBQUVhLFNBQVNDLFdBQVcsRUFDakNDLFFBQVEsRUFHVDtJQUNDLHFCQUNFLDhEQUFDQztRQUFLQyxNQUFLO1FBQUtDLFdBQVU7a0JBQ3hCLDRFQUFDQztZQUFLRCxXQUFVO3NCQUNkLDRFQUFDUix3RUFBYUE7MEJBQ1osNEVBQUNVO29CQUFJRixXQUFVOztzQ0FDYiw4REFBQ0c7NEJBQU9ILFdBQVU7c0NBQ2hCLDRFQUFDRTtnQ0FBSUYsV0FBVTs7a0RBQ2IsOERBQUNFO3dDQUFJRixXQUFVO2tEQUNiLDRFQUFDVixpREFBSUE7NENBQUNjLE1BQUs7NENBQUlKLFdBQVU7OzhEQUN2Qiw4REFBQ1Qsa0RBQUtBO29EQUNKYyxLQUFJO29EQUNKQyxLQUFJO29EQUNKQyxPQUFPO29EQUNQQyxRQUFRO29EQUNSUixXQUFVO29EQUNWUyxRQUFRO29EQUNSQyxTQUFTO29EQUNUQyxPQUFPO3dEQUFFQyxXQUFXO29EQUFVOzs7Ozs7OERBRWhDLDhEQUFDVjs7c0VBQ0MsOERBQUNXOzREQUFFYixXQUFVO3NFQUFvRDs7Ozs7O3NFQUNqRSw4REFBQ2E7NERBQUViLFdBQVU7c0VBQStCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztrREFJbEQsOERBQUNjO3dDQUFJZCxXQUFVOzswREFDYiw4REFBQ1YsaURBQUlBO2dEQUNIYyxNQUFLO2dEQUNMSixXQUFVO2dEQUNWZSxVQUFVOzBEQUNYOzs7Ozs7MERBR0QsOERBQUN6QixpREFBSUE7Z0RBQ0hjLE1BQUs7Z0RBQ0xKLFdBQVU7Z0RBQ1ZlLFVBQVU7MERBQ1g7Ozs7OzswREFHRCw4REFBQ3pCLGlEQUFJQTtnREFDSGMsTUFBSztnREFDTEosV0FBVTtnREFDVmUsVUFBVTswREFDWDs7Ozs7OzBEQUdELDhEQUFDQztnREFBS2hCLFdBQVU7O29EQUE4RDtvREFDakVpQixtQkFBc0MsSUFBSSxDQUFtQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O3NDQUtoRiw4REFBQ0c7NEJBQUtwQixXQUFVO3NDQUE4Q0g7Ozs7OztzQ0FDOUQsOERBQUN3Qjs0QkFBT3JCLFdBQVU7c0NBQ2hCLDRFQUFDRTtnQ0FBSUYsV0FBVTs7a0RBQ2IsOERBQUNnQjs7NENBQUs7NENBQUcsSUFBSU0sT0FBT0MsV0FBVzs0Q0FBRzs7Ozs7OztrREFDbEMsOERBQUNQO2tEQUFLOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVF0QiIsInNvdXJjZXMiOlsid2VicGFjazovL2V0ZXJuYWxneS1lbXMtZnJvbnRlbmQvLi9zcmMvYXBwL2xheW91dC50c3g/NTdhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE1ldGFkYXRhIH0gZnJvbSBcIm5leHRcIjtcclxuaW1wb3J0IExpbmsgZnJvbSBcIm5leHQvbGlua1wiO1xyXG5pbXBvcnQgSW1hZ2UgZnJvbSBcIm5leHQvaW1hZ2VcIjtcclxuaW1wb3J0IFwiLi9nbG9iYWxzLmNzc1wiO1xyXG5pbXBvcnQgeyBUb2FzdFByb3ZpZGVyIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS90b2FzdC1wcm92aWRlclwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IG1ldGFkYXRhOiBNZXRhZGF0YSA9IHtcclxuICB0aXRsZTogXCJFdGVybmFsZ3kgRU1TXCIsXHJcbiAgZGVzY3JpcHRpb246IFwiUHJvdG90eXBlIFVJIGZvciBFdGVybmFsZ3kncyBlbmVyZ3kgbWFuYWdlbWVudCBzaW11bGF0b3JcIlxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUm9vdExheW91dCh7XHJcbiAgY2hpbGRyZW5cclxufToge1xyXG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XHJcbn0pIHtcclxuICByZXR1cm4gKFxyXG4gICAgPGh0bWwgbGFuZz1cImVuXCIgY2xhc3NOYW1lPVwiYmctc2xhdGUtOTUwXCI+XHJcbiAgICAgIDxib2R5IGNsYXNzTmFtZT1cImZsZXggbWluLWgtc2NyZWVuIGZsZXgtY29sXCI+XHJcbiAgICAgICAgPFRvYXN0UHJvdmlkZXI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ3JvdyBmbGV4LWNvbFwiPlxyXG4gICAgICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImJvcmRlci1iIGJvcmRlci1zbGF0ZS04MDAgYmctc2xhdGUtOTAwLzgwIGJhY2tkcm9wLWJsdXIgcmVsYXRpdmUgei01MFwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBmbGV4IHctZnVsbCBtYXgtdy02eGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtNiBweC02IHB5LTRcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cclxuICAgICAgICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9cIiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxJbWFnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgc3JjPVwiL2V0ZXJuYWxneS1sb2dvLTAyLnBuZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICBhbHQ9XCJFdGVybmFsZ3kgTG9nb1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17NDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9ezQwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC0xMCB3LWF1dG9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHlcclxuICAgICAgICAgICAgICAgICAgICAgIHF1YWxpdHk9ezEwMH1cclxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG9iamVjdEZpdDogJ2NvbnRhaW4nIH19XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB1cHBlcmNhc2UgdHJhY2tpbmctWzAuMmVtXSB0ZXh0LXNsYXRlLTQwMFwiPkV0ZXJuYWxneSBFTVM8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtc2xhdGUtMTAwXCI+U2ltdWxhdG9yIFByb3RvdHlwZTwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9MaW5rPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8bmF2IGNsYXNzTmFtZT1cImZsZXggZmxleC0xIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZCBnYXAtNCB0ZXh0LXNtIHRleHQtc2xhdGUtNDAwXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxMaW5rXHJcbiAgICAgICAgICAgICAgICAgICAgaHJlZj1cIi9cIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQtbWQgcHgtMyBweS0yIHRyYW5zaXRpb24gaG92ZXI6Ymctc2xhdGUtODAwLzgwIGhvdmVyOnRleHQtd2hpdGUgcmVsYXRpdmUgei0xMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgcHJlZmV0Y2g9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICBTaW11bGF0b3JzXHJcbiAgICAgICAgICAgICAgICAgIDwvTGluaz5cclxuICAgICAgICAgICAgICAgICAgPExpbmtcclxuICAgICAgICAgICAgICAgICAgICBocmVmPVwiL2hlYWx0aFwiXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1tZCBweC0zIHB5LTIgdHJhbnNpdGlvbiBob3ZlcjpiZy1zbGF0ZS04MDAvODAgaG92ZXI6dGV4dC13aGl0ZSByZWxhdGl2ZSB6LTEwXCJcclxuICAgICAgICAgICAgICAgICAgICBwcmVmZXRjaD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIEhlYWx0aCBjaGVja1xyXG4gICAgICAgICAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgICAgICAgICAgIDxMaW5rXHJcbiAgICAgICAgICAgICAgICAgICAgaHJlZj1cIi90ZXN0LWZlYXR1cmVzXCJcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLW1kIHB4LTMgcHktMiB0cmFuc2l0aW9uIGhvdmVyOmJnLXNsYXRlLTgwMC84MCBob3Zlcjp0ZXh0LXdoaXRlIHJlbGF0aXZlIHotMTBcIlxyXG4gICAgICAgICAgICAgICAgICAgIHByZWZldGNoPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgVGVzdCBGZWF0dXJlc1xyXG4gICAgICAgICAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1zbGF0ZS04MDAgcHgtMyBweS0yIHRleHQtc2xhdGUtNDAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgVGltZXpvbmU6IHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19USU1FWk9ORV9MQUJFTCA/PyBcIkFzaWEvS3VhbGFfTHVtcHVyXCJ9XHJcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvbmF2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2hlYWRlcj5cclxuICAgICAgICAgICAgPG1haW4gY2xhc3NOYW1lPVwibXgtYXV0byB3LWZ1bGwgbWF4LXctNnhsIGZsZXgtMSBweC02IHB5LTEwXCI+e2NoaWxkcmVufTwvbWFpbj5cclxuICAgICAgICAgICAgPGZvb3RlciBjbGFzc05hbWU9XCJib3JkZXItdCBib3JkZXItc2xhdGUtODAwIGJnLXNsYXRlLTkwMC84MFwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBmbGV4IHctZnVsbCBtYXgtdy02eGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBweC02IHB5LTQgdGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4+wqkge25ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKX0gRXRlcm5hbGd5IEVuZXJneSBNYW5hZ2VtZW50IFNpbXVsYXRvcjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuPlByb3RvdHlwZSBidWlsZCDigJQgQXBwIFJvdXRlcjwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9mb290ZXI+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L1RvYXN0UHJvdmlkZXI+XHJcbiAgICAgIDwvYm9keT5cclxuICAgIDwvaHRtbD5cclxuICApO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJMaW5rIiwiSW1hZ2UiLCJUb2FzdFByb3ZpZGVyIiwibWV0YWRhdGEiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiUm9vdExheW91dCIsImNoaWxkcmVuIiwiaHRtbCIsImxhbmciLCJjbGFzc05hbWUiLCJib2R5IiwiZGl2IiwiaGVhZGVyIiwiaHJlZiIsInNyYyIsImFsdCIsIndpZHRoIiwiaGVpZ2h0IiwicHJpb3JpdHkiLCJxdWFsaXR5Iiwic3R5bGUiLCJvYmplY3RGaXQiLCJwIiwibmF2IiwicHJlZmV0Y2giLCJzcGFuIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1RJTUVaT05FX0xBQkVMIiwibWFpbiIsImZvb3RlciIsIkRhdGUiLCJnZXRGdWxsWWVhciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./src/components/dashboard/ems-dashboard-client.tsx":
/*!***********************************************************!*\
  !*** ./src/components/dashboard/ems-dashboard-client.tsx ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $$typeof: () => (/* binding */ $$typeof),
/* harmony export */   __esModule: () => (/* binding */ __esModule),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`E:\EEMS-Front\src\components\dashboard\ems-dashboard-client.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`E:\EEMS-Front\src\components\dashboard\ems-dashboard-client.tsx#default`));


/***/ }),

/***/ "(rsc)/./src/components/ui/toast-provider.tsx":
/*!**********************************************!*\
  !*** ./src/components/ui/toast-provider.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ToastProvider: () => (/* binding */ e0),
/* harmony export */   useToast: () => (/* binding */ e1)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`E:\EEMS-Front\src\components\ui\toast-provider.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;

const e0 = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`E:\EEMS-Front\src\components\ui\toast-provider.tsx#ToastProvider`);

const e1 = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`E:\EEMS-Front\src\components\ui\toast-provider.tsx#useToast`);


/***/ }),

/***/ "(rsc)/./src/lib/api-key.ts":
/*!****************************!*\
  !*** ./src/lib/api-key.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearApiKeyOverride: () => (/* binding */ clearApiKeyOverride),\n/* harmony export */   getApiKeyOverride: () => (/* binding */ getApiKeyOverride),\n/* harmony export */   getEffectiveApiKey: () => (/* binding */ getEffectiveApiKey),\n/* harmony export */   getEnvApiKey: () => (/* binding */ getEnvApiKey),\n/* harmony export */   getEnvApiKeyName: () => (/* binding */ getEnvApiKeyName),\n/* harmony export */   hasEffectiveApiKey: () => (/* binding */ hasEffectiveApiKey),\n/* harmony export */   hasEnvApiKey: () => (/* binding */ hasEnvApiKey),\n/* harmony export */   isOverridePersisted: () => (/* binding */ isOverridePersisted),\n/* harmony export */   setApiKeyOverride: () => (/* binding */ setApiKeyOverride)\n/* harmony export */ });\nconst STORAGE_KEY = \"eems.apiKeyOverride\";\nconst ENV_KEY_CANDIDATES = [\n    {\n        name: \"NEXT_PUBLIC_BACKEND_TOKEN\",\n        value: \"01121000099\"\n    },\n    {\n        name: \"NEXT_PUBLIC_BACKEND_WRITE_TOKEN\",\n        value: process.env.NEXT_PUBLIC_BACKEND_WRITE_TOKEN\n    },\n    {\n        name: \"NEXT_PUBLIC_BACKEND_KEY\",\n        value: process.env.NEXT_PUBLIC_BACKEND_KEY\n    },\n    {\n        name: \"NEXT_PUBLIC_BACKEND_API_KEY\",\n        value: process.env.NEXT_PUBLIC_BACKEND_API_KEY\n    }\n];\nlet overrideValue = null;\nlet hasLoadedPersisted = false;\nlet isPersisted = false;\nfunction loadPersistedOverride() {\n    if (hasLoadedPersisted) {\n        return;\n    }\n    hasLoadedPersisted = true;\n    if (true) {\n        return;\n    }\n    try {\n        const stored = window.localStorage.getItem(STORAGE_KEY);\n        if (stored) {\n            overrideValue = stored;\n            isPersisted = true;\n        }\n    } catch  {\n    // Ignore storage errors (private mode, etc.)\n    }\n}\nfunction resolveEnvApiKey() {\n    for (const candidate of ENV_KEY_CANDIDATES){\n        if (candidate.value) {\n            return {\n                name: candidate.name,\n                value: candidate.value\n            };\n        }\n    }\n    return null;\n}\nfunction getEnvApiKey() {\n    return resolveEnvApiKey()?.value ?? \"\";\n}\nfunction getEnvApiKeyName() {\n    return resolveEnvApiKey()?.name ?? null;\n}\nfunction getApiKeyOverride() {\n    if (false) {}\n    return overrideValue;\n}\nfunction isOverridePersisted() {\n    if (false) {}\n    return isPersisted && !!overrideValue;\n}\nfunction setApiKeyOverride(value, options) {\n    const trimmed = value.trim();\n    overrideValue = trimmed ? trimmed : null;\n    isPersisted = Boolean(options?.persist && overrideValue);\n    if (true) {\n        return;\n    }\n    try {\n        if (isPersisted && overrideValue) {\n            window.localStorage.setItem(STORAGE_KEY, overrideValue);\n        } else {\n            window.localStorage.removeItem(STORAGE_KEY);\n        }\n    } catch  {\n    // Ignore storage errors (private mode, etc.)\n    }\n}\nfunction clearApiKeyOverride() {\n    overrideValue = null;\n    isPersisted = false;\n    if (true) {\n        return;\n    }\n    try {\n        window.localStorage.removeItem(STORAGE_KEY);\n    } catch  {\n    // Ignore storage errors\n    }\n}\nfunction getEffectiveApiKey() {\n    const override = getApiKeyOverride();\n    if (override) {\n        return override;\n    }\n    return getEnvApiKey();\n}\nfunction hasEffectiveApiKey() {\n    return getEffectiveApiKey().length > 0;\n}\nfunction hasEnvApiKey() {\n    return getEnvApiKey().length > 0;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2FwaS1rZXkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUEsTUFBTUEsY0FBYztBQUVwQixNQUFNQyxxQkFBcUI7SUFDekI7UUFBRUMsTUFBTTtRQUE2QkMsT0FBT0MsYUFBcUM7SUFBQztJQUNsRjtRQUFFRixNQUFNO1FBQW1DQyxPQUFPQyxRQUFRQyxHQUFHLENBQUNFLCtCQUErQjtJQUFDO0lBQzlGO1FBQUVMLE1BQU07UUFBMkJDLE9BQU9DLFFBQVFDLEdBQUcsQ0FBQ0csdUJBQXVCO0lBQUM7SUFDOUU7UUFBRU4sTUFBTTtRQUErQkMsT0FBT0MsUUFBUUMsR0FBRyxDQUFDSSwyQkFBMkI7SUFBQztDQUN2RjtBQUVELElBQUlDLGdCQUErQjtBQUNuQyxJQUFJQyxxQkFBcUI7QUFDekIsSUFBSUMsY0FBYztBQUVsQixTQUFTQztJQUNQLElBQUlGLG9CQUFvQjtRQUN0QjtJQUNGO0lBQ0FBLHFCQUFxQjtJQUNyQixJQUFJLElBQTZCLEVBQUU7UUFDakM7SUFDRjtJQUNBLElBQUk7UUFDRixNQUFNRyxTQUFTQyxPQUFPQyxZQUFZLENBQUNDLE9BQU8sQ0FBQ2pCO1FBQzNDLElBQUljLFFBQVE7WUFDVkosZ0JBQWdCSTtZQUNoQkYsY0FBYztRQUNoQjtJQUNGLEVBQUUsT0FBTTtJQUNOLDZDQUE2QztJQUMvQztBQUNGO0FBRUEsU0FBU007SUFDUCxLQUFLLE1BQU1DLGFBQWFsQixtQkFBb0I7UUFDMUMsSUFBSWtCLFVBQVVoQixLQUFLLEVBQUU7WUFDbkIsT0FBTztnQkFBRUQsTUFBTWlCLFVBQVVqQixJQUFJO2dCQUFFQyxPQUFPZ0IsVUFBVWhCLEtBQUs7WUFBQztRQUN4RDtJQUNGO0lBQ0EsT0FBTztBQUNUO0FBRU8sU0FBU2lCO0lBQ2QsT0FBT0Ysb0JBQW9CZixTQUFTO0FBQ3RDO0FBRU8sU0FBU2tCO0lBQ2QsT0FBT0gsb0JBQW9CaEIsUUFBUTtBQUNyQztBQUVPLFNBQVNvQjtJQUNkLElBQUksS0FBNkIsRUFBRSxFQUVsQztJQUNELE9BQU9aO0FBQ1Q7QUFFTyxTQUFTYTtJQUNkLElBQUksS0FBNkIsRUFBRSxFQUVsQztJQUNELE9BQU9YLGVBQWUsQ0FBQyxDQUFDRjtBQUMxQjtBQUVPLFNBQVNjLGtCQUFrQnJCLEtBQWEsRUFBRXNCLE9BQStCO0lBQzlFLE1BQU1DLFVBQVV2QixNQUFNd0IsSUFBSTtJQUMxQmpCLGdCQUFnQmdCLFVBQVVBLFVBQVU7SUFDcENkLGNBQWNnQixRQUFRSCxTQUFTSSxXQUFXbkI7SUFFMUMsSUFBSSxJQUE2QixFQUFFO1FBQ2pDO0lBQ0Y7SUFFQSxJQUFJO1FBQ0YsSUFBSUUsZUFBZUYsZUFBZTtZQUNoQ0ssT0FBT0MsWUFBWSxDQUFDYyxPQUFPLENBQUM5QixhQUFhVTtRQUMzQyxPQUFPO1lBQ0xLLE9BQU9DLFlBQVksQ0FBQ2UsVUFBVSxDQUFDL0I7UUFDakM7SUFDRixFQUFFLE9BQU07SUFDTiw2Q0FBNkM7SUFDL0M7QUFDRjtBQUVPLFNBQVNnQztJQUNkdEIsZ0JBQWdCO0lBQ2hCRSxjQUFjO0lBRWQsSUFBSSxJQUE2QixFQUFFO1FBQ2pDO0lBQ0Y7SUFFQSxJQUFJO1FBQ0ZHLE9BQU9DLFlBQVksQ0FBQ2UsVUFBVSxDQUFDL0I7SUFDakMsRUFBRSxPQUFNO0lBQ04sd0JBQXdCO0lBQzFCO0FBQ0Y7QUFFTyxTQUFTaUM7SUFDZCxNQUFNQyxXQUFXWjtJQUNqQixJQUFJWSxVQUFVO1FBQ1osT0FBT0E7SUFDVDtJQUNBLE9BQU9kO0FBQ1Q7QUFFTyxTQUFTZTtJQUNkLE9BQU9GLHFCQUFxQkcsTUFBTSxHQUFHO0FBQ3ZDO0FBRU8sU0FBU0M7SUFDZCxPQUFPakIsZUFBZWdCLE1BQU0sR0FBRztBQUNqQyIsInNvdXJjZXMiOlsid2VicGFjazovL2V0ZXJuYWxneS1lbXMtZnJvbnRlbmQvLi9zcmMvbGliL2FwaS1rZXkudHM/OWE2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTVE9SQUdFX0tFWSA9IFwiZWVtcy5hcGlLZXlPdmVycmlkZVwiO1xyXG5cclxuY29uc3QgRU5WX0tFWV9DQU5ESURBVEVTID0gW1xyXG4gIHsgbmFtZTogXCJORVhUX1BVQkxJQ19CQUNLRU5EX1RPS0VOXCIsIHZhbHVlOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1RPS0VOIH0sXHJcbiAgeyBuYW1lOiBcIk5FWFRfUFVCTElDX0JBQ0tFTkRfV1JJVEVfVE9LRU5cIiwgdmFsdWU6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfV1JJVEVfVE9LRU4gfSxcclxuICB7IG5hbWU6IFwiTkVYVF9QVUJMSUNfQkFDS0VORF9LRVlcIiwgdmFsdWU6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfS0VZIH0sXHJcbiAgeyBuYW1lOiBcIk5FWFRfUFVCTElDX0JBQ0tFTkRfQVBJX0tFWVwiLCB2YWx1ZTogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9BUElfS0VZIH1cclxuXSBhcyBjb25zdDtcclxuXHJcbmxldCBvdmVycmlkZVZhbHVlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcclxubGV0IGhhc0xvYWRlZFBlcnNpc3RlZCA9IGZhbHNlO1xyXG5sZXQgaXNQZXJzaXN0ZWQgPSBmYWxzZTtcclxuXHJcbmZ1bmN0aW9uIGxvYWRQZXJzaXN0ZWRPdmVycmlkZSgpIHtcclxuICBpZiAoaGFzTG9hZGVkUGVyc2lzdGVkKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG4gIGhhc0xvYWRlZFBlcnNpc3RlZCA9IHRydWU7XHJcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHN0b3JlZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWSk7XHJcbiAgICBpZiAoc3RvcmVkKSB7XHJcbiAgICAgIG92ZXJyaWRlVmFsdWUgPSBzdG9yZWQ7XHJcbiAgICAgIGlzUGVyc2lzdGVkID0gdHJ1ZTtcclxuICAgIH1cclxuICB9IGNhdGNoIHtcclxuICAgIC8vIElnbm9yZSBzdG9yYWdlIGVycm9ycyAocHJpdmF0ZSBtb2RlLCBldGMuKVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVzb2x2ZUVudkFwaUtleSgpOiB7IG5hbWU6IHN0cmluZzsgdmFsdWU6IHN0cmluZyB9IHwgbnVsbCB7XHJcbiAgZm9yIChjb25zdCBjYW5kaWRhdGUgb2YgRU5WX0tFWV9DQU5ESURBVEVTKSB7XHJcbiAgICBpZiAoY2FuZGlkYXRlLnZhbHVlKSB7XHJcbiAgICAgIHJldHVybiB7IG5hbWU6IGNhbmRpZGF0ZS5uYW1lLCB2YWx1ZTogY2FuZGlkYXRlLnZhbHVlIH07XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBudWxsO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW52QXBpS2V5KCk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIHJlc29sdmVFbnZBcGlLZXkoKT8udmFsdWUgPz8gXCJcIjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVudkFwaUtleU5hbWUoKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgcmV0dXJuIHJlc29sdmVFbnZBcGlLZXkoKT8ubmFtZSA/PyBudWxsO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXBpS2V5T3ZlcnJpZGUoKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgIGxvYWRQZXJzaXN0ZWRPdmVycmlkZSgpO1xyXG4gIH1cclxuICByZXR1cm4gb3ZlcnJpZGVWYWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzT3ZlcnJpZGVQZXJzaXN0ZWQoKTogYm9vbGVhbiB7XHJcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgIGxvYWRQZXJzaXN0ZWRPdmVycmlkZSgpO1xyXG4gIH1cclxuICByZXR1cm4gaXNQZXJzaXN0ZWQgJiYgISFvdmVycmlkZVZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0QXBpS2V5T3ZlcnJpZGUodmFsdWU6IHN0cmluZywgb3B0aW9ucz86IHsgcGVyc2lzdD86IGJvb2xlYW4gfSkge1xyXG4gIGNvbnN0IHRyaW1tZWQgPSB2YWx1ZS50cmltKCk7XHJcbiAgb3ZlcnJpZGVWYWx1ZSA9IHRyaW1tZWQgPyB0cmltbWVkIDogbnVsbDtcclxuICBpc1BlcnNpc3RlZCA9IEJvb2xlYW4ob3B0aW9ucz8ucGVyc2lzdCAmJiBvdmVycmlkZVZhbHVlKTtcclxuXHJcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBpZiAoaXNQZXJzaXN0ZWQgJiYgb3ZlcnJpZGVWYWx1ZSkge1xyXG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVksIG92ZXJyaWRlVmFsdWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNUT1JBR0VfS0VZKTtcclxuICAgIH1cclxuICB9IGNhdGNoIHtcclxuICAgIC8vIElnbm9yZSBzdG9yYWdlIGVycm9ycyAocHJpdmF0ZSBtb2RlLCBldGMuKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQXBpS2V5T3ZlcnJpZGUoKSB7XHJcbiAgb3ZlcnJpZGVWYWx1ZSA9IG51bGw7XHJcbiAgaXNQZXJzaXN0ZWQgPSBmYWxzZTtcclxuXHJcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU1RPUkFHRV9LRVkpO1xyXG4gIH0gY2F0Y2gge1xyXG4gICAgLy8gSWdub3JlIHN0b3JhZ2UgZXJyb3JzXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWZmZWN0aXZlQXBpS2V5KCk6IHN0cmluZyB7XHJcbiAgY29uc3Qgb3ZlcnJpZGUgPSBnZXRBcGlLZXlPdmVycmlkZSgpO1xyXG4gIGlmIChvdmVycmlkZSkge1xyXG4gICAgcmV0dXJuIG92ZXJyaWRlO1xyXG4gIH1cclxuICByZXR1cm4gZ2V0RW52QXBpS2V5KCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYXNFZmZlY3RpdmVBcGlLZXkoKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIGdldEVmZmVjdGl2ZUFwaUtleSgpLmxlbmd0aCA+IDA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYXNFbnZBcGlLZXkoKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIGdldEVudkFwaUtleSgpLmxlbmd0aCA+IDA7XHJcbn1cclxuIl0sIm5hbWVzIjpbIlNUT1JBR0VfS0VZIiwiRU5WX0tFWV9DQU5ESURBVEVTIiwibmFtZSIsInZhbHVlIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0JBQ0tFTkRfVE9LRU4iLCJORVhUX1BVQkxJQ19CQUNLRU5EX1dSSVRFX1RPS0VOIiwiTkVYVF9QVUJMSUNfQkFDS0VORF9LRVkiLCJORVhUX1BVQkxJQ19CQUNLRU5EX0FQSV9LRVkiLCJvdmVycmlkZVZhbHVlIiwiaGFzTG9hZGVkUGVyc2lzdGVkIiwiaXNQZXJzaXN0ZWQiLCJsb2FkUGVyc2lzdGVkT3ZlcnJpZGUiLCJzdG9yZWQiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicmVzb2x2ZUVudkFwaUtleSIsImNhbmRpZGF0ZSIsImdldEVudkFwaUtleSIsImdldEVudkFwaUtleU5hbWUiLCJnZXRBcGlLZXlPdmVycmlkZSIsImlzT3ZlcnJpZGVQZXJzaXN0ZWQiLCJzZXRBcGlLZXlPdmVycmlkZSIsIm9wdGlvbnMiLCJ0cmltbWVkIiwidHJpbSIsIkJvb2xlYW4iLCJwZXJzaXN0Iiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJjbGVhckFwaUtleU92ZXJyaWRlIiwiZ2V0RWZmZWN0aXZlQXBpS2V5Iiwib3ZlcnJpZGUiLCJoYXNFZmZlY3RpdmVBcGlLZXkiLCJsZW5ndGgiLCJoYXNFbnZBcGlLZXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/api-key.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/api.ts":
/*!************************!*\
  !*** ./src/lib/api.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   API_BASE_URL: () => (/* binding */ API_BASE_URL),\n/* harmony export */   ApiError: () => (/* binding */ ApiError),\n/* harmony export */   createSimulator: () => (/* binding */ createSimulator),\n/* harmony export */   deleteFutureReadings: () => (/* binding */ deleteFutureReadings),\n/* harmony export */   deleteSimulator: () => (/* binding */ deleteSimulator),\n/* harmony export */   fetchBlockHistory: () => (/* binding */ fetchBlockHistory),\n/* harmony export */   fetchLatestBlock: () => (/* binding */ fetchLatestBlock),\n/* harmony export */   getJson: () => (/* binding */ getJson),\n/* harmony export */   getLastReadingTimestamp: () => (/* binding */ getLastReadingTimestamp),\n/* harmony export */   getSimulators: () => (/* binding */ getSimulators),\n/* harmony export */   ingestReadings: () => (/* binding */ ingestReadings),\n/* harmony export */   simulatorEndpoint: () => (/* binding */ simulatorEndpoint),\n/* harmony export */   withWriteHeaders: () => (/* binding */ withWriteHeaders)\n/* harmony export */ });\n/* harmony import */ var _api_key__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api-key */ \"(rsc)/./src/lib/api-key.ts\");\n\n// Route all browser requests through a same-origin proxy to avoid CORS.\n// The proxy is implemented at /api/bridge/[...path].\n// This keeps the frontend free from cross-origin limitations.\nconst API_BASE_URL = \"/api/bridge\";\nconst RETRYABLE_STATUS = new Set([\n    429,\n    500,\n    502,\n    503,\n    504\n]);\nclass ApiError extends Error {\n    constructor(message, status, code, details){\n        super(message);\n        this.status = status;\n        this.code = code;\n        this.details = details;\n    }\n}\nfunction buildUrl(path) {\n    if (!API_BASE_URL) {\n        throw new ApiError(\"Backend base URL is not configured.\", 0);\n    }\n    if (path.startsWith(\"http\")) {\n        return path;\n    }\n    return `${API_BASE_URL}${path}`;\n}\nasync function parseJson(response) {\n    const text = await response.text();\n    if (!text) {\n        return undefined;\n    }\n    try {\n        return JSON.parse(text);\n    } catch (error) {\n        throw new ApiError(`Invalid JSON response: ${error.message}`, response.status);\n    }\n}\nasync function createApiError(response) {\n    let payload;\n    try {\n        payload = await response.clone().json();\n    } catch  {\n    // ignore â€” fallback to text below\n    }\n    if (!payload) {\n        try {\n            const text = await response.text();\n            if (text) {\n                return new ApiError(text, response.status);\n            }\n        } catch  {\n        // ignore\n        }\n    }\n    // Prefer explicit error message/code if provided by backend\n    let message = payload?.error?.message ?? payload?.message ?? response.statusText ?? `Request failed with status ${response.status}`;\n    let code = payload?.error?.code;\n    let details = payload?.error?.details;\n    // FastAPI-style validation errors: { detail: [...] }\n    // Extract and flatten messages to surface meaningful feedback in the UI.\n    if (payload && payload.detail) {\n        details = payload.detail;\n        try {\n            if (Array.isArray(payload.detail)) {\n                const msgs = payload.detail.map((d)=>d?.msg || d?.detail || \"Validation error\").filter(Boolean);\n                if (msgs.length > 0) {\n                    message = msgs.join(\"; \");\n                }\n            } else if (typeof payload.detail === \"string\") {\n                message = payload.detail;\n            }\n        } catch  {\n        // fallback to default message\n        }\n    }\n    return new ApiError(message, response.status, code, details);\n}\nfunction shouldRetry(status) {\n    return RETRYABLE_STATUS.has(status);\n}\nfunction delay(ms) {\n    return new Promise((resolve)=>setTimeout(resolve, ms));\n}\nasync function requestJson(path, init, options = {}) {\n    let url = buildUrl(path);\n    if (true) {\n        url = `http://localhost${url}`;\n    }\n    const retryDelays = options.retryDelays ?? [];\n    let attempt = 0;\n    // Always ensure we use credentialsless fetch\n    const mergedHeaders = new Headers(init?.headers);\n    mergedHeaders.set(\"Accept\", \"application/json\");\n    const requestInit = {\n        ...init,\n        headers: mergedHeaders\n    };\n    while(true){\n        try {\n            const response = await fetch(url, requestInit);\n            if (!response.ok) {\n                const error = await createApiError(response);\n                if (shouldRetry(response.status) && attempt < retryDelays.length) {\n                    await delay(retryDelays[attempt++]);\n                    continue;\n                }\n                throw error;\n            }\n            if (response.status === 204) {\n                return undefined;\n            }\n            return await parseJson(response);\n        } catch (error) {\n            if (error instanceof ApiError) {\n                throw error;\n            }\n            if (attempt < retryDelays.length) {\n                await delay(retryDelays[attempt++]);\n                continue;\n            }\n            throw error;\n        }\n    }\n}\nfunction withWriteHeaders(init) {\n    const headers = new Headers(init?.headers);\n    headers.set(\"Content-Type\", \"application/json\");\n    const apiKey = (0,_api_key__WEBPACK_IMPORTED_MODULE_0__.getEffectiveApiKey)();\n    if (apiKey) {\n        headers.set(\"x-api-key\", apiKey);\n    } else {\n        headers.delete(\"x-api-key\");\n    }\n    return {\n        ...init,\n        headers\n    };\n}\nasync function getJson(path, init) {\n    try {\n        return await requestJson(path, init);\n    } catch (error) {\n        // retry GET once on network failure (non ApiError)\n        if (!(error instanceof ApiError)) {\n            return await requestJson(path, init, {\n                retryDelays: [\n                    500\n                ]\n            });\n        }\n        throw error;\n    }\n}\nfunction simulatorEndpoint(path) {\n    return buildUrl(path);\n}\nasync function getSimulators() {\n    const payload = await getJson(\"/api/v1/simulators\");\n    if (Array.isArray(payload)) {\n        return payload;\n    }\n    return payload.data ?? [];\n}\nasync function createSimulator(input) {\n    // Backend expects a flat body (name, target_kwh, whatsapp_number?)\n    const response = await requestJson(\"/api/v1/simulators\", withWriteHeaders({\n        method: \"POST\",\n        body: JSON.stringify(input)\n    }), {\n        retryDelays: [\n            500,\n            1500,\n            3500\n        ]\n    });\n    if (\"data\" in response) {\n        return response.data;\n    }\n    return response;\n}\nasync function deleteSimulator(id) {\n    console.log(\"deleteSimulator called with id:\", id);\n    try {\n        await requestJson(`/api/v1/simulators/${id}`, withWriteHeaders({\n            method: \"DELETE\"\n        }), {\n            retryDelays: [\n                500,\n                1500\n            ]\n        });\n        console.log(\"deleteSimulator successful for id:\", id);\n    } catch (error) {\n        console.error(\"deleteSimulator error for id:\", id, error);\n        throw error;\n    }\n}\nasync function fetchLatestBlock(simulatorId) {\n    return await getJson(`/api/v1/blocks/latest?simulator_id=${encodeURIComponent(simulatorId)}`);\n}\nasync function fetchBlockHistory(simulatorId, limit = 10) {\n    const payload = await getJson(`/api/v1/blocks/history?simulator_id=${encodeURIComponent(simulatorId)}&limit=${limit}`);\n    if (Array.isArray(payload)) {\n        return payload;\n    }\n    return payload.data ?? [];\n}\nasync function ingestReadings(payload) {\n    await requestJson(\"/api/v1/readings:ingest\", withWriteHeaders({\n        method: \"POST\",\n        body: JSON.stringify(payload)\n    }), {\n        retryDelays: [\n            500,\n            1500,\n            3500\n        ]\n    });\n}\n/**\r\n * Delete future readings for a simulator.\r\n * This clears all readings with timestamps in the future relative to current time.\r\n * Used when starting a new simulation session to avoid showing old fast-forward data.\r\n */ async function deleteFutureReadings(simulatorId) {\n    try {\n        // Try DELETE endpoint with simulator_id and current timestamp\n        const now = new Date().toISOString();\n        await requestJson(`/api/v1/readings?simulator_id=${encodeURIComponent(simulatorId)}&before=${encodeURIComponent(now)}`, withWriteHeaders({\n            method: \"DELETE\"\n        }), {\n            retryDelays: [\n                500,\n                1500\n            ]\n        });\n    } catch (error) {\n        // If DELETE endpoint doesn't exist or fails, try alternative endpoint\n        // Some backends might use: DELETE /api/v1/simulators/{id}/readings\n        try {\n            await requestJson(`/api/v1/simulators/${encodeURIComponent(simulatorId)}/readings`, withWriteHeaders({\n                method: \"DELETE\"\n            }), {\n                retryDelays: [\n                    500,\n                    1500\n                ]\n            });\n        } catch (fallbackError) {\n            // If both fail, log warning but don't throw - simulator can still start\n            console.warn(\"Failed to delete future readings from backend:\", error, fallbackError);\n        // Don't throw - allow simulator to start even if cleanup fails\n        }\n    }\n}\n/**\r\n * Get the last reading timestamp for a simulator.\r\n * Returns the timestamp of the last reading, or null if no readings exist.\r\n * Always returns the latest reading timestamp regardless of whether it's past or future.\r\n */ async function getLastReadingTimestamp(simulatorId) {\n    try {\n        // Fetch latest block - if it has data, we can infer the last reading timestamp\n        const block = await fetchLatestBlock(simulatorId);\n        // If block has data points, estimate last reading time from block start + bin duration\n        if (block.chart_bins?.points && block.chart_bins.points.length > 0) {\n            const blockStart = new Date(block.block_start_local);\n            const binSeconds = block.chart_bins.bin_seconds || 30;\n            const numPoints = block.chart_bins.points.length;\n            // Last reading would be approximately at block start + (numPoints * binSeconds)\n            const lastReadingTime = new Date(blockStart.getTime() + numPoints * binSeconds * 1000);\n            return lastReadingTime.toISOString();\n        }\n        // If no data, return null (will start from current time)\n        return null;\n    } catch (error) {\n        // If fetch fails, return null (will start from current time)\n        console.warn(\"Failed to fetch last reading timestamp:\", error);\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TzlELE9BQU87UUFDZCw2REFBNkQ7UUFDN0RtRCxRQUFRYSxJQUFJLENBQUMsMkNBQTJDaEU7UUFDeEQsT0FBTztJQUNUO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ldGVybmFsZ3ktZW1zLWZyb250ZW5kLy4vc3JjL2xpYi9hcGkudHM/MmZhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRFZmZlY3RpdmVBcGlLZXkgfSBmcm9tIFwiLi9hcGkta2V5XCI7XHJcbmltcG9ydCB7IHR5cGUgQXBpRXJyb3JQYXlsb2FkLCB0eXBlIENyZWF0ZVNpbXVsYXRvcklucHV0LCB0eXBlIEhpc3RvcnlCbG9jaywgdHlwZSBJbmdlc3RSZXF1ZXN0LCB0eXBlIExhdGVzdEJsb2NrLCB0eXBlIFNpbXVsYXRvciwgdHlwZSBTaW11bGF0b3JMaXN0UmVzcG9uc2UgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5cclxuLy8gUm91dGUgYWxsIGJyb3dzZXIgcmVxdWVzdHMgdGhyb3VnaCBhIHNhbWUtb3JpZ2luIHByb3h5IHRvIGF2b2lkIENPUlMuXHJcbi8vIFRoZSBwcm94eSBpcyBpbXBsZW1lbnRlZCBhdCAvYXBpL2JyaWRnZS9bLi4ucGF0aF0uXHJcbi8vIFRoaXMga2VlcHMgdGhlIGZyb250ZW5kIGZyZWUgZnJvbSBjcm9zcy1vcmlnaW4gbGltaXRhdGlvbnMuXHJcbmV4cG9ydCBjb25zdCBBUElfQkFTRV9VUkwgPSBcIi9hcGkvYnJpZGdlXCI7XHJcblxyXG5jb25zdCBSRVRSWUFCTEVfU1RBVFVTID0gbmV3IFNldChbNDI5LCA1MDAsIDUwMiwgNTAzLCA1MDRdKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBBcGlFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICBzdGF0dXM6IG51bWJlcjtcclxuICBjb2RlPzogc3RyaW5nO1xyXG4gIGRldGFpbHM/OiB1bmtub3duO1xyXG5cclxuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIHN0YXR1czogbnVtYmVyLCBjb2RlPzogc3RyaW5nLCBkZXRhaWxzPzogdW5rbm93bikge1xyXG4gICAgc3VwZXIobWVzc2FnZSk7XHJcbiAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcclxuICAgIHRoaXMuY29kZSA9IGNvZGU7XHJcbiAgICB0aGlzLmRldGFpbHMgPSBkZXRhaWxzO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYnVpbGRVcmwocGF0aDogc3RyaW5nKSB7XHJcbiAgaWYgKCFBUElfQkFTRV9VUkwpIHtcclxuICAgIHRocm93IG5ldyBBcGlFcnJvcihcIkJhY2tlbmQgYmFzZSBVUkwgaXMgbm90IGNvbmZpZ3VyZWQuXCIsIDApO1xyXG4gIH1cclxuICBpZiAocGF0aC5zdGFydHNXaXRoKFwiaHR0cFwiKSkge1xyXG4gICAgcmV0dXJuIHBhdGg7XHJcbiAgfVxyXG4gIHJldHVybiBgJHtBUElfQkFTRV9VUkx9JHtwYXRofWA7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHBhcnNlSnNvbjxUPihyZXNwb25zZTogUmVzcG9uc2UpOiBQcm9taXNlPFQ+IHtcclxuICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xyXG4gIGlmICghdGV4dCkge1xyXG4gICAgcmV0dXJuIHVuZGVmaW5lZCBhcyBUO1xyXG4gIH1cclxuICB0cnkge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UodGV4dCkgYXMgVDtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgbmV3IEFwaUVycm9yKGBJbnZhbGlkIEpTT04gcmVzcG9uc2U6ICR7KGVycm9yIGFzIEVycm9yKS5tZXNzYWdlfWAsIHJlc3BvbnNlLnN0YXR1cyk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVBcGlFcnJvcihyZXNwb25zZTogUmVzcG9uc2UpOiBQcm9taXNlPEFwaUVycm9yPiB7XHJcbiAgbGV0IHBheWxvYWQ6IChBcGlFcnJvclBheWxvYWQgJiB7IGRldGFpbD86IHVua25vd24gfSkgfCB1bmRlZmluZWQ7XHJcbiAgdHJ5IHtcclxuICAgIHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5jbG9uZSgpLmpzb24oKTtcclxuICB9IGNhdGNoIHtcclxuICAgIC8vIGlnbm9yZSDigJQgZmFsbGJhY2sgdG8gdGV4dCBiZWxvd1xyXG4gIH1cclxuXHJcbiAgaWYgKCFwYXlsb2FkKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xyXG4gICAgICBpZiAodGV4dCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQXBpRXJyb3IodGV4dCwgcmVzcG9uc2Uuc3RhdHVzKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCB7XHJcbiAgICAgIC8vIGlnbm9yZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gUHJlZmVyIGV4cGxpY2l0IGVycm9yIG1lc3NhZ2UvY29kZSBpZiBwcm92aWRlZCBieSBiYWNrZW5kXHJcbiAgbGV0IG1lc3NhZ2UgPSBwYXlsb2FkPy5lcnJvcj8ubWVzc2FnZSA/PyBwYXlsb2FkPy5tZXNzYWdlID8/IHJlc3BvbnNlLnN0YXR1c1RleHQgPz8gYFJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzICR7cmVzcG9uc2Uuc3RhdHVzfWA7XHJcbiAgbGV0IGNvZGUgPSBwYXlsb2FkPy5lcnJvcj8uY29kZTtcclxuICBsZXQgZGV0YWlscyA9IHBheWxvYWQ/LmVycm9yPy5kZXRhaWxzO1xyXG5cclxuICAvLyBGYXN0QVBJLXN0eWxlIHZhbGlkYXRpb24gZXJyb3JzOiB7IGRldGFpbDogWy4uLl0gfVxyXG4gIC8vIEV4dHJhY3QgYW5kIGZsYXR0ZW4gbWVzc2FnZXMgdG8gc3VyZmFjZSBtZWFuaW5nZnVsIGZlZWRiYWNrIGluIHRoZSBVSS5cclxuICBpZiAocGF5bG9hZCAmJiBwYXlsb2FkLmRldGFpbCkge1xyXG4gICAgZGV0YWlscyA9IHBheWxvYWQuZGV0YWlsO1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGF5bG9hZC5kZXRhaWwpKSB7XHJcbiAgICAgICAgY29uc3QgbXNncyA9IChwYXlsb2FkLmRldGFpbCBhcyBBcnJheTx7IG1zZz86IHN0cmluZzsgbG9jPzogdW5rbm93bjsgZGV0YWlsPzogc3RyaW5nIH0+KS5cclxuICAgICAgICAgIG1hcCgoZCkgPT4gZD8ubXNnIHx8IGQ/LmRldGFpbCB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIilcclxuICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XHJcbiAgICAgICAgaWYgKG1zZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgbWVzc2FnZSA9IG1zZ3Muam9pbihcIjsgXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcGF5bG9hZC5kZXRhaWwgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICBtZXNzYWdlID0gcGF5bG9hZC5kZXRhaWw7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2gge1xyXG4gICAgICAvLyBmYWxsYmFjayB0byBkZWZhdWx0IG1lc3NhZ2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBuZXcgQXBpRXJyb3IobWVzc2FnZSwgcmVzcG9uc2Uuc3RhdHVzLCBjb2RlLCBkZXRhaWxzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvdWxkUmV0cnkoc3RhdHVzOiBudW1iZXIpIHtcclxuICByZXR1cm4gUkVUUllBQkxFX1NUQVRVUy5oYXMoc3RhdHVzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGVsYXkobXM6IG51bWJlcikge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xyXG59XHJcblxyXG50eXBlIFJlcXVlc3RPcHRpb25zID0ge1xyXG4gIHJldHJ5RGVsYXlzPzogbnVtYmVyW107XHJcbn07XHJcblxyXG5hc3luYyBmdW5jdGlvbiByZXF1ZXN0SnNvbjxUPihwYXRoOiBzdHJpbmcsIGluaXQ/OiBSZXF1ZXN0SW5pdCwgb3B0aW9uczogUmVxdWVzdE9wdGlvbnMgPSB7fSk6IFByb21pc2U8VD4ge1xyXG4gIGxldCB1cmwgPSBidWlsZFVybChwYXRoKTtcclxuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIHVybCA9IGBodHRwOi8vbG9jYWxob3N0JHt1cmx9YDtcclxuICB9XHJcbiAgY29uc3QgcmV0cnlEZWxheXMgPSBvcHRpb25zLnJldHJ5RGVsYXlzID8/IFtdO1xyXG4gIGxldCBhdHRlbXB0ID0gMDtcclxuXHJcbiAgLy8gQWx3YXlzIGVuc3VyZSB3ZSB1c2UgY3JlZGVudGlhbHNsZXNzIGZldGNoXHJcbiAgY29uc3QgbWVyZ2VkSGVhZGVycyA9IG5ldyBIZWFkZXJzKGluaXQ/LmhlYWRlcnMpO1xyXG4gIG1lcmdlZEhlYWRlcnMuc2V0KFwiQWNjZXB0XCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcclxuXHJcbiAgY29uc3QgcmVxdWVzdEluaXQ6IFJlcXVlc3RJbml0ID0ge1xyXG4gICAgLi4uaW5pdCxcclxuICAgIGhlYWRlcnM6IG1lcmdlZEhlYWRlcnNcclxuICB9O1xyXG5cclxuICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHJlcXVlc3RJbml0KTtcclxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IGVycm9yID0gYXdhaXQgY3JlYXRlQXBpRXJyb3IocmVzcG9uc2UpO1xyXG4gICAgICAgIGlmIChzaG91bGRSZXRyeShyZXNwb25zZS5zdGF0dXMpICYmIGF0dGVtcHQgPCByZXRyeURlbGF5cy5sZW5ndGgpIHtcclxuICAgICAgICAgIGF3YWl0IGRlbGF5KHJldHJ5RGVsYXlzW2F0dGVtcHQrK10pO1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQgYXMgVDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gYXdhaXQgcGFyc2VKc29uPFQ+KHJlc3BvbnNlKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEFwaUVycm9yKSB7XHJcbiAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGF0dGVtcHQgPCByZXRyeURlbGF5cy5sZW5ndGgpIHtcclxuICAgICAgICBhd2FpdCBkZWxheShyZXRyeURlbGF5c1thdHRlbXB0KytdKTtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB3aXRoV3JpdGVIZWFkZXJzKGluaXQ/OiBSZXF1ZXN0SW5pdCk6IFJlcXVlc3RJbml0IHtcclxuICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5pdD8uaGVhZGVycyk7XHJcbiAgaGVhZGVycy5zZXQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xyXG5cclxuICBjb25zdCBhcGlLZXkgPSBnZXRFZmZlY3RpdmVBcGlLZXkoKTtcclxuICBpZiAoYXBpS2V5KSB7XHJcbiAgICBoZWFkZXJzLnNldChcIngtYXBpLWtleVwiLCBhcGlLZXkpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBoZWFkZXJzLmRlbGV0ZShcIngtYXBpLWtleVwiKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICAuLi5pbml0LFxyXG4gICAgaGVhZGVyc1xyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRKc29uPFQ+KHBhdGg6IHN0cmluZywgaW5pdD86IFJlcXVlc3RJbml0KTogUHJvbWlzZTxUPiB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBhd2FpdCByZXF1ZXN0SnNvbjxUPihwYXRoLCBpbml0KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgLy8gcmV0cnkgR0VUIG9uY2Ugb24gbmV0d29yayBmYWlsdXJlIChub24gQXBpRXJyb3IpXHJcbiAgICBpZiAoIShlcnJvciBpbnN0YW5jZW9mIEFwaUVycm9yKSkge1xyXG4gICAgICByZXR1cm4gYXdhaXQgcmVxdWVzdEpzb248VD4ocGF0aCwgaW5pdCwgeyByZXRyeURlbGF5czogWzUwMF0gfSk7XHJcbiAgICB9XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaW11bGF0b3JFbmRwb2ludChwYXRoOiBzdHJpbmcpIHtcclxuICByZXR1cm4gYnVpbGRVcmwocGF0aCk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTaW11bGF0b3JzKCk6IFByb21pc2U8U2ltdWxhdG9yW10+IHtcclxuICBjb25zdCBwYXlsb2FkID0gYXdhaXQgZ2V0SnNvbjxTaW11bGF0b3JMaXN0UmVzcG9uc2U+KFwiL2FwaS92MS9zaW11bGF0b3JzXCIpO1xyXG4gIGlmIChBcnJheS5pc0FycmF5KHBheWxvYWQpKSB7XHJcbiAgICByZXR1cm4gcGF5bG9hZDtcclxuICB9XHJcbiAgcmV0dXJuIHBheWxvYWQuZGF0YSA/PyBbXTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVNpbXVsYXRvcihpbnB1dDogQ3JlYXRlU2ltdWxhdG9ySW5wdXQpOiBQcm9taXNlPFNpbXVsYXRvcj4ge1xyXG4gIC8vIEJhY2tlbmQgZXhwZWN0cyBhIGZsYXQgYm9keSAobmFtZSwgdGFyZ2V0X2t3aCwgd2hhdHNhcHBfbnVtYmVyPylcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RKc29uPFNpbXVsYXRvciB8IHsgZGF0YTogU2ltdWxhdG9yIH0+KFxyXG4gICAgXCIvYXBpL3YxL3NpbXVsYXRvcnNcIixcclxuICAgIHdpdGhXcml0ZUhlYWRlcnMoe1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShpbnB1dClcclxuICAgIH0pLFxyXG4gICAgeyByZXRyeURlbGF5czogWzUwMCwgMTUwMCwgMzUwMF0gfVxyXG4gICk7XHJcblxyXG4gIGlmIChcImRhdGFcIiBpbiByZXNwb25zZSkge1xyXG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcmVzcG9uc2U7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVTaW11bGF0b3IoaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGNvbnNvbGUubG9nKFwiZGVsZXRlU2ltdWxhdG9yIGNhbGxlZCB3aXRoIGlkOlwiLCBpZCk7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IHJlcXVlc3RKc29uPHZvaWQ+KFxyXG4gICAgICBgL2FwaS92MS9zaW11bGF0b3JzLyR7aWR9YCxcclxuICAgICAgd2l0aFdyaXRlSGVhZGVycyh7XHJcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICB9KSxcclxuICAgICAgeyByZXRyeURlbGF5czogWzUwMCwgMTUwMF0gfVxyXG4gICAgKTtcclxuICAgIGNvbnNvbGUubG9nKFwiZGVsZXRlU2ltdWxhdG9yIHN1Y2Nlc3NmdWwgZm9yIGlkOlwiLCBpZCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJkZWxldGVTaW11bGF0b3IgZXJyb3IgZm9yIGlkOlwiLCBpZCwgZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hMYXRlc3RCbG9jayhzaW11bGF0b3JJZDogc3RyaW5nKTogUHJvbWlzZTxMYXRlc3RCbG9jaz4ge1xyXG4gIHJldHVybiBhd2FpdCBnZXRKc29uPExhdGVzdEJsb2NrPihgL2FwaS92MS9ibG9ja3MvbGF0ZXN0P3NpbXVsYXRvcl9pZD0ke2VuY29kZVVSSUNvbXBvbmVudChzaW11bGF0b3JJZCl9YCk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaEJsb2NrSGlzdG9yeShzaW11bGF0b3JJZDogc3RyaW5nLCBsaW1pdCA9IDEwKTogUHJvbWlzZTxIaXN0b3J5QmxvY2tbXT4ge1xyXG4gIGNvbnN0IHBheWxvYWQgPSBhd2FpdCBnZXRKc29uPEhpc3RvcnlCbG9ja1tdIHwgeyBkYXRhOiBIaXN0b3J5QmxvY2tbXSB9PihcclxuICAgIGAvYXBpL3YxL2Jsb2Nrcy9oaXN0b3J5P3NpbXVsYXRvcl9pZD0ke2VuY29kZVVSSUNvbXBvbmVudChzaW11bGF0b3JJZCl9JmxpbWl0PSR7bGltaXR9YFxyXG4gICk7XHJcbiAgaWYgKEFycmF5LmlzQXJyYXkocGF5bG9hZCkpIHtcclxuICAgIHJldHVybiBwYXlsb2FkO1xyXG4gIH1cclxuICByZXR1cm4gcGF5bG9hZC5kYXRhID8/IFtdO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5nZXN0UmVhZGluZ3MocGF5bG9hZDogSW5nZXN0UmVxdWVzdCk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGF3YWl0IHJlcXVlc3RKc29uPHZvaWQ+KFxyXG4gICAgXCIvYXBpL3YxL3JlYWRpbmdzOmluZ2VzdFwiLFxyXG4gICAgd2l0aFdyaXRlSGVhZGVycyh7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpXHJcbiAgICB9KSxcclxuICAgIHsgcmV0cnlEZWxheXM6IFs1MDAsIDE1MDAsIDM1MDBdIH1cclxuICApO1xyXG59XHJcblxyXG4vKipcclxuICogRGVsZXRlIGZ1dHVyZSByZWFkaW5ncyBmb3IgYSBzaW11bGF0b3IuXHJcbiAqIFRoaXMgY2xlYXJzIGFsbCByZWFkaW5ncyB3aXRoIHRpbWVzdGFtcHMgaW4gdGhlIGZ1dHVyZSByZWxhdGl2ZSB0byBjdXJyZW50IHRpbWUuXHJcbiAqIFVzZWQgd2hlbiBzdGFydGluZyBhIG5ldyBzaW11bGF0aW9uIHNlc3Npb24gdG8gYXZvaWQgc2hvd2luZyBvbGQgZmFzdC1mb3J3YXJkIGRhdGEuXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlRnV0dXJlUmVhZGluZ3Moc2ltdWxhdG9ySWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBUcnkgREVMRVRFIGVuZHBvaW50IHdpdGggc2ltdWxhdG9yX2lkIGFuZCBjdXJyZW50IHRpbWVzdGFtcFxyXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xyXG4gICAgYXdhaXQgcmVxdWVzdEpzb248dm9pZD4oXHJcbiAgICAgIGAvYXBpL3YxL3JlYWRpbmdzP3NpbXVsYXRvcl9pZD0ke2VuY29kZVVSSUNvbXBvbmVudChzaW11bGF0b3JJZCl9JmJlZm9yZT0ke2VuY29kZVVSSUNvbXBvbmVudChub3cpfWAsXHJcbiAgICAgIHdpdGhXcml0ZUhlYWRlcnMoe1xyXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIlxyXG4gICAgICB9KSxcclxuICAgICAgeyByZXRyeURlbGF5czogWzUwMCwgMTUwMF0gfVxyXG4gICAgKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgLy8gSWYgREVMRVRFIGVuZHBvaW50IGRvZXNuJ3QgZXhpc3Qgb3IgZmFpbHMsIHRyeSBhbHRlcm5hdGl2ZSBlbmRwb2ludFxyXG4gICAgLy8gU29tZSBiYWNrZW5kcyBtaWdodCB1c2U6IERFTEVURSAvYXBpL3YxL3NpbXVsYXRvcnMve2lkfS9yZWFkaW5nc1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgcmVxdWVzdEpzb248dm9pZD4oXHJcbiAgICAgICAgYC9hcGkvdjEvc2ltdWxhdG9ycy8ke2VuY29kZVVSSUNvbXBvbmVudChzaW11bGF0b3JJZCl9L3JlYWRpbmdzYCxcclxuICAgICAgICB3aXRoV3JpdGVIZWFkZXJzKHtcclxuICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIlxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIHsgcmV0cnlEZWxheXM6IFs1MDAsIDE1MDBdIH1cclxuICAgICAgKTtcclxuICAgIH0gY2F0Y2ggKGZhbGxiYWNrRXJyb3IpIHtcclxuICAgICAgLy8gSWYgYm90aCBmYWlsLCBsb2cgd2FybmluZyBidXQgZG9uJ3QgdGhyb3cgLSBzaW11bGF0b3IgY2FuIHN0aWxsIHN0YXJ0XHJcbiAgICAgIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBkZWxldGUgZnV0dXJlIHJlYWRpbmdzIGZyb20gYmFja2VuZDpcIiwgZXJyb3IsIGZhbGxiYWNrRXJyb3IpO1xyXG4gICAgICAvLyBEb24ndCB0aHJvdyAtIGFsbG93IHNpbXVsYXRvciB0byBzdGFydCBldmVuIGlmIGNsZWFudXAgZmFpbHNcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIGxhc3QgcmVhZGluZyB0aW1lc3RhbXAgZm9yIGEgc2ltdWxhdG9yLlxyXG4gKiBSZXR1cm5zIHRoZSB0aW1lc3RhbXAgb2YgdGhlIGxhc3QgcmVhZGluZywgb3IgbnVsbCBpZiBubyByZWFkaW5ncyBleGlzdC5cclxuICogQWx3YXlzIHJldHVybnMgdGhlIGxhdGVzdCByZWFkaW5nIHRpbWVzdGFtcCByZWdhcmRsZXNzIG9mIHdoZXRoZXIgaXQncyBwYXN0IG9yIGZ1dHVyZS5cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRMYXN0UmVhZGluZ1RpbWVzdGFtcChzaW11bGF0b3JJZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIEZldGNoIGxhdGVzdCBibG9jayAtIGlmIGl0IGhhcyBkYXRhLCB3ZSBjYW4gaW5mZXIgdGhlIGxhc3QgcmVhZGluZyB0aW1lc3RhbXBcclxuICAgIGNvbnN0IGJsb2NrID0gYXdhaXQgZmV0Y2hMYXRlc3RCbG9jayhzaW11bGF0b3JJZCk7XHJcbiAgICBcclxuICAgIC8vIElmIGJsb2NrIGhhcyBkYXRhIHBvaW50cywgZXN0aW1hdGUgbGFzdCByZWFkaW5nIHRpbWUgZnJvbSBibG9jayBzdGFydCArIGJpbiBkdXJhdGlvblxyXG4gICAgaWYgKGJsb2NrLmNoYXJ0X2JpbnM/LnBvaW50cyAmJiBibG9jay5jaGFydF9iaW5zLnBvaW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IGJsb2NrU3RhcnQgPSBuZXcgRGF0ZShibG9jay5ibG9ja19zdGFydF9sb2NhbCk7XHJcbiAgICAgIGNvbnN0IGJpblNlY29uZHMgPSBibG9jay5jaGFydF9iaW5zLmJpbl9zZWNvbmRzIHx8IDMwO1xyXG4gICAgICBjb25zdCBudW1Qb2ludHMgPSBibG9jay5jaGFydF9iaW5zLnBvaW50cy5sZW5ndGg7XHJcbiAgICAgIC8vIExhc3QgcmVhZGluZyB3b3VsZCBiZSBhcHByb3hpbWF0ZWx5IGF0IGJsb2NrIHN0YXJ0ICsgKG51bVBvaW50cyAqIGJpblNlY29uZHMpXHJcbiAgICAgIGNvbnN0IGxhc3RSZWFkaW5nVGltZSA9IG5ldyBEYXRlKGJsb2NrU3RhcnQuZ2V0VGltZSgpICsgbnVtUG9pbnRzICogYmluU2Vjb25kcyAqIDEwMDApO1xyXG4gICAgICByZXR1cm4gbGFzdFJlYWRpbmdUaW1lLnRvSVNPU3RyaW5nKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIElmIG5vIGRhdGEsIHJldHVybiBudWxsICh3aWxsIHN0YXJ0IGZyb20gY3VycmVudCB0aW1lKVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIC8vIElmIGZldGNoIGZhaWxzLCByZXR1cm4gbnVsbCAod2lsbCBzdGFydCBmcm9tIGN1cnJlbnQgdGltZSlcclxuICAgIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBmZXRjaCBsYXN0IHJlYWRpbmcgdGltZXN0YW1wOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiZ2V0RWZmZWN0aXZlQXBpS2V5IiwiQVBJX0JBU0VfVVJMIiwiUkVUUllBQkxFX1NUQVRVUyIsIlNldCIsIkFwaUVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJjb2RlIiwiZGV0YWlscyIsImJ1aWxkVXJsIiwicGF0aCIsInN0YXJ0c1dpdGgiLCJwYXJzZUpzb24iLCJyZXNwb25zZSIsInRleHQiLCJ1bmRlZmluZWQiLCJKU09OIiwicGFyc2UiLCJlcnJvciIsImNyZWF0ZUFwaUVycm9yIiwicGF5bG9hZCIsImNsb25lIiwianNvbiIsInN0YXR1c1RleHQiLCJkZXRhaWwiLCJBcnJheSIsImlzQXJyYXkiLCJtc2dzIiwibWFwIiwiZCIsIm1zZyIsImZpbHRlciIsIkJvb2xlYW4iLCJsZW5ndGgiLCJqb2luIiwic2hvdWxkUmV0cnkiLCJoYXMiLCJkZWxheSIsIm1zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwicmVxdWVzdEpzb24iLCJpbml0Iiwib3B0aW9ucyIsInVybCIsInJldHJ5RGVsYXlzIiwiYXR0ZW1wdCIsIm1lcmdlZEhlYWRlcnMiLCJIZWFkZXJzIiwiaGVhZGVycyIsInNldCIsInJlcXVlc3RJbml0IiwiZmV0Y2giLCJvayIsIndpdGhXcml0ZUhlYWRlcnMiLCJhcGlLZXkiLCJkZWxldGUiLCJnZXRKc29uIiwic2ltdWxhdG9yRW5kcG9pbnQiLCJnZXRTaW11bGF0b3JzIiwiZGF0YSIsImNyZWF0ZVNpbXVsYXRvciIsImlucHV0IiwibWV0aG9kIiwiYm9keSIsInN0cmluZ2lmeSIsImRlbGV0ZVNpbXVsYXRvciIsImlkIiwiY29uc29sZSIsImxvZyIsImZldGNoTGF0ZXN0QmxvY2siLCJzaW11bGF0b3JJZCIsImVuY29kZVVSSUNvbXBvbmVudCIsImZldGNoQmxvY2tIaXN0b3J5IiwibGltaXQiLCJpbmdlc3RSZWFkaW5ncyIsImRlbGV0ZUZ1dHVyZVJlYWRpbmdzIiwibm93IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZmFsbGJhY2tFcnJvciIsIndhcm4iLCJnZXRMYXN0UmVhZGluZ1RpbWVzdGFtcCIsImJsb2NrIiwiY2hhcnRfYmlucyIsInBvaW50cyIsImJsb2NrU3RhcnQiLCJibG9ja19zdGFydF9sb2NhbCIsImJpblNlY29uZHMiLCJiaW5fc2Vjb25kcyIsIm51bVBvaW50cyIsImxhc3RSZWFkaW5nVGltZSIsImdldFRpbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/api.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/recharts","vendor-chunks/lodash","vendor-chunks/d3-shape","vendor-chunks/react-smooth","vendor-chunks/decimal.js-light","vendor-chunks/d3-scale","vendor-chunks/react-transition-group","vendor-chunks/prop-types","vendor-chunks/fast-equals","vendor-chunks/d3-time-format","vendor-chunks/recharts-scale","vendor-chunks/d3-time","vendor-chunks/d3-format","vendor-chunks/d3-array","vendor-chunks/d3-color","vendor-chunks/eventemitter3","vendor-chunks/d3-interpolate","vendor-chunks/react-is","vendor-chunks/d3-path","vendor-chunks/@swc","vendor-chunks/object-assign","vendor-chunks/internmap","vendor-chunks/@babel","vendor-chunks/victory-vendor","vendor-chunks/tiny-invariant","vendor-chunks/clsx"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fdashboard%2Fpage&page=%2Fdashboard%2Fpage&appPaths=%2Fdashboard%2Fpage&pagePath=private-next-app-dir%2Fdashboard%2Fpage.tsx&appDir=E%3A%5CEEMS-Front%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CEEMS-Front&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();