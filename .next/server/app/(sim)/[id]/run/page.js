(()=>{var e={};e.id=998,e.ids=[998],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},26325:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>d}),n(86512),n(35866),n(53871);var s=n(23191),r=n(88716),a=n(37922),i=n.n(a),o=n(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);n.d(t,l);let d=["",{children:["(sim)",{children:["[id]",{children:["run",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,86512)),"E:\\EEMS-Front\\src\\app\\(sim)\\[id]\\run\\page.tsx"]}]},{}]},{}]},{"not-found":[()=>Promise.resolve().then(n.t.bind(n,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(n.bind(n,53871)),"E:\\EEMS-Front\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,35866,23)),"next/dist/client/components/not-found-error"]}],u=["E:\\EEMS-Front\\src\\app\\(sim)\\[id]\\run\\page.tsx"],c="/(sim)/[id]/run/page",m={require:n,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(sim)/[id]/run/page",pathname:"/[id]/run",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},25993:(e,t,n)=>{Promise.resolve().then(n.bind(n,42266))},42266:(e,t,n)=>{"use strict";n.d(t,{SimulatorRunContent:()=>d});var s=n(10326),r=n(17577),a=n(90434),i=n(42898),o=n(54053),l=n(902);function d({simulatorId:e,simulatorName:t,targetKwh:n}){let[d,u]=(0,r.useState)(320),[c,m]=(0,r.useState)(12),[p,x]=(0,r.useState)(.5),[g,h]=(0,r.useState)(800),f=(0,r.useMemo)(()=>p*g,[p,g]),b=(0,l.V)(e,d,c),v=(0,l.o)(e,()=>f),S=()=>{b.isRunning?b.stop():(v.stop(),b.start())},y=()=>{v.isRunning?v.stop():(b.stop(),v.start())};return(0,s.jsxs)("section",{className:"space-y-10",children:[(0,s.jsxs)("header",{className:"flex flex-wrap items-end justify-between gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"Simulator controls"}),s.jsx("h1",{className:"text-3xl font-semibold text-white",children:t}),s.jsx("p",{className:"text-sm text-slate-400",children:"Configure auto and manual emitters. Only one mode can run at a time to avoid duplicate ticks."}),(0,s.jsxs)("p",{className:"text-xs text-slate-500",children:["Target block: ",n?`${n} kWh`:"â€”"," \xb7 Timezone ","Asia/Kuala_Lumpur"]})]}),s.jsx(a.default,{href:{pathname:"/sim/[id]",query:{id:e}},className:"inline-flex items-center rounded-md border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-200 transition hover:border-slate-500 hover:text-white",children:"Back to dashboard"})]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsx(i.l,{baseKw:d,onBaseKwChange:u,volatility:c,onVolatilityChange:m,isRunning:b.isRunning,onStart:S,onStop:S,sentCount:b.sentCount,lastSentAt:b.lastSentAt,disabled:v.isRunning,disabledReason:v.isRunning?"Manual emitter is active. Stop it before running auto mode.":void 0}),s.jsx(o.x,{sliderValue:p,onSliderChange:x,maxKw:g,onMaxKwChange:h,isRunning:v.isRunning,onStart:y,onStop:y,sentCount:v.sentCount,lastSentAt:v.lastSentAt,disabled:b.isRunning,disabledReason:b.isRunning?"Auto emitter is active. Stop it before running manual mode.":void 0})]}),(0,s.jsxs)("p",{className:"text-xs text-slate-500",children:["Auto mode sends gaussianised readings every 15 seconds; manual fast-forward emits every second with ",s.jsx("code",{className:"rounded bg-slate-800 px-1 py-0.5",children:"sample_seconds=30"})," so the backend advances by 30 seconds per tick (30x speed)."]})]})}},86512:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var s=n(19510),r=n(68570);let a=(0,r.createProxy)(String.raw`E:\EEMS-Front\src\components\run\simulator-run-content.tsx`),{__esModule:i,$$typeof:o}=a;a.default;let l=(0,r.createProxy)(String.raw`E:\EEMS-Front\src\components\run\simulator-run-content.tsx#SimulatorRunContent`);var d=n(9905);async function u({params:e}){let t;let n=e.id,r=`Simulator ${n}`;try{let e=(await (0,d.Mf)()).find(e=>e.id===n);e&&(r=e.name,t=e.target_kwh)}catch(e){console.error("Failed to load simulator metadata",e)}return s.jsx(l,{simulatorId:n,simulatorName:r,targetKwh:t})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),s=t.X(0,[948,808,987,954,548],()=>n(26325));module.exports=s})();