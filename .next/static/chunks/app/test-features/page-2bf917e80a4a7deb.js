(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[508],{43295:function(e,t,s){Promise.resolve().then(s.bind(s,17728))},20357:function(e,t,s){"use strict";var r,n;e.exports=(null==(r=s.g.process)?void 0:r.env)&&"object"==typeof(null==(n=s.g.process)?void 0:n.env)?s.g.process:s(88081)},88081:function(e){!function(){var t={229:function(e){var t,s,r,n=e.exports={};function a(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(s){try{return t.call(null,e,0)}catch(s){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{s="function"==typeof clearTimeout?clearTimeout:i}catch(e){s=i}}();var l=[],c=!1,d=-1;function u(){c&&r&&(c=!1,r.length?l=r.concat(l):d=-1,l.length&&h())}function h(){if(!c){var e=o(u);c=!0;for(var t=l.length;t;){for(r=l,l=[];++d<t;)r&&r[d].run();d=-1,t=l.length}r=null,c=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===i||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];l.push(new m(e,t)),1!==l.length||c||o(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},s={};function r(e){var n=s[e];if(void 0!==n)return n.exports;var a=s[e]={exports:{}},i=!0;try{t[e](a,a.exports,r),i=!1}finally{i&&delete s[e]}return a.exports}r.ab="//";var n=r(229);e.exports=n}()},17728:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var r=s(57437),n=s(2265);let a=s(20357).env.NEXT_PUBLIC_WHATSAPP_API_URL||"https://whatsapp-api-server-production-c15f.up.railway.app";async function i(e){try{let t=await fetch("".concat(a,"/api/send"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({to:e.to,message:e.message})});if(!t.ok){let e=await t.text();return{success:!1,error:"Failed to send message: ".concat(t.status," ").concat(t.statusText,". ").concat(e)}}let s=await t.json();return{success:!0,message:s.message||"Message sent successfully"}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error occurred"}}}async function o(){try{let e=await fetch("".concat(a,"/api/status"),{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)return{status:"error",connected:!1};let t=await e.json();return{status:t.status||"unknown",connected:!0===t.connected}}catch(e){return{status:"error",connected:!1}}}async function l(){try{let e=await fetch("".concat(a,"/api/qr"),{method:"GET"});if(!e.ok)return null;let t=await e.blob();return new Promise(e=>{let s=new FileReader;s.onloadend=()=>e(s.result),s.readAsDataURL(t)})}catch(e){return null}}var c=s(46068);let d=n.forwardRef(function(e,t){let{title:s,titleId:r,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}),u=n.forwardRef(function(e,t){let{title:s,titleId:r,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),s?n.createElement("title",{id:r},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))});var h=s(20357);function m(){let{push:e}=(0,c.p)(),[t,s]=(0,n.useState)(""),[a,m]=(0,n.useState)(""),[p,x]=(0,n.useState)(!1),[f,b]=(0,n.useState)(null),[v,g]=(0,n.useState)(null),[w,j]=(0,n.useState)(!1),[y,N]=(0,n.useState)(!1),k=async()=>{if(!t.trim()||!a.trim()){e({title:"Validation Error",description:"Please enter both recipient number and message",variant:"error"});return}x(!0);try{let s=await i({to:t.trim(),message:a.trim()});s.success?(e({title:"Message Sent",description:s.message||"WhatsApp message sent successfully",variant:"success"}),m("")):e({title:"Failed to Send",description:s.error||"Unknown error occurred",variant:"error"})}catch(t){e({title:"Error",description:t instanceof Error?t.message:"Failed to send message",variant:"error"})}finally{x(!1)}},T=async()=>{j(!0);try{let t=await o();b(t),e({title:"Status Checked",description:"WhatsApp is ".concat(t.connected?"connected":"not connected",". Status: ").concat(t.status),variant:t.connected?"success":"warning"})}catch(t){e({title:"Error",description:t instanceof Error?t.message:"Failed to check status",variant:"error"})}finally{j(!1)}},E=async()=>{N(!0);try{let t=await l();t?(g(t),e({title:"QR Code Loaded",description:"Scan this QR code with WhatsApp to link your device",variant:"success"})):e({title:"Error",description:"Failed to load QR code",variant:"error"})}catch(t){e({title:"Error",description:t instanceof Error?t.message:"Failed to get QR code",variant:"error"})}finally{N(!1)}};return(0,r.jsxs)("section",{className:"space-y-8",children:[(0,r.jsxs)("header",{children:[(0,r.jsx)("h1",{className:"text-3xl font-semibold text-white",children:"Test Features"}),(0,r.jsx)("p",{className:"text-sm text-slate-400 mt-2",children:"Test WhatsApp notification features and API integration"})]}),(0,r.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,r.jsxs)("article",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[(0,r.jsxs)("header",{className:"mb-6",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[(0,r.jsx)(d,{className:"h-6 w-6"}),"Send WhatsApp Message"]}),(0,r.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Send a test message to a WhatsApp number"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Recipient Number"}),(0,r.jsx)("input",{type:"tel",value:t,onChange:e=>s(e.target.value),placeholder:"+1234567890",className:"w-full rounded-md border border-slate-700 bg-slate-800 px-4 py-2 text-sm text-white placeholder:text-slate-500 focus:border-purple-400 focus:outline-none",disabled:p}),(0,r.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Include country code (e.g., +60123456789)"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Message"}),(0,r.jsx)("textarea",{value:a,onChange:e=>m(e.target.value),placeholder:"Enter your message here...",rows:5,className:"w-full rounded-md border border-slate-700 bg-slate-800 px-4 py-2 text-sm text-white placeholder:text-slate-500 focus:border-purple-400 focus:outline-none resize-none",disabled:p})]}),(0,r.jsx)("button",{onClick:k,disabled:p||!t.trim()||!a.trim(),className:"w-full rounded-md bg-primary px-4 py-2 text-sm font-medium text-white transition hover:bg-primary/90 disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:bg-primary min-h-[44px]",children:p?"Sending...":"Send Message"})]})]}),(0,r.jsxs)("article",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[(0,r.jsxs)("header",{className:"mb-6",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[(0,r.jsx)(u,{className:"h-6 w-6"}),"WhatsApp Connection"]}),(0,r.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Check connection status and get QR code"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{onClick:T,disabled:w,className:"w-full rounded-md border border-slate-700 bg-slate-800 px-4 py-2 text-sm font-medium text-slate-200 transition hover:bg-slate-700 disabled:cursor-not-allowed disabled:opacity-50 min-h-[44px]",children:w?"Checking...":"Check Connection Status"}),f&&(0,r.jsxs)("div",{className:"mt-3 rounded-md border border-slate-700 bg-slate-800/50 p-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-slate-300",children:"Status:"}),(0,r.jsx)("span",{className:"text-sm font-medium ".concat(f.connected?"text-green-400":"text-red-400"),children:f.connected?"Connected":"Not Connected"})]}),(0,r.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-slate-300",children:"State:"}),(0,r.jsx)("span",{className:"text-sm text-slate-200",children:f.status})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{onClick:E,disabled:y,className:"w-full rounded-md border border-slate-700 bg-slate-800 px-4 py-2 text-sm font-medium text-slate-200 transition hover:bg-slate-700 disabled:cursor-not-allowed disabled:opacity-50 min-h-[44px]",children:y?"Loading...":"Get QR Code"}),v&&(0,r.jsx)("div",{className:"mt-3 flex justify-center",children:(0,r.jsx)("img",{src:v,alt:"WhatsApp QR Code",className:"rounded-md border border-slate-700 max-w-full"})})]})]})]})]}),(0,r.jsxs)("div",{className:"rounded-lg border border-slate-800 bg-slate-900/60 p-4",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-slate-200 mb-2",children:"API Information"}),(0,r.jsxs)("div",{className:"text-xs text-slate-400 space-y-1",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"API URL:"})," ",h.env.NEXT_PUBLIC_WHATSAPP_API_URL||"https://whatsapp-api-server-production-c15f.up.railway.app"]}),(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:"Endpoints:"})}),(0,r.jsxs)("ul",{className:"list-disc list-inside ml-2 space-y-1",children:[(0,r.jsx)("li",{children:"POST /api/send - Send WhatsApp message"}),(0,r.jsx)("li",{children:"GET /api/status - Get connection status"}),(0,r.jsx)("li",{children:"GET /api/qr - Get QR code for device linking"})]})]})]})]})}},46068:function(e,t,s){"use strict";s.d(t,{ToastProvider:function(){return o},p:function(){return l}});var r=s(57437),n=s(2265),a=s(44839);let i=(0,n.createContext)(void 0);function o(e){let{children:t}=e,[s,a]=(0,n.useState)([]),o=(0,n.useCallback)(e=>{let t="".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,8));return a(s=>[...s,{...e,id:t}]),t},[]),l=(0,n.useCallback)(e=>{a(t=>t.filter(t=>t.id!==e))},[]),d=(0,n.useCallback)(()=>a([]),[]),u=(0,n.useMemo)(()=>({toasts:s,push:o,dismiss:l,clear:d}),[s,o,l,d]);return(0,r.jsxs)(i.Provider,{value:u,children:[t,(0,r.jsx)(c,{toasts:s,onDismiss:l})]})}function l(){let e=(0,n.useContext)(i);if(!e)throw Error("useToast must be used within a ToastProvider");return e}function c(e){let{toasts:t,onDismiss:s}=e;return(0,r.jsx)("div",{className:"pointer-events-none fixed inset-x-0 top-4 z-50 flex flex-col items-end gap-3 px-4 sm:items-end sm:px-6",children:t.map(e=>(0,r.jsx)(d,{toast:e,onDismiss:s},e.id))})}function d(e){var t,s;let{toast:n,onDismiss:i}=e,o=null!==(t=n.variant)&&void 0!==t?t:"default";return(0,r.jsx)("div",{className:(0,a.Z)("pointer-events-auto w-full max-w-sm rounded-lg px-4 py-3 shadow-lg ring-1 ring-black/20 backdrop-blur","success"===o?"bg-emerald-500/90 text-white":"error"===o?"bg-red-500/90 text-white":"warning"===o?"bg-amber-500/90 text-black":"bg-slate-800/90 text-white"),role:"status",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,r.jsx)("p",{className:"text-sm font-semibold leading-tight",children:n.title}),n.description?(0,r.jsx)("p",{className:"text-xs leading-tight",children:n.description}):null,n.action?(0,r.jsx)("button",{type:"button",onClick:()=>{var e;null===(e=n.action)||void 0===e||e.onClick(),i(n.id)},className:"mt-2 inline-flex rounded-md border border-white/30 px-2 py-1 text-xs font-semibold text-white transition hover:border-white hover:bg-white/10",children:n.action.label}):null]}),(null===(s=n.dismissible)||void 0===s||s)&&(0,r.jsx)("button",{type:"button",onClick:()=>i(n.id),className:"-m-1 rounded-md p-1 text-xs opacity-70 transition hover:opacity-100","aria-label":"Dismiss notification",children:"âœ•"})]})})}},44839:function(e,t,s){"use strict";t.Z=function(){for(var e,t,s=0,r="",n=arguments.length;s<n;s++)(e=arguments[s])&&(t=function e(t){var s,r,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t){if(Array.isArray(t)){var a=t.length;for(s=0;s<a;s++)t[s]&&(r=e(t[s]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r)}return n}(e))&&(r&&(r+=" "),r+=t);return r}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=43295)}),_N_E=e.O()}]);