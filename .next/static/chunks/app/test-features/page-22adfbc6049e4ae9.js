(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[508],{43295:function(e,t,s){Promise.resolve().then(s.bind(s,30714))},20357:function(e,t,s){"use strict";var n,r;e.exports=(null==(n=s.g.process)?void 0:n.env)&&"object"==typeof(null==(r=s.g.process)?void 0:r.env)?s.g.process:s(88081)},88081:function(e){!function(){var t={229:function(e){var t,s,n,r=e.exports={};function a(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(s){try{return t.call(null,e,0)}catch(s){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{s="function"==typeof clearTimeout?clearTimeout:i}catch(e){s=i}}();var l=[],c=!1,d=-1;function u(){c&&n&&(c=!1,n.length?l=n.concat(l):d=-1,l.length&&m())}function m(){if(!c){var e=o(u);c=!0;for(var t=l.length;t;){for(n=l,l=[];++d<t;)n&&n[d].run();d=-1,t=l.length}n=null,c=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===i||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];l.push(new p(e,t)),1!==l.length||c||o(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}}},s={};function n(e){var r=s[e];if(void 0!==r)return r.exports;var a=s[e]={exports:{}},i=!0;try{t[e](a,a.exports,n),i=!1}finally{i&&delete s[e]}return a.exports}n.ab="//";var r=n(229);e.exports=r}()},30714:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var n=s(57437),r=s(2265);let a=s(20357).env.NEXT_PUBLIC_WHATSAPP_API_URL||"https://whatsapp-api-server-production-c15f.up.railway.app";async function i(e){try{let t=await fetch("".concat(a,"/api/send"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({to:e.to,message:e.message})});if(!t.ok){let e=await t.text();return{success:!1,error:"Failed to send message: ".concat(t.status," ").concat(t.statusText,". ").concat(e)}}let s=await t.json();return{success:!0,message:s.message||"Message sent successfully"}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error occurred"}}}async function o(){try{let e=await fetch("".concat(a,"/api/status"),{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)return{status:"error",connected:!1};let t=await e.json();return{status:t.status||"unknown",connected:!0===t.connected}}catch(e){return{status:"error",connected:!1}}}var l=s(46068);let c=r.forwardRef(function(e,t){let{title:s,titleId:n,...a}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}),d=r.forwardRef(function(e,t){let{title:s,titleId:n,...a}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),s?r.createElement("title",{id:n},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.348 14.652a3.75 3.75 0 0 1 0-5.304m5.304 0a3.75 3.75 0 0 1 0 5.304m-7.425 2.121a6.75 6.75 0 0 1 0-9.546m9.546 0a6.75 6.75 0 0 1 0 9.546M5.106 18.894c-3.808-3.807-3.808-9.98 0-13.788m13.788 0c3.808 3.807 3.808 9.98 0 13.788M12 12h.008v.008H12V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))});var u=s(20357);function m(){let{push:e}=(0,l.p)(),[t,s]=(0,r.useState)(""),[a,m]=(0,r.useState)(""),[p,h]=(0,r.useState)(!1),[x,f]=(0,r.useState)(null),[b,g]=(0,r.useState)(!1),v=async()=>{if(!t.trim()||!a.trim()){e({title:"Validation Error",description:"Please enter both recipient number and message",variant:"error"});return}h(!0);try{let s=await i({to:t.trim(),message:a.trim()});s.success?(e({title:"Message Sent",description:s.message||"WhatsApp message sent successfully",variant:"success"}),m("")):e({title:"Failed to Send",description:s.error||"Unknown error occurred",variant:"error"})}catch(t){e({title:"Error",description:t instanceof Error?t.message:"Failed to send message",variant:"error"})}finally{h(!1)}},j=async()=>{g(!0);try{let t=await o();f(t),e({title:"Status Checked",description:"WhatsApp is ".concat(t.connected?"connected":"not connected",". Status: ").concat(t.status),variant:t.connected?"success":"warning"})}catch(t){e({title:"Error",description:t instanceof Error?t.message:"Failed to check status",variant:"error"})}finally{g(!1)}};return(0,n.jsxs)("section",{className:"space-y-8",children:[(0,n.jsxs)("header",{children:[(0,n.jsx)("h1",{className:"text-3xl font-semibold text-white",children:"Test Features"}),(0,n.jsx)("p",{className:"text-sm text-slate-400 mt-2",children:"Test WhatsApp notification features and API integration"})]}),(0,n.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,n.jsxs)("article",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[(0,n.jsxs)("header",{className:"mb-6",children:[(0,n.jsxs)("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[(0,n.jsx)(c,{className:"h-6 w-6"}),"Send WhatsApp Message"]}),(0,n.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Send a test message to a WhatsApp number"})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Recipient Number"}),(0,n.jsx)("input",{type:"tel",value:t,onChange:e=>s(e.target.value),placeholder:"+1234567890",className:"w-full rounded-md border border-slate-700 bg-slate-800 px-4 py-2 text-sm text-white placeholder:text-slate-500 focus:border-purple-400 focus:outline-none",disabled:p}),(0,n.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Include country code (e.g., +60123456789)"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Message"}),(0,n.jsx)("textarea",{value:a,onChange:e=>m(e.target.value),placeholder:"Enter your message here...",rows:5,className:"w-full rounded-md border border-slate-700 bg-slate-800 px-4 py-2 text-sm text-white placeholder:text-slate-500 focus:border-purple-400 focus:outline-none resize-none",disabled:p})]}),(0,n.jsx)("button",{onClick:v,disabled:p||!t.trim()||!a.trim(),className:"w-full rounded-md bg-primary px-4 py-2 text-sm font-medium text-white transition hover:bg-primary/90 disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:bg-primary min-h-[44px]",children:p?"Sending...":"Send Message"})]})]}),(0,n.jsxs)("article",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[(0,n.jsxs)("header",{className:"mb-6",children:[(0,n.jsxs)("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[(0,n.jsx)(d,{className:"h-6 w-6"}),"WhatsApp Connection Status"]}),(0,n.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Check WhatsApp connection status"})]}),(0,n.jsx)("div",{className:"space-y-4",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{onClick:j,disabled:b,className:"w-full rounded-md border border-slate-700 bg-slate-800 px-4 py-2 text-sm font-medium text-slate-200 transition hover:bg-slate-700 disabled:cursor-not-allowed disabled:opacity-50 min-h-[44px]",children:b?"Checking...":"Check Connection Status"}),x&&(0,n.jsxs)("div",{className:"mt-3 rounded-md border border-slate-700 bg-slate-800/50 p-3",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-sm text-slate-300",children:"Status:"}),(0,n.jsx)("span",{className:"text-sm font-medium ".concat(x.connected?"text-green-400":"text-red-400"),children:x.connected?"Connected":"Not Connected"})]}),(0,n.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-sm text-slate-300",children:"State:"}),(0,n.jsx)("span",{className:"text-sm text-slate-200",children:x.status})]})]})]})})]})]}),(0,n.jsxs)("div",{className:"rounded-lg border border-slate-800 bg-slate-900/60 p-4",children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-slate-200 mb-2",children:"API Information"}),(0,n.jsxs)("div",{className:"text-xs text-slate-400 space-y-1",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"API URL:"})," ",u.env.NEXT_PUBLIC_WHATSAPP_API_URL||"https://whatsapp-api-server-production-c15f.up.railway.app"]}),(0,n.jsx)("p",{children:(0,n.jsx)("strong",{children:"Endpoints:"})}),(0,n.jsxs)("ul",{className:"list-disc list-inside ml-2 space-y-1",children:[(0,n.jsx)("li",{children:"POST /api/send - Send WhatsApp message"}),(0,n.jsx)("li",{children:"GET /api/status - Get connection status"})]})]})]})]})}},46068:function(e,t,s){"use strict";s.d(t,{ToastProvider:function(){return o},p:function(){return l}});var n=s(57437),r=s(2265),a=s(44839);let i=(0,r.createContext)(void 0);function o(e){let{children:t}=e,[s,a]=(0,r.useState)([]),o=(0,r.useCallback)(e=>{let t="".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,8));return a(s=>[...s,{...e,id:t}]),t},[]),l=(0,r.useCallback)(e=>{a(t=>t.filter(t=>t.id!==e))},[]),d=(0,r.useCallback)(()=>a([]),[]),u=(0,r.useMemo)(()=>({toasts:s,push:o,dismiss:l,clear:d}),[s,o,l,d]);return(0,n.jsxs)(i.Provider,{value:u,children:[t,(0,n.jsx)(c,{toasts:s,onDismiss:l})]})}function l(){let e=(0,r.useContext)(i);if(!e)throw Error("useToast must be used within a ToastProvider");return e}function c(e){let{toasts:t,onDismiss:s}=e;return(0,n.jsx)("div",{className:"pointer-events-none fixed inset-x-0 top-20 z-40 flex flex-col items-end gap-3 px-4 sm:items-end sm:px-6",children:t.map(e=>(0,n.jsx)(d,{toast:e,onDismiss:s},e.id))})}function d(e){var t,s;let{toast:r,onDismiss:i}=e,o=null!==(t=r.variant)&&void 0!==t?t:"default";return(0,n.jsx)("div",{className:(0,a.Z)("pointer-events-auto w-full max-w-sm rounded-lg px-4 py-3 shadow-lg ring-1 ring-black/20 backdrop-blur","success"===o?"bg-emerald-500/90 text-white":"error"===o?"bg-red-500/90 text-white":"warning"===o?"bg-amber-500/90 text-black":"bg-slate-800/90 text-white"),role:"status",children:(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[(0,n.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,n.jsx)("p",{className:"text-sm font-semibold leading-tight",children:r.title}),r.description?(0,n.jsx)("p",{className:"text-xs leading-tight",children:r.description}):null,r.action?(0,n.jsx)("button",{type:"button",onClick:()=>{var e;null===(e=r.action)||void 0===e||e.onClick(),i(r.id)},className:"mt-2 inline-flex rounded-md border border-white/30 px-2 py-1 text-xs font-semibold text-white transition hover:border-white hover:bg-white/10",children:r.action.label}):null]}),(null===(s=r.dismissible)||void 0===s||s)&&(0,n.jsx)("button",{type:"button",onClick:()=>i(r.id),className:"-m-1 rounded-md p-1 text-xs opacity-70 transition hover:opacity-100","aria-label":"Dismiss notification",children:"âœ•"})]})})}},44839:function(e,t,s){"use strict";t.Z=function(){for(var e,t,s=0,n="",r=arguments.length;s<r;s++)(e=arguments[s])&&(t=function e(t){var s,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t){if(Array.isArray(t)){var a=t.length;for(s=0;s<a;s++)t[s]&&(n=e(t[s]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n)}return r}(e))&&(n&&(n+=" "),n+=t);return n}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=43295)}),_N_E=e.O()}]);